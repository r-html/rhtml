(function () {var hd=this;var I={};var kg={};var i={},im=i&&i.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]}),id=i&&i.__exportStar||function(e,r){for(var $ in e)"default"===$||Object.prototype.hasOwnProperty.call(r,$)||im(r,e,$)};var jd,jm,km=false;function lm(t,a,e,$){return t.reverse().forEach(t=>{$=t(a,e,$)||$}),$}function mm(t,a){return t.reverse().forEach(t=>{const e=t(a);e&&(a=e)}),a}function nm(t,a,e,$){if(!Array.isArray(t)||0===t.length)throw new TypeError;return void 0!==e?lm(t,a,e,$):"function"==typeof a?mm(t,a):void 0}function lg(t,a){return jd.get(t)&&jd.get(t).get(a)}function kd(t,a,e){if(void 0===a)throw new TypeError;const $=lg(a,e);return $&&$.get(t)}function om(t,a){const e=jd.get(t)||new Map;jd.set(t,e);const $=e.get(a)||new Map;return e.set(a,$),$}function mg(t,a,e,$){if($&&!["string","symbol"].includes(typeof $))throw new TypeError;(lg(e,$)||om(e,$)).set(t,a)}function Ae(t,a,e){return kd(t,a,e)?kd(t,a,e):Object.getPrototypeOf(a)?Ae(t,Object.getPrototypeOf(a),e):void 0}function pm(t,a){return function(e,$){mg(t,a,e,$)}}function qm(t,a,e){return Ae(t,a,e)}function rm(t,a,e){return kd(t,a,e)}function sm(t,a,e){return!!kd(t,a,e)}function tm(t,a,e){return!!Ae(t,a,e)}function um(t,a,e,$){mg(t,a,e,$)}function ng(){if(km)return;km=true;jd=new WeakMap;jm={decorate:nm,defineMetadata:um,getMetadata:qm,getOwnMetadata:rm,hasMetadata:tm,hasOwnMetadata:sm,metadata:pm};Object.assign(Reflect,jm)}var jb,og,pg,qg,vm=false;function rg(){if(vm)return;vm=true;jb={};Object.defineProperty(jb,"__esModule",{value:!0});og=(qg=void 0,jb.Sha256=qg);jb.sha256=og;pg=class $v8p8$var$Sha256{hash(t,r){const e=Object.assign({msgFormat:"string",outFormat:"hex"},r);switch(t=c(t),e.msgFormat){default:case"string":t=c(t);break;case"hex-bytes":t=function(t){const r=t.replace(" ","");return""==r?"":r.match(/.{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join("")}(t);}const o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=(t+=String.fromCharCode(128)).length/4+2,s=Math.ceil(a/16),n=new Array(s);for(let v=0;v<s;v++){n[v]=new Array(16);for(let r=0;r<16;r++)n[v][r]=t.charCodeAt(64*v+4*r+0)<<24|t.charCodeAt(64*v+4*r+1)<<16|t.charCodeAt(64*v+4*r+2)<<8|t.charCodeAt(64*v+4*r+3)<<0}const $=8*(t.length-1)/Math.pow(2,32),p=8*(t.length-1)>>>0;n[s-1][14]=Math.floor($),n[s-1][15]=p;for(let v=0;v<s;v++){const t=new Array(64);for(let o=0;o<16;o++)t[o]=n[v][o];for(let o=16;o<64;o++)t[o]=this.σ1(t[o-2])+t[o-7]+this.σ0(t[o-15])+t[o-16]>>>0;let r=h[0],e=h[1],a=h[2],s=h[3],$=h[4],p=h[5],i=h[6],c=h[7];for(let h=0;h<64;h++){const n=c+this.Σ1($)+this.Ch($,p,i)+o[h]+t[h],v=this.Σ0(r)+this.Maj(r,e,a);c=i,i=p,p=$,$=s+n>>>0,s=a,a=e,e=r,r=n+v>>>0}h[0]=h[0]+r>>>0,h[1]=h[1]+e>>>0,h[2]=h[2]+a>>>0,h[3]=h[3]+s>>>0,h[4]=h[4]+$>>>0,h[5]=h[5]+p>>>0,h[6]=h[6]+i>>>0,h[7]=h[7]+c>>>0}for(let v=0;v<h.length;v++)h[v]=("00000000"+h[v].toString(16)).slice(-8);const i="hex-w"==e.outFormat?" ":"";return h.join(i);function c(t){try{return new TextEncoder().encode(t).reduce((t,r)=>t+String.fromCharCode(r),"")}catch(r){return unescape(encodeURIComponent(t))}}}ROTR(t,r){return r>>>t|r<<32-t}"\u03A30"(t){return this.ROTR(2,t)^this.ROTR(13,t)^this.ROTR(22,t)}"\u03A31"(t){return this.ROTR(6,t)^this.ROTR(11,t)^this.ROTR(25,t)}"\u03C30"(t){return this.ROTR(7,t)^this.ROTR(18,t)^t>>>3}"\u03C31"(t){return this.ROTR(17,t)^this.ROTR(19,t)^t>>>10}Ch(t,r,e){return t&r^~t&e}Maj(t,r,e){return t&r^t&e^r&e}};qg=pg;jb.Sha256=qg,og=new pg,jb.sha256=og}var rc,sg,wm,xm=false;function ym(e){return wm.sha256.hash(e)}function tg(){if(xm)return;xm=true;rc={};Object.defineProperty(rc,"__esModule",{value:!0});sg=void 0;rc.createUniqueHash=sg;wm=(rg(),jb);sg=ym,rc.createUniqueHash=sg}var ld,ug,zm,Am=false;function Bm(){if(Am)return;Am=true;ld={};Object.defineProperty(ld,"__esModule",{value:!0});ug=void 0;ld.MissingProvidedServiceTypeError=ug;zm=class $XLX$var$MissingProvidedServiceTypeError extends Error{constructor(r){super(`Cannot determine a class of the requesting service '${JSON.stringify(r)}'`),this.name="ServiceNotFoundError",Object.setPrototypeOf(this,MissingProvidedServiceTypeError.prototype)}};ug=zm,ld.MissingProvidedServiceTypeError=ug}var M,vg,wg,xg,Cm,Dm=false;function Nb(){if(Dm)return;Dm=true;M={};Object.defineProperty(M,"__esModule",{value:!0});vg=(xg=void 0,M.Token=xg);M.InjectionToken=vg;wg=class $TYv$var$Token{constructor($){this.name=$}};xg=wg;M.Token=xg;Cm=class $TYv$var$InjectionToken extends wg{};vg=Cm,M.InjectionToken=vg}var md,yg,zg,Em,Fm=false;function Gm(){if(Fm)return;Fm=true;md={};Object.defineProperty(md,"__esModule",{value:!0});yg=void 0;md.ServiceNotFoundError=yg;zg=(Nb(),M);Em=class $wh7$var$ServiceNotFoundError extends Error{constructor(e){super(),this.name="ServiceNotFoundError","string"==typeof e?this.message=`Service '${e}' was not found, looks like it was not registered in the container. `+`Register it by calling Container.set('${JSON.stringify(e)}', ...) before using service.`:e instanceof zg.Token&&e.name?this.message=`Service '${e.name}' was not found, looks like it was not registered in the container. `+"Register it by calling Container.set before using service.":e instanceof zg.Token&&(this.message="Service with a given token was not found, looks like it was not registered in the container. Register it by calling Container.set before using service."),Object.setPrototypeOf(this,ServiceNotFoundError.prototype)}};yg=Em,md.ServiceNotFoundError=yg}var kb,Ag,Bg,Cg,Hm=false;function Dg(){if(Hm)return;Hm=true;kb={};Object.defineProperty(kb,"__esModule",{value:!0});Ag=(Cg=void 0,kb.ConstructorWatcherService=Cg);kb.constructorWatcherService=Ag;Bg=class $BR$var$ConstructorWatcherService{constructor(){this._constructors=new Map}getConstructor(r){return this._constructors.get(r)}getByClass(r){return this._constructors.get(r.name).value}createConstructor(r,t){return this._constructors.has(r)?this.getConstructor(r):(this._constructors.set(r,t),this.getConstructor(r))}triggerOnInit(r){const t=this._constructors.get(r.name);t.value&&t.value.OnInit&&t.value.OnInit.bind(t.value)()}};Cg=Bg;kb.ConstructorWatcherService=Cg,Ag=new Bg,kb.constructorWatcherService=Ag}var Ba,Im,Jm,Km=false;function Eg(){if(Km)return;Km=true;Ba={};Im=Ba&&Ba.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});Jm=Ba&&Ba.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Im(r,e,t)};Object.defineProperty(Ba,"__esModule",{value:!0}),Jm((Dg(),kb),Ba)}var sc,Fg,Be,Gg,Lm,nd,Mm,Nm,Om=false;function Hg(){if(Om)return;Om=true;sc={};Object.defineProperty(sc,"__esModule",{value:!0});Fg=void 0;sc.ContainerInstance=Fg;Be=(Ob(),ha);Gg=(Bm(),ld);Lm=(Gm(),md);nd=(Nb(),M);Mm=(Eg(),Ba);Nm=class $u1LW$var$ContainerInstance{constructor(e){this.services=new Map,this.id=e}has(e){return!!this.findService(e)}get(e){const r=Be.Container.of(void 0),t=r.findService(e),i=this.findService(e);if(t&&!0===t.global)return this.getServiceValue(e,t);if(i)return this.getServiceValue(e,i);if(t&&this!==r){const r=Object.assign({},t);r.value=void 0;const i=this.getServiceValue(e,r);return this.set(e,i),i}return this.getServiceValue(e,t)}getMany(e){return this.filterServices(e).map(r=>this.getServiceValue(e,r))}set(e,r){if(e instanceof Array)return e.forEach(e=>this.set(e)),this;if("string"==typeof e||e instanceof nd.Token)return this.set({id:e,value:r});if("object"==typeof e&&e.service)return this.set({id:e.service,value:r});if(e instanceof Function)return this.set({type:e,id:e,value:r});const t=e,i=this.services.get(t);return i&&!0!==i.multiple?Object.assign(i,t):this.services.set(t,t),this}remove(...e){return e.forEach(e=>{this.filterServices(e).forEach(e=>{this.services.delete(e)})}),this}reset(){return this.services.clear(),this}filterServices(e){return Array.from(this.services.values()).filter(r=>r.id?r.id===e:!!(r.type&&e instanceof Function)&&(r.type===e||e.prototype instanceof r.type))}findService(e){return Array.from(this.services.values()).find(r=>r.id?e instanceof Object&&r.id instanceof nd.Token&&e.service instanceof nd.Token?r.id===e.service:r.id===e:!!(r.type&&e instanceof Function)&&r.type===e)}getServiceValue(e,r){if(r&&void 0!==r.value)return r.value;if(!(r&&r.type||r&&r.factory||!("string"==typeof e||e instanceof nd.Token)))throw new Lm.ServiceNotFoundError(e);let t=void 0;if(r&&r.type?t=r.type:r&&r.id instanceof Function?t=r.id:e instanceof Function&&(t=e),!r){if(!t)throw new Gg.MissingProvidedServiceTypeError(e);r={type:t},this.services.set(r,r)}const i=t&&Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:paramtypes",t):void 0;let n,o=i?this.initializeParams(t,i):[];if(r.factory)o=o.filter(e=>void 0!==e),n=r.factory instanceof Array?this.get(r.factory[0])[r.factory[1]](...o):r.factory(...o,this);else{if(!t)throw new Gg.MissingProvidedServiceTypeError(e);o.unshift(null),o.push(this),t.prototype.OnBefore&&t.prototype.OnBefore.bind(t)(),n=new(t.bind.apply(t,o)),Mm.constructorWatcherService.createConstructor(t.name,{type:t,value:n}),n.OnInit&&n.OnInit.bind(n)()}return r&&!r.transient&&n&&(r.value=n),t&&this.applyPropertyHandlers(t,n),n}initializeParams(e,r){return r.map((r,t)=>{const i=Array.from(Be.Container.handlers.values()).find(r=>r.object===e&&r.index===t);return i?i.value(this):r&&r.name&&!this.isTypePrimitive(r.name)?this.get(r):void 0})}isTypePrimitive(e){return-1!==["string","boolean","number","object"].indexOf(e.toLowerCase())}applyPropertyHandlers(e,r){Be.Container.handlers.forEach(t=>{"number"!=typeof t.index&&(t.object.constructor===e||e.prototype instanceof t.object.constructor)&&(r[t.propertyName]=t.value(this))})}};Fg=Nm,sc.ContainerInstance=Fg}var ha,Ig,Jg,od,Pm=false;function Ob(){if(Pm)return;Pm=true;ha={};Object.defineProperty(ha,"__esModule",{value:!0});Ig=void 0;ha.Container=Ig;Jg=(Hg(),sc);od=class $XLQ$var$Container{static of(t){if(void 0===t)return this.globalInstance;let e=this.instances.get(t);return e||(e=new Jg.ContainerInstance(t),this.instances.set(t,e)),e}static has(t){return this.globalInstance.has(t)}static get(t){return this.globalInstance.get(t)}static getMany(t){return this.globalInstance.getMany(t)}static set(t,e){return this.globalInstance.set(t,e),this}static remove(...t){return this.globalInstance.remove(...t),this}static reset(t){if(t){const e=this.instances.get(t);e&&(e.reset(),this.instances.delete(t))}else this.globalInstance.reset(),Array.from(this.instances.values()).forEach(t=>t.reset());return this}static registerHandler(t){return this.handlers.set(t,t),this}static import(t){return this}};Ig=od,ha.Container=Ig,od.globalInstance=new Jg.ContainerInstance(void 0),od.instances=new Map,od.handlers=new Map}var ia,Kg,Qm,Rm,Sm,Tm=false;function Um(e,t){return r=>{const a=(0,Qm.createUniqueHash)(`${r}${JSON.stringify(e,null,4)}`);Object.defineProperty(r,"originalName",{value:r.name||r.constructor.name,writable:!1}),Object.defineProperty(r,"name",{value:a,writable:!0});const o=e=>e.charAt(0).toUpperCase()+e.slice(1);r.metadata={moduleName:r.originalName,moduleHash:a,options:e||null,type:t.type,raw:`\n        ---- @${o(t.type)} '${r.name}' metadata----\n        @${o(t.type)}(${JSON.stringify(e,null,4)})\n        ${r.originalName}\n        `};const n={type:r};"string"==typeof e||e instanceof Sm.Token?(n.id=e,n.multiple=e.multiple,n.global=e.global||!1,n.transient=e.transient):e&&(n.id=e.id,n.factory=e.factory,n.multiple=e.multiple,n.global=e.global||!1,n.transient=e.transient),Rm.Container.set(n)}}function Pb(){if(Tm)return;Tm=true;ia={};Object.defineProperty(ia,"__esModule",{value:!0});Kg=void 0;ia.ReflectDecorator=Kg;Qm=(tg(),rc);Rm=(Ob(),ha);Sm=(Nb(),M);Kg=Um,ia.ReflectDecorator=Kg}var a,Lg,Vm,Wm=false;function Xm(e){return(0,Vm.ReflectDecorator)(e,{type:"service"})}function h(){if(Wm)return;Wm=true;a={};Object.defineProperty(a,"__esModule",{value:!0});Lg=void 0;a.Service=Lg;Vm=(Pb(),ia);Lg=Xm,a.Service=Lg}var Mg,Ym=false;function Zm(){if(Ym)return;Ym=true;Mg={};Object.defineProperty(Mg,"__esModule",{value:!0})}var Ng,$m=false;function _m(){if($m)return;$m=true;Ng={};Object.defineProperty(Ng,"__esModule",{value:!0})}var Ca,an,Og,bn=false;function cn(){if(bn)return;bn=true;Ca={};an=Ca&&Ca.__createBinding||(Object.create?function(e,r,a,t){void 0===t&&(t=a),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[a]}})}:function(e,r,a,t){void 0===t&&(t=a),e[t]=r[a]});Og=Ca&&Ca.__exportStar||function(e,r){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(r,a)||an(r,e,a)};Object.defineProperty(Ca,"__esModule",{value:!0}),Og((Zm(),Mg),Ca),Og((_m(),Ng),Ca)}var dn,en,fn,e,gn,hn,jn,kn,ln,mn,nn,on=false;function T(){if(on)return;on=true;e={};gn=e&&e.__createBinding||(Object.create?function(e,r,n,t){void 0===t&&(t=n),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,t){void 0===t&&(t=n),e[t]=r[n]});hn=e&&e.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||gn(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0});jn=(fn=void 0,en=e.Injectable=fn,dn=e.Container=en,e.ContainerInstance=dn);e.InjectionToken=jn;kn=(h(),a);Object.defineProperty(e,"Injectable",{enumerable:!0,get:function(){return kn.Service}});ln=(Ob(),ha);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return ln.Container}});mn=(Hg(),sc);Object.defineProperty(e,"ContainerInstance",{enumerable:!0,get:function(){return mn.ContainerInstance}});nn=(Nb(),M);Object.defineProperty(e,"InjectionToken",{enumerable:!0,get:function(){return nn.Token}}),hn((cn(),Ca),e)}var m={},pn=m&&m.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]}),U=m&&m.__exportStar||function(e,r){for(var $ in e)"default"===$||Object.prototype.hasOwnProperty.call(r,$)||pn(r,e,$)};Object.defineProperty(m,"__esModule",{value:!0});var qn=void 0;var Da={},rn=Da&&Da.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),Pg=Da&&Da.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||rn(r,e,t)};var sn,tn,un=false;function vn(t,e){function r(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Qg(t){return this instanceof Qg?(this.v=t,this):new Qg(t)}function wn(){if(un)return;un=true;sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};tn=function(){return tn=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},tn.apply(this,arguments)}}var Yv,Zv;var $v;var xn;var _v,aw;var yn;var bw,cw;var dw,ew;var fw;var Ce;var gw;var hw;var iw;var jw;var kw;function zn(e){return e&&"function"==typeof e.schedule}var An;function Rg(e,r){return new Ce(function($){var t=new yn,c=0;return t.add(r.schedule(function(){c!==e.length?($.next(e[c++]),$.closed||t.add(this.schedule())):$.complete()})),t})}function Bn(r,e){return e?Rg(r,e):new Ce(An(r))}function Sg(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var $=r[r.length-1];return zn($)?(r.pop(),Rg(r,$)):Bn(r)}var lw,mw,nw;var ow,De;var Cn,pw;function Dn(r,t){return function(e){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new Cn(r,t))}}function En(r){return!xn(r)&&r-parseFloat(r)+1>=0}function Tg(r,e){return void 0===r&&(r=0),void 0===e&&(e=De),(!En(r)||r<0)&&(r=0),e&&"function"==typeof e.schedule||(e=De),new Ce(function($){return $.add(e.schedule(Fn,r,{subscriber:$,counter:0,period:r})),$})}function Fn(r){var e=r.subscriber,$=r.counter,i=r.period;e.next($),this.schedule({subscriber:e,counter:$+1,period:i},i)}var Gn=false;function o(){if(Gn)return;Gn=true}function Hn(r){return r instanceof Date&&!isNaN(+r)}var In,qw,rw;function Ug(e,t){void 0===t&&(t=De);var i=Hn(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new In(i,t))}}var Jn,sw;function Kn(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Jn(t,e,r))}}var Ln=false;function Ea(){if(Ln)return;Ln=true}var tc,Vg,Ee,Qb,Mn,Nn=false;function Wg(){if(Nn)return;Nn=true;tc={};Object.defineProperty(tc,"__esModule",{value:!0});Vg=void 0;tc.CacheLayer=Vg;Ee=(o(),{});Qb=(Ea(),{});Mn=class $bdM$var$CacheLayer{constructor(e){this.items=new Ee.BehaviorSubject([]),this.map=new Map,this.name=e.name,this.config=e.config,this.initHook(e)}get(e){return this.map.get(e)}initHook(e){this.config.maxAge&&this.onExpireAll(e)}onExpireAll(e){e.items.forEach(e=>this.onExpire(e.key))}putItemHook(e){this.config.maxAge&&this.onExpire(e.key)}getItem(e){return this.map.has(e)?this.get(e):null}putItem(e){this.map.set(e.key,e);const t=this.get(e.key),r=this.items.getValue().filter(t=>t.key!==e.key);return this.items.next([...r,t]),this.putItemHook(e),e}onExpire(e){return new Ee.Observable(e=>e.next()).pipe((0,Qb.timeoutWith)(this.config.maxAge,(0,Ee.of)(1)),(0,Qb.skip)(1),(0,Qb.take)(1)).subscribe(()=>this.removeItem(e))}removeItem(e){const t=this.items.getValue().filter(t=>t.key!==e);this.map.delete(e),this.items.next(t)}getItemObservable(e){return this.items.asObservable().pipe((0,Qb.filter)(()=>!!this.map.has(e)),(0,Qb.map)(()=>this.map.get(e)))}flushCache(){return this.items.asObservable().pipe((0,Qb.map)(e=>(e.forEach(e=>this.removeItem(e.key)),!0)))}};Vg=Mn,tc.CacheLayer=Vg}var Fa,Xg,Yg,On=false;function Zg(e){return e.reduce((e,r)=>(e[r]=r,e),Object.create(null))}function Fe(){if(On)return;On=true;Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Xg=(Yg=void 0,Fa.InternalEvents=Yg);Fa.InternalLayers=Xg;Yg=Zg(["load","config"]);Fa.InternalEvents=Yg,Xg=Zg(["globalConfig","modules"]),Fa.InternalLayers=Xg}var E,$g,_g,ah,Pn,bh,ch,dh,eh,fh,Qn,Rn=false;function gh(){if(Rn)return;Rn=true;E={};Object.defineProperty(E,"__esModule",{value:!0});$g=(ah=void 0,bh=E.LoggerConfig=ah,dh=E.PrivateCryptoModel=bh,fh=E.ExperimentalFeatures=dh,E.InitOptionsConfig=fh);E.ConfigModel=$g;_g=class $EdiJ$var$LoggerConfig{constructor(){this.logging=!1,this.hashes=!0,this.date=!0,this.exitHandler=!0}};ah=_g;E.LoggerConfig=ah;Pn=class $EdiJ$var$PrivateCryptoModel{};bh=Pn;E.PrivateCryptoModel=bh;ch=class $EdiJ$var$ExperimentalFeatures{};dh=ch;E.ExperimentalFeatures=dh;eh=class $EdiJ$var$InitOptionsConfig{};fh=eh;E.InitOptionsConfig=fh;Qn=class $EdiJ$var$ConfigModel{constructor(){this.init=!0,this.initOptions=new eh,this.experimental=new ch,this.logger=new _g}};$g=Qn,E.ConfigModel=$g}var lb,Sn,hh,Tn,Un,Vn,Wn=false;function ih(){if(Wn)return;Wn=true;lb={};Sn=lb&&lb.__decorate||function(e,r,$,o){var t,c=arguments.length,i=c<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,$):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,$,o);else for(var n=e.length-1;n>=0;n--)(t=e[n])&&(i=(c<3?t(i):c>3?t(r,$,i):t(r,$))||i);return c>3&&i&&Object.defineProperty(r,$,i),i};Object.defineProperty(lb,"__esModule",{value:!0});hh=void 0;lb.ConfigService=hh;Tn=(h(),a);Un=(gh(),E);Vn=class{constructor(){this.config=new Un.ConfigModel}setConfig(e){Object.assign(this.config,e)}};hh=Vn=Sn([(0,Tn.Service)()],Vn),lb.ConfigService=hh}var V,Xn,jh,Yn=false;function Ge(){if(Yn)return;Yn=true;V={};Xn=V&&V.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});jh=V&&V.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Xn(r,e,t)};Object.defineProperty(V,"__esModule",{value:!0}),jh((gh(),E),V),jh((ih(),lb),V)}var ja,kh,Zn,$n=false;function _n(e){return function(r,$){Object.defineProperty(r,$,{get:()=>Zn.Container.get(e)})}}function Rb(){if($n)return;$n=true;ja={};Object.defineProperty(ja,"__esModule",{value:!0});kh=void 0;ja.Injector=kh;Zn=(T(),e);kh=_n,ja.Injector=kh}var N,lh,ao,mh,bo,nh,co,oh,eo=false;function pd(){if(eo)return;eo=true;N={};lh=N&&N.__decorate||function(e,r,o,t){var $,a=arguments.length,i=a<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,o,t);else for(var c=e.length-1;c>=0;c--)($=e[c])&&(i=(a<3?$(i):a>3?$(r,o,i):$(r,o))||i);return a>3&&i&&Object.defineProperty(r,o,i),i};ao=N&&N.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(N,"__esModule",{value:!0});mh=void 0;N.BootstrapLogger=mh;bo=(h(),a);nh=(Ge(),V);co=(Rb(),ja);oh=class{log(e){if(this.configService.config.logger.logging){const r=[this.logDate(),e];return console.log(...r),r}}error(e){console.error(e)}logImporter(e){if(this.configService.config.logger.logging)return this.log(e)}logDate(){return this.configService.config.logger.date?`${Date.now().toPrecision()}`:""}logHashes(e){return this.configService.config.logger.hashes?e:""}logExitHandler(e){if(!this.configService.config.logger.exitHandler)return"";this.log(e)}};lh([(0,co.Injector)(nh.ConfigService),ao("design:type",nh.ConfigService)],oh.prototype,"configService",void 0),mh=oh=lh([(0,bo.Service)()],oh),N.BootstrapLogger=mh}var ka,fo,go,ho=false;function He(){if(ho)return;ho=true;ka={};fo=ka&&ka.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});go=ka&&ka.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||fo(r,e,t)};Object.defineProperty(ka,"__esModule",{value:!0}),go((pd(),N),ka)}var io,O,jo,ko,ph,Ie,uc,lo,Sb,mo,no,oo,po,qo=false;function qd(){if(qo)return;qo=true;O={};jo=O&&O.__decorate||function(e,r,a,t){var s,c=arguments.length,o=c<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,a):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,a,t);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(o=(c<3?s(o):c>3?s(r,a,o):s(r,a))||o);return c>3&&o&&Object.defineProperty(r,a,o),o};ko=O&&O.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(O,"__esModule",{value:!0});ph=void 0;O.CacheService=ph;Ie=(o(),{});uc=(Ea(),{});lo=(Wg(),tc);Sb=(Fe(),Fa);mo=(h(),a);no=(He(),ka);oo={TRY_TO_UNSUBSCRIBE:"Someone try to unsubscribe from collection directly... agghhh.. read docs! Blame: "};po=io=class{constructor(e){this.logger=e,this._cachedLayers=new Ie.BehaviorSubject([]),this.map=new Map,this.config={}}static createCacheInstance(e){return new lo.CacheLayer(e)}getLayer(e){return this.map.has(e)?this.map.get(e):this.createLayer({name:e})}getLayersByName(e){return Array.from(this.map.keys()).map(r=>{if(r!==Sb.InternalLayers.modules&&r!==Sb.InternalLayers.globalConfig){const a=this.getLayer(r).getItem(Sb.InternalEvents.config);if(a&&a.data&&e===a.data.moduleName)return this.getLayer(a.data.moduleHash)}}).filter(e=>!!e)}searchForDuplicateDependenciesInsideApp(){const e=[].concat.apply([],Array.from(this.map.keys()).map(e=>Array.from(this.getLayer(e).map.keys()).map(e=>this.isExcludedEvent(e)?null:e).filter(e=>!!e))).map(e=>Object.create({count:1,name:e})).reduce((e,r)=>(e[r.name]=(e[r.name]||0)+r.count,e),{}),r=Object.keys(e).filter(r=>e[r]>1);if(r.length){const e=this.searchForDuplicatesByHash(r[0]),a=e[0].class.metadata.type.charAt(0).toUpperCase()+e[0].class.metadata.type.slice(1);throw new Error(`\n                ${e[0].class.metadata.raw}\n                ${a}: '${e[0].originalName}' found multiple times!\n                ${a} hash: ${e[0].moduleHash}\n                Modules: [${e[0].moduleName}, ${e[1].moduleName}]\n\n                Hint: '${e[0].originalName}' class identity hash is identical in both\n                imported files inside ${e[0].moduleName} and ${e[1].moduleName}\n                consider removing one of the '${e[0].originalName}'\n            `)}return r}isExcludedEvent(e){return e===Sb.InternalEvents.config||e===Sb.InternalEvents.load}searchForItem(e){return Array.from(this.map.keys()).map(r=>{const a=this.getLayer(r),t=Array.from(a.map.keys()).filter(r=>this.isExcludedEvent(r)?void 0:r===e.name);if(t.length)return a.getItem(t[0]).data}).filter(e=>!!e)[0]}searchForDuplicatesByHash(e){return Array.from(this.map.keys()).map(r=>{const a=this.getLayer(r),t=Array.from(a.map.keys()).filter(r=>{if(!this.isExcludedEvent(r))return r===e});if(t.length){const e=a.getItem(t[0]),s=this.getLayer(r).getItem(Sb.InternalEvents.config);return{moduleName:s.data.moduleName,moduleHash:s.data.moduleHash,originalName:e.data.originalName,dupeName:e.key,raw:s.data.raw,class:e.data}}}).filter(e=>!!e)}createLayer(e){if(this.map.has(e.name))return this.map.get(e.name);e.items=e.items||[],e.config=e.config||this.config;const r=io.createCacheInstance(e);return this.map.set(r.name,r),this._cachedLayers.next([...this._cachedLayers.getValue(),r]),this.LayerHook(r),r}LayerHook(e){this.protectLayerFromInvaders(e),(e.config.cacheFlushInterval||this.config.cacheFlushInterval)&&this.OnExpire(e)}protectLayerFromInvaders(e){e.items.constructor.prototype.unsubsribeFromLayer=e.items.constructor.prototype.unsubscribe,e.items.constructor.prototype.unsubscribe=()=>{console.error(oo.TRY_TO_UNSUBSCRIBE+e.name)}}OnExpire(e){return new Ie.Observable(e=>e.next()).pipe((0,uc.timeoutWith)(e.config.cacheFlushInterval||this.config.cacheFlushInterval,(0,Ie.of)(1)),(0,uc.skip)(1),(0,uc.take)(1)).subscribe(()=>this.removeLayer(e))}removeLayer(e){this.map.delete(e.name),this._cachedLayers.next([...this._cachedLayers.getValue().filter(r=>r.name!==e.name)])}transferItems(e,r){const a=this.getLayer(e),t=[];return r.forEach(e=>{const r=this.createLayer(e);a.items.getValue().forEach(e=>r.putItem(e)),t.push(r)}),t}flushCache(){let e;return this._cachedLayers.pipe((0,uc.take)(1),(0,uc.map)(r=>(e=r.map(e=>e.name),r.forEach(e=>this.removeLayer(e)),e.forEach(e=>this.createLayer({name:e})),!0)))}};ph=po=io=jo([(0,mo.Service)(),ko("design:paramtypes",[no.BootstrapLogger])],po),O.CacheService=ph}var rd,qh,ro,so=false;function to(){if(so)return;so=true;rd={};Object.defineProperty(rd,"__esModule",{value:!0});qh=void 0;rd.CacheServiceConfigInterface=qh;ro=class $XoUb$var$CacheServiceConfigInterface{constructor(){this.deleteOnExpire="aggressive",this.cacheFlushInterval=36e5,this.maxAge=9e5,this.localStorage=!1}};qh=ro,rd.CacheServiceConfigInterface=qh}var la,uo,Je,vo=false;function wo(){if(vo)return;vo=true;la={};uo=la&&la.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]});Je=la&&la.__exportStar||function(e,r){for(var $ in e)"default"===$||Object.prototype.hasOwnProperty.call(r,$)||uo(r,e,$)};Object.defineProperty(la,"__esModule",{value:!0}),Je((qd(),O),la),Je((Wg(),tc),la),Je((to(),rd),la)}var ma,xo,rh,Ke,yo,zo,Ao=false;function sd(){if(Ao)return;Ao=true;ma={};xo=ma&&ma.__decorate||function(e,r,t,i){var $,s=arguments.length,n=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,i);else for(var u=e.length-1;u>=0;u--)($=e[u])&&(n=(s<3?$(n):s>3?$(r,t,n):$(r,t))||n);return s>3&&n&&Object.defineProperty(r,t,n),n};Object.defineProperty(ma,"__esModule",{value:!0});rh=void 0;ma.PluginService=rh;Ke=(o(),{});yo=(h(),a);zo=class{constructor(){this.plugins=new Ke.BehaviorSubject([]),this.beforePlugins=new Ke.BehaviorSubject([]),this.afterPlugins=new Ke.BehaviorSubject([])}register(e){this.plugins.next([...this.plugins.getValue(),e])}registerBefore(e){this.beforePlugins.next([...this.plugins.getValue(),e])}registerAfter(e){this.afterPlugins.next([...this.plugins.getValue(),e])}getPlugins(){return this.plugins.getValue()}getAfterPlugins(){return this.afterPlugins.getValue()}getBeforePlugins(){return this.beforePlugins.getValue()}};rh=zo=xo([(0,yo.Service)()],zo),ma.PluginService=rh}var Tb,Ub,Le,j,vc,mb,Me,sh,Bo=false;function Ne(){throw new Error("setTimeout has not been defined")}function Oe(){throw new Error("clearTimeout has not been defined")}function th(n){if(Tb===setTimeout)return setTimeout(n,0);if((Tb===Ne||!Tb)&&setTimeout)return Tb=setTimeout,setTimeout(n,0);try{return Tb(n,0)}catch($){try{return Tb.call(null,n,0)}catch($){return Tb.call(this,n,0)}}}function Co(n){if(Ub===clearTimeout)return clearTimeout(n);if((Ub===Oe||!Ub)&&clearTimeout)return Ub=clearTimeout,clearTimeout(n);try{return Ub(n)}catch($){try{return Ub.call(null,n)}catch($){return Ub.call(this,n)}}}function Do(){Me&&vc&&(Me=!1,vc.length?mb=vc.concat(mb):sh=-1,mb.length&&uh())}function uh(){if(!Me){var n=th(Do);Me=!0;for(var $=mb.length;$;){for(vc=mb,mb=[];++sh<$;)vc&&vc[sh].run();sh=-1,$=mb.length}vc=null,Me=!1,Co(n)}}function vh(n,$){this.fun=n,this.array=$}function na(){}function Pe(){if(Bo)return;Bo=true;Le={};j=Le={};!function(){try{Tb="function"==typeof setTimeout?setTimeout:Ne}catch(n){Tb=Ne}try{Ub="function"==typeof clearTimeout?clearTimeout:Oe}catch(n){Ub=Oe}}();mb=[];Me=!1;sh=-1;j.nextTick=function(n){var $=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)$[e-1]=arguments[e];mb.push(new vh(n,$)),1!==mb.length||Me||th(uh)},vh.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.env={},j.argv=[],j.version="",j.versions={},j.on=na,j.addListener=na,j.once=na,j.off=na,j.removeListener=na,j.removeAllListeners=na,j.emit=na,j.prependListener=na,j.prependOnceListener=na,j.listeners=function(n){return[]},j.binding=function(n){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(n){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}}var oa,wh,xh,Eo,yh,Fo,zh,Go,Ah,Bh,Ho=false;function Ch(){if(Ho)return;Ho=true;oa={};wh=(Pe(),Le);xh=oa&&oa.__decorate||function(e,r,t,$){var o,a=arguments.length,c=a<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,$);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(a<3?o(c):a>3?o(r,t,c):o(r,t))||c);return a>3&&c&&Object.defineProperty(r,t,c),c};Eo=oa&&oa.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(oa,"__esModule",{value:!0});yh=void 0;oa.ExitHandlerService=yh;Fo=(h(),a);zh=(He(),ka);Go=(Rb(),ja);Ah=(o(),{});Bh=class{constructor(){this.errorHandler=new Ah.Subject}init(){}exitHandler(e,r){this.errorHandler.next(r),e.cleanup&&this.logger.logExitHandler("AppStopped"),r&&console.log(r.stack),e.exit&&this.logger.logExitHandler("Unhandled error rejection"),wh.exit(0)}onExitApp(e){return new Ah.Observable(r=>e&&e.length&&e.forEach(e=>wh.on(e,e=>r.next(e))))}};xh([(0,Go.Injector)(zh.BootstrapLogger),Eo("design:type",zh.BootstrapLogger)],Bh.prototype,"logger",void 0),yh=Bh=xh([(0,Fo.Service)()],Bh),oa.ExitHandlerService=yh}var nb,Io,Jo,Ko=false;function Lo(){if(Ko)return;Ko=true;nb={};Io=nb&&nb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});Jo=nb&&nb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Io(r,e,t)};Object.defineProperty(nb,"__esModule",{value:!0}),Jo((Ch(),oa),nb)}var ob,Mo,Dh,No,Oo,Po=false;function Eh(){if(Po)return;Po=true;ob={};Mo=ob&&ob.__decorate||function(r,e,t,a){var o,$=arguments.length,c=$<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,e,t,a);else for(var y=r.length-1;y>=0;y--)(o=r[y])&&(c=($<3?o(c):$>3?o(e,t,c):o(e,t))||c);return $>3&&c&&Object.defineProperty(e,t,c),c};Object.defineProperty(ob,"__esModule",{value:!0});Dh=void 0;ob.LazyFactory=Dh;No=(h(),a);Oo=class{constructor(){this.lazyFactories=new Map}setLazyFactory(r,e){return this.lazyFactories.set(r,e),this.getLazyFactory(r)}getLazyFactory(r){return this.lazyFactories.get(r)}};Dh=Oo=Mo([(0,No.Service)()],Oo),ob.LazyFactory=Dh}var pb,Qo,Fh,Ro,So,To=false;function Gh(){if(To)return;To=true;pb={};Qo=pb&&pb.__decorate||function(e,a,t,r){var o,d=arguments.length,l=d<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,a,t,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(d<3?o(l):d>3?o(a,t,l):o(a,t))||l);return d>3&&l&&Object.defineProperty(a,t,l),l};Object.defineProperty(pb,"__esModule",{value:!0});Fh=void 0;pb.ModuleValidators=Fh;Ro=(h(),a);So=class{validateEmpty(e,a,t){if(!e){const e=t.charAt(0).toUpperCase()+t.slice(1);throw new Error(`\n            ${a.metadata.raw}\n            -> @Module: ${a.metadata.moduleName}\n            -> @Module hash: ${a.metadata.moduleHash}\n                --\x3e Maybe you forgot to import some ${e} inside ${a.metadata.moduleName} ?\n\n                Hint: run ts-lint again, looks like imported ${e} is undefined or null inside ${a.metadata.moduleName}\n            `)}}genericWrongPluggableError(e,a,t){if(e.metadata.type!==t){const r=e.metadata.type.charAt(0).toUpperCase()+e.metadata.type.slice(1),o=t.charAt(0).toUpperCase()+t.slice(1);throw new Error(`\n            ${a.metadata.raw}\n            -> @Module: '${a.metadata.moduleName}'\n            -> @Module hash: '${a.metadata.moduleHash}'\n                --\x3e @${r} '${e.metadata.moduleName}' provided, where expected class decorated with '@${o}' instead,\n            -> @Hint: please provide class with @Service decorator or remove ${e.metadata.moduleName} class\n            `)}}validateImports(e,a){if("module"!==e.metadata.type)throw new Error(`\n            ${a.metadata.raw}\n            -> @Module: '${a.metadata.moduleName}'\n            -> @Module hash: '${a.metadata.moduleHash}'\n                --\x3e @${e.metadata.type.charAt(0).toUpperCase()+e.metadata.type.slice(1)} '${e.originalName}' provided, where expected class decorated with '@Module' instead,\n            -> @Hint: please provide class with @Module decorator or remove ${e.originalName} from imports\n            `)}validateServices(e,a){this.validateEmpty(e,a,"service"),e.provide||this.genericWrongPluggableError(e,a,"service")}validatePlugin(e,a){this.validateEmpty(e,a,"plugin"),e.provide||this.genericWrongPluggableError(e,a,"plugin")}validateController(e,a){this.validateEmpty(e,a,"controller"),e.provide||this.genericWrongPluggableError(e,a,"controller")}validateEffect(e,a){this.validateEmpty(e,a,"effect"),e.provide||this.genericWrongPluggableError(e,a,"effect")}validateComponent(e,a){this.validateEmpty(e,a,"component"),e.provide||this.genericWrongPluggableError(e,a,"component")}};Fh=So=Qo([(0,Ro.Service)()],So),pb.ModuleValidators=Fh}var Ga,Uo,Hh,Vo,Wo,Xo,Yo=false;function Qe(){if(Yo)return;Yo=true;Ga={};Uo=Ga&&Ga.__decorate||function(e,r,t,o){var $,v=arguments.length,l=v<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,r,t,o);else for(var c=e.length-1;c>=0;c--)($=e[c])&&(l=(v<3?$(l):v>3?$(r,t,l):$(r,t))||l);return v>3&&l&&Object.defineProperty(r,t,l),l};Object.defineProperty(Ga,"__esModule",{value:!0});Hh=void 0;Ga.ControllersService=Hh;Vo=(h(),a);Wo=(o(),{});Xo=class{constructor(){this.controllers=new Wo.BehaviorSubject([])}register(e){this.controllers.next([...this.controllers.getValue(),e])}getControllers(){return this.controllers.getValue()}};Hh=Xo=Uo([(0,Vo.Service)()],Xo),Ga.ControllersService=Hh}var Ha,Zo,Ih,$o,_o,ap,bp=false;function Re(){if(bp)return;bp=true;Ha={};Zo=Ha&&Ha.__decorate||function(e,r,t,$){var c,f=arguments.length,s=f<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,t,$);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(s=(f<3?c(s):f>3?c(r,t,s):c(r,t))||s);return f>3&&s&&Object.defineProperty(r,t,s),s};Object.defineProperty(Ha,"__esModule",{value:!0});Ih=void 0;Ha.EffectsService=Ih;$o=(h(),a);_o=(o(),{});ap=class{constructor(){this.effects=new _o.BehaviorSubject([])}register(e){this.effects.next([...this.effects.getValue(),e])}getEffects(){return this.effects.getValue()}};Ih=ap=Zo([(0,$o.Service)()],ap),Ha.EffectsService=Ih}var Ia,cp,Jh,dp,ep,fp,gp=false;function Se(){if(gp)return;gp=true;Ia={};cp=Ia&&Ia.__decorate||function(e,o,r,t){var $,n=arguments.length,c=n<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,r):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,r,t);else for(var s=e.length-1;s>=0;s--)($=e[s])&&(c=(n<3?$(c):n>3?$(o,r,c):$(o,r))||c);return n>3&&c&&Object.defineProperty(o,r,c),c};Object.defineProperty(Ia,"__esModule",{value:!0});Jh=void 0;Ia.ComponentsService=Jh;dp=(h(),a);ep=(o(),{});fp=class{constructor(){this.components=new ep.BehaviorSubject([])}register(e){this.components.next([...this.components.getValue(),e])}getComponents(){return this.components.getValue()}};Jh=fp=cp([(0,dp.Service)()],fp),Ia.ComponentsService=Jh}var Ja,hp,Kh,ip,jp,kp,lp=false;function Te(){if(lp)return;lp=true;Ja={};hp=Ja&&Ja.__decorate||function(e,r,t,o){var s,$=arguments.length,a=$<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=($<3?s(a):$>3?s(r,t,a):s(r,t))||a);return $>3&&a&&Object.defineProperty(r,t,a),a};Object.defineProperty(Ja,"__esModule",{value:!0});Kh=void 0;Ja.BootstrapsServices=Kh;ip=(h(),a);jp=(o(),{});kp=class{constructor(){this.bootstraps=new jp.BehaviorSubject([])}register(e){this.bootstraps.next([...this.bootstraps.getValue(),e])}getBootstraps(){return this.bootstraps.getValue()}};Kh=kp=hp([(0,ip.Service)()],kp),Ja.BootstrapsServices=Kh}var Ka,mp,Lh,np,op,pp,qp=false;function Ue(){if(qp)return;qp=true;Ka={};mp=Ka&&Ka.__decorate||function(e,r,K,$){var c,t=arguments.length,v=t<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,K):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,r,K,$);else for(var i=e.length-1;i>=0;i--)(c=e[i])&&(v=(t<3?c(v):t>3?c(r,K,v):c(r,K))||v);return t>3&&v&&Object.defineProperty(r,K,v),v};Object.defineProperty(Ka,"__esModule",{value:!0});Lh=void 0;Ka.ServicesService=Lh;np=(h(),a);op=(o(),{});pp=class{constructor(){this.services=new op.BehaviorSubject([])}register(e){this.services.next([...this.services.getValue(),e])}getServices(){return this.services.getValue()}};Lh=pp=mp([(0,np.Service)()],pp),Ka.ServicesService=Lh}var W,pa,La,Mh,Nh,Ma,rp,Oh,Ph,Na,Qh,sp,Rh,Sh,Th,Uh,Vh,Wh,qa,tp=false;function Ve(){if(tp)return;tp=true;W={};pa=W&&W.__decorate||function(e,r,t,a){var o,$=arguments.length,c=$<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=($<3?o(c):$>3?o(r,t,c):o(r,t))||c);return $>3&&c&&Object.defineProperty(r,t,c),c};La=W&&W.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(W,"__esModule",{value:!0});Mh=void 0;W.ModuleService=Mh;Nh=(o(),{});Ma=(T(),e);rp=(h(),a);Oh=(Eh(),ob);Ph=(sd(),ma);Na=(Rb(),ja);Qh=(Gh(),pb);sp=(Dg(),kb);Rh=(Qe(),Ga);Sh=(Re(),Ha);Th=(Se(),Ia);Uh=(Te(),Ja);Vh=(Ue(),Ka);Wh=(Pb(),ia);qa=class{constructor(){this.watcherService=sp.constructorWatcherService}setServices(e,r,t){e.forEach(e=>{this.validators.validateServices(e,r),this.setInjectedDependencies(e),e.provide&&e.provide.constructor===Function&&(e.provide=e.provide.name),e.provide&&e.useFactory?this.setUseFactory(e):e.provide&&e.useClass&&e.useClass.constructor===Function?this.setUseClass(e):e.provide&&e.useValue?this.setUseValue(e):(t.putItem({data:e,key:e.name}),this.servicesService.register(e))})}setInjectedDependencies(e){e.deps=e.deps||[],e.deps.length&&(e.deps=e.deps.map(e=>Ma.Container.get(e)))}setUseValue(e){Ma.Container.set(e.provide,e.useValue),e.lazy&&this.lazyFactoryService.setLazyFactory(e.provide,(0,Nh.of)(Ma.Container.get(e.provide)))}setUseClass(e){e.lazy?this.lazyFactoryService.setLazyFactory(e.provide,(0,Nh.of)(Ma.Container.get(e.useClass))):Ma.Container.set(e.provide,Ma.Container.get(e.useClass))}setUseFactory(e){const r=e.useFactory;e.useFactory=()=>r(...e.deps),e.lazy?this.lazyFactoryService.setLazyFactory(e.provide,e.useFactory()):Ma.Container.set(e.provide,e.useFactory())}setControllers(e,r,t){e.forEach(e=>{this.validators.validateController(e,r),t.putItem({data:e,key:e.name}),this.controllersService.register(e)})}setEffects(e,r,t){e.forEach(e=>{this.validators.validateEffect(e,r),t.putItem({data:e,key:e.name}),this.effectsService.register(e)})}setComponents(e,r,t){e.forEach(e=>{e.metadata||(0,Wh.ReflectDecorator)({},{type:"component"})(e),this.validators.validateComponent(e,r),t.putItem({data:e,key:e.name}),this.componentsService.register(e)})}setPlugins(e,r,t){e.forEach(e=>{this.validators.validatePlugin(e,r),t.putItem({data:e,key:e.name}),this.pluginService.register(e)})}setBootstraps(e,r,t){e.forEach(e=>{e.metadata||(0,Wh.ReflectDecorator)({},{type:"component"})(e),this.validators.validateEmpty(e,r,e.metadata.type),t.putItem({data:e,key:e.name}),this.bootstraps.register(e)})}setAfterPlugins(e,r,t){e.forEach(e=>{this.validators.validatePlugin(e,r),t.putItem({data:e,key:e.name}),this.pluginService.registerAfter(e)})}setBeforePlugins(e,r,t){e.forEach(e=>{this.validators.validatePlugin(e,r),t.putItem({data:e,key:e.name}),this.pluginService.registerBefore(e)})}setImports(e,r){e.forEach(e=>{if(this.validators.validateImports(e,r),!e)throw new Error("Missing import module");Ma.Container.get(e)})}};pa([(0,Na.Injector)(Oh.LazyFactory),La("design:type",Oh.LazyFactory)],qa.prototype,"lazyFactoryService",void 0),pa([(0,Na.Injector)(Ph.PluginService),La("design:type",Ph.PluginService)],qa.prototype,"pluginService",void 0),pa([(0,Na.Injector)(Th.ComponentsService),La("design:type",Th.ComponentsService)],qa.prototype,"componentsService",void 0),pa([(0,Na.Injector)(Rh.ControllersService),La("design:type",Rh.ControllersService)],qa.prototype,"controllersService",void 0),pa([(0,Na.Injector)(Sh.EffectsService),La("design:type",Sh.EffectsService)],qa.prototype,"effectsService",void 0),pa([(0,Na.Injector)(Uh.BootstrapsServices),La("design:type",Uh.BootstrapsServices)],qa.prototype,"bootstraps",void 0),pa([(0,Na.Injector)(Qh.ModuleValidators),La("design:type",Qh.ModuleValidators)],qa.prototype,"validators",void 0),pa([(0,Na.Injector)(Vh.ServicesService),La("design:type",Vh.ServicesService)],qa.prototype,"servicesService",void 0),Mh=qa=pa([(0,rp.Service)()],qa),W.ModuleService=Mh}var Oa,up,Xh,vp=false;function wp(){if(vp)return;vp=true;Oa={};up=Oa&&Oa.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});Xh=Oa&&Oa.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||up(r,e,t)};Object.defineProperty(Oa,"__esModule",{value:!0}),Xh((Ve(),W),Oa),Xh((Gh(),pb),Oa)}var ra,We,Yh,Zh,xp,$h,wc,Xe,yp,_h,ai,zp,Ye,Ap=false;function bi(){if(Ap)return;Ap=true;ra={};We=ra&&ra.__decorate||function(e,r,o,t){var a,$=arguments.length,c=$<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,o,t);else for(var v=e.length-1;v>=0;v--)(a=e[v])&&(c=($<3?a(c):$>3?a(r,o,c):a(r,o))||c);return $>3&&c&&Object.defineProperty(r,o,c),c};Yh=ra&&ra.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(ra,"__esModule",{value:!0});Zh=void 0;ra.ResolverService=Zh;xp=(T(),e);$h=(qd(),O);wc=(Fe(),Fa);Xe=(Ea(),{});yp=(o(),{});_h=(pd(),N);ai=(Rb(),ja);zp=(h(),a);Ye=class{resolveDependencies(e,r,o){this.cacheService.getLayer(wc.InternalLayers.modules).putItem({key:e,data:r});const t=this.cacheService.getLayer(e);return t.putItem({key:wc.InternalEvents.config,data:{moduleName:o,moduleHash:e}}),t.getItemObservable(wc.InternalEvents.load).pipe((0,Xe.switchMap)(e=>e.data?t.items.asObservable():(0,yp.of)(null)),(0,Xe.filter)(e=>e&&e.length),(0,Xe.map)(this.resolveContainerDependencies(r,o)))}resolveContainerDependencies(e,r){return o=>(o.forEach(o=>{if(o.key===wc.InternalEvents.load||o.key===wc.InternalEvents.config)return;const t=this.cacheService.searchForItem(o.data);if(t){if(t.provide)return t;const o=t.metadata.type.charAt(0).toUpperCase()+t.metadata.type.slice(1);return this.bootstrapLogger.log(`Start -> @Module('${r}')${this.bootstrapLogger.logHashes(`(${e.name})`)}: @${o}('${t.originalName}')${this.bootstrapLogger.logHashes(`(${t.name})`)}`+" initialized!"),xp.Container.get(t)}throw new Error("not found")}),o)}};We([(0,ai.Injector)(_h.BootstrapLogger),Yh("design:type",_h.BootstrapLogger)],Ye.prototype,"bootstrapLogger",void 0),We([(0,ai.Injector)($h.CacheService),Yh("design:type",$h.CacheService)],Ye.prototype,"cacheService",void 0),Zh=Ye=We([(0,zp.Service)()],Ye),ra.ResolverService=Zh}var qb,Bp,Cp,Dp=false;function Ep(){if(Dp)return;Dp=true;qb={};Bp=qb&&qb.__createBinding||(Object.create?function(e,r,t,a){void 0===a&&(a=t),Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]});Cp=qb&&qb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Bp(r,e,t)};Object.defineProperty(qb,"__esModule",{value:!0}),Cp((bi(),ra),qb)}var rb,Fp,ci,Gp,Hp,Ip,Jp=false;function di(){if(Jp)return;Jp=true;rb={};Fp=rb&&rb.__decorate||function(e,r,t,$){var c,a=arguments.length,o=a<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,$);else for(var v=e.length-1;v>=0;v--)(c=e[v])&&(o=(a<3?c(o):a>3?c(r,t,o):c(r,t))||o);return a>3&&o&&Object.defineProperty(r,t,o),o};Object.defineProperty(rb,"__esModule",{value:!0});ci=void 0;rb.AfterStarterService=ci;Gp=(h(),a);Hp=(o(),{});Ip=class{constructor(){this.appStarted=new Hp.Subject}};ci=Ip=Fp([(0,Gp.Service)()],Ip),rb.AfterStarterService=ci}var td,ei,fi,Kp,Lp=false;function Mp(){if(Lp)return;Lp=true;td={};Object.defineProperty(td,"__esModule",{value:!0});ei=void 0;td.logExtendedInjectables=ei;fi=(Ob(),ha);Kp=(e,n)=>{fi.Container.has(e)&&n&&console.log(`Warn: Injection Token '${e.name||e}' is extended after it has being declared! ${JSON.stringify(fi.Container.get(e))}`)};ei=Kp,td.logExtendedInjectables=ei}var X,Np,Op,sa,gi,k,ta,Pp,Qp,ud,Rp,Sp,Tp,u,Up,Vp,Wp,Xp,Yp,Zp,$p,_p,aq,bq=false;function cq(){if(bq)return;bq=true;X={};Np=X&&X.__decorate||function(e,r,t,a){var i,s=arguments.length,v=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,r,t,a);else for(var $=e.length-1;$>=0;$--)(i=e[$])&&(v=(s<3?i(v):s>3?i(r,t,v):i(r,t))||v);return s>3&&v&&Object.defineProperty(r,t,v),v};Op=X&&X.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};sa=X&&X.__awaiter||function(e,r,t,a){return new(t||(t=Promise))(function(i,s){function v(e){try{o(a.next(e))}catch(r){s(r)}}function $(e){try{o(a.throw(e))}catch(r){s(r)}}function o(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(v,$)}o((a=a.apply(e,r||[])).next())})};Object.defineProperty(X,"__esModule",{value:!0});gi=void 0;X.BootstrapService=gi;k=(o(),{});ta=(T(),e);Pp=(pd(),N);Qp=(qd(),O);ud=(Fe(),Fa);Rp=(Eh(),ob);Sp=(ih(),lb);Tp=(sd(),ma);u=(Ea(),{});Up=(Re(),Ha);Vp=(Qe(),Ga);Wp=(Se(),Ia);Xp=(Te(),Ja);Yp=(Ue(),Ka);Zp=(di(),rb);$p=(Mp(),td);_p=(h(),a);aq=class{constructor(e,r,t,a,i,s,v,$,o,n,c){this.logger=e,this.cacheService=r,this.lazyFactoriesService=t,this.configService=a,this.controllersService=i,this.effectsService=s,this.pluginService=v,this.componentsService=$,this.bootstrapsService=o,this.servicesService=n,this.afterStarterService=c,this.globalConfig=this.cacheService.createLayer({name:ud.InternalLayers.globalConfig})}start(e,r){this.configService.setConfig(r),this.globalConfig.putItem({key:ud.InternalEvents.config,data:r}),ta.Container.get(e);const t=Array.from(this.lazyFactoriesService.lazyFactories.keys());return(0,k.of)(t).pipe((0,u.map)(e=>this.prepareAsyncChainables(e)),(0,u.switchMap)(e=>(0,k.combineLatest)(e).pipe((0,u.take)(1),(0,u.map)(e=>this.attachLazyLoadedChainables(t,e)),(0,u.map)(()=>this.validateSystem()),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainableControllers())),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainablePluginsBeforeRegister())),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainablePluginsRegister())),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainablePluginsAfterRegister())),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainableServices())),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainableEffects())),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainableComponents())),(0,u.map)(()=>this.loadApplication()),(0,u.switchMap)(()=>(0,k.combineLatest)(this.asyncChainableBootstraps())),(0,u.map)(()=>this.final()))))}final(){return this.afterStarterService.appStarted.next(!0),this.configService.config.init||this.logger.log("Bootstrap -> press start!"),ta.Container}asyncChainableComponents(){return[(0,k.of)(!0),...this.componentsService.getComponents().filter(e=>this.genericFilter(e,"components")).map(e=>sa(this,void 0,void 0,function*(){return yield ta.Container.get(e)}))]}asyncChainableBootstraps(){return[(0,k.of)(!0),...this.bootstrapsService.getBootstraps().map(e=>sa(this,void 0,void 0,function*(){return yield ta.Container.get(e)}))]}asyncChainableEffects(){return[(0,k.of)(!0),...this.effectsService.getEffects().filter(e=>this.genericFilter(e,"effects")).map(e=>sa(this,void 0,void 0,function*(){return yield ta.Container.get(e)}))]}asyncChainableServices(){return[(0,k.of)(!0),...this.servicesService.getServices().filter(e=>this.genericFilter(e,"services")).map(e=>sa(this,void 0,void 0,function*(){return yield ta.Container.get(e)}))]}asyncChainableControllers(){return[(0,k.of)(!0),...this.controllersService.getControllers().filter(e=>this.genericFilter(e,"controllers")).map(e=>sa(this,void 0,void 0,function*(){return yield ta.Container.get(e)}))]}asyncChainablePluginsRegister(){return[(0,k.of)(!0),...this.pluginService.getPlugins().filter(e=>this.genericFilter(e,"plugins")).map(e=>sa(this,void 0,void 0,function*(){return yield this.registerPlugin(e)}))]}asyncChainablePluginsAfterRegister(){return[(0,k.of)(!0),...this.pluginService.getAfterPlugins().filter(e=>this.genericFilter(e,"pluginsAfter")).map(e=>sa(this,void 0,void 0,function*(){return yield this.registerPlugin(e)}))]}asyncChainablePluginsBeforeRegister(){return[(0,k.of)(!0),...this.pluginService.getBeforePlugins().filter(e=>this.genericFilter(e,"pluginsBefore")).map(e=>sa(this,void 0,void 0,function*(){return yield this.registerPlugin(e)}))]}genericFilter(e,r){return this.configService.config.initOptions[r]||e.metadata.options&&e.metadata.options.init||this.configService.config.init}registerPlugin(e){return sa(this,void 0,void 0,function*(){const r=ta.Container.get(e);return"function"==typeof(null==r?void 0:r.register)&&(yield r.register()),r})}prepareAsyncChainables(e){const r=[(0,k.of)(!0)],t={},a=e=>e.name||e;return e.map(e=>{const i=Date.now();t[a(e)]={started:i,end:null},this.logger.log(`Bootstrap -> @Service('${a(e)}'): loading...`);const s=(0,k.from)(this.lazyFactoriesService.getLazyFactory(e)).pipe((0,u.shareReplay)(1));r.push(s),s.subscribe(()=>{this.logger.log(`Bootstrap -> @Service('${a(e)}'): loading finished after ${Date.now()-t[a(e)].started}ms !`),delete t[a(e)]})}),r}validateSystem(){this.configService.config.strict&&this.cacheService.searchForDuplicateDependenciesInsideApp()}attachLazyLoadedChainables(e,r){r.splice(0,1);let t=0;return e.map(e=>{(0,$p.logExtendedInjectables)(e,this.configService.config.experimental.logExtendedInjectables),ta.Container.set(e,r[t++])}),!0}loadApplication(){return Array.from(this.cacheService.getLayer(ud.InternalLayers.modules).map.keys()).forEach(e=>this.cacheService.getLayer(e).putItem({key:ud.InternalEvents.load,data:this.configService.config.init})),!0}};gi=aq=Np([(0,_p.Service)(),Op("design:paramtypes",[Pp.BootstrapLogger,Qp.CacheService,Rp.LazyFactory,Sp.ConfigService,Vp.ControllersService,Up.EffectsService,Tp.PluginService,Wp.ComponentsService,Xp.BootstrapsServices,Yp.ServicesService,Zp.AfterStarterService])],aq),X.BootstrapService=gi}var vd,xc,hi,dq,eq,fq,gq=false;function hq(){if(gq)return;gq=true;vd={};xc=(Pe(),Le);Object.defineProperty(vd,"__esModule",{value:!0});hi=void 0;vd.exitHandlerInit=hi;dq=(Ch(),oa);eq=(T(),e);fq=()=>{const e=eq.Container.get(dq.ExitHandlerService);e.init(),xc.on("exit",e.exitHandler.bind(e,{cleanup:!0})),xc.on("SIGINT",e.exitHandler.bind(e,{exit:!0})),xc.on("SIGUSR1",e.exitHandler.bind(e,{exit:!0})),xc.on("SIGUSR2",e.exitHandler.bind(e,{exit:!0})),xc.on("uncaughtException",e.exitHandler.bind(e,{exit:!0}))};hi=fq,vd.exitHandlerInit=hi}var C,ii,ji,iq,jq,wd,kq,ki,lq,li,mq,mi,nq,ni,oq=false;function pq(){if(oq)return;oq=true;C={};Object.defineProperty(C,"__esModule",{value:!0});ii=(ki=void 0,li=C.Bootstrap=ki,mi=C.BootstrapPromisify=li,ni=C.BootstrapFramework=mi,C.setup=ni);C.createTestBed=ii,ng();ji=(T(),e);iq=(cq(),X);jq=(hq(),vd);(0,jq.exitHandlerInit)();wd=ji.Container.get(iq.BootstrapService);kq=(r,t)=>wd.start(r,t);ki=kq;C.Bootstrap=ki;lq=(r,t)=>wd.start(r,t).toPromise();li=lq;C.BootstrapPromisify=li;mq=(r,t,o)=>(wd.configService.setConfig(o),t.map(r=>ji.Container.get(r)),wd.start(r,o));mi=mq;C.BootstrapFramework=mi;nq=(r,t=[],o)=>{const e=(Ei(),Ab).Module;return(0,C.BootstrapFramework)(e({imports:r.imports||[],providers:r.providers||[],services:r.services||[],bootstrap:r.bootstrap||[],components:r.components||[],controllers:r.controllers||[],effects:r.effects||[],plugins:r.plugins||[],afterPlugins:r.afterPlugins||[],beforePlugins:r.beforePlugins||[]})(function(){}),t,o)};ni=nq;C.setup=ni,ii=C.setup,C.createTestBed=ii}var P,qq,xd,rq=false;function oi(){if(rq)return;rq=true;P={};qq=P&&P.__createBinding||(Object.create?function(r,e,$,t){void 0===t&&(t=$),Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[$]}})}:function(r,e,$,t){void 0===t&&(t=$),r[t]=e[$]});xd=P&&P.__exportStar||function(r,e){for(var $ in r)"default"===$||Object.prototype.hasOwnProperty.call(e,$)||qq(e,r,$)};Object.defineProperty(P,"__esModule",{value:!0}),xd((pq(),C),P),xd((tg(),rc),P),xd((Ai(),yc),P),xd((rg(),jb),P)}var sb,sq,pi,tq,uq,vq,wq=false;function qi(){if(wq)return;wq=true;sb={};sq=sb&&sb.__decorate||function(e,t,a,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(o<3?i(n):o>3?i(t,a,n):i(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n};Object.defineProperty(sb,"__esModule",{value:!0});pi=void 0;sb.MetadataService=pi;tq=(h(),a);uq=(oi(),P);vq=class{generateHashData(e,t){const a=e.services||[],r=e.imports||[],i=a=>a&&a.provide?a.provide:a?(this.validateCustomInjectable(a,e,t),{moduleName:a.metadata.moduleName,hash:a.metadata.moduleHash}):void 0;return[[...a.map(e=>i(e))],[...r.map(e=>i(e))]]}validateCustomInjectableKeys(e){}validateCustomInjectable(e,t,a){if(!e.metadata&&!e.provide)throw new Error(`\n                ---- Wrong service ${JSON.stringify(e)} provided inside '${a.name}' ----\n                @Module({\n                    services: ${JSON.stringify([...t.services.filter(e=>!e.metadata),...t.services.filter(e=>e&&e.metadata&&e.metadata.moduleName).map(e=>e.metadata.moduleName)])}\n                })\n                ${JSON.stringify(`${a}`,null,2)}\n\n                Hint: System recieved Object but it is not with appropriate format you must provide object with following parameters:\n\n                YourObject: ${JSON.stringify(e)}\n\n                Option 1. [YourClass]\n\n                Option 2. [{provide: 'your-value', useClass: YourClass}]\n\n                Option 3. [{provide: 'your-value', deps: [YourClass], useFactory: (test: YourClass) => {}}]\n\n                Option 4. [{provide: 'your-value', useValue: 'your-value'}]\n            `)}parseModuleTemplate(e,t,a){return`\n            ---- @gapi module '${e}' metadata----\n            @Module({\n                imports: ${JSON.stringify(t[1],null,"\t")},\n                services: ${JSON.stringify(t[0],null,"\t")}\n            })\n            ${JSON.stringify(a,null,2)}\n        `}createUniqueHash(e){return(0,uq.createUniqueHash)(e)}};pi=vq=sq([(0,tq.Service)()],vq),sb.MetadataService=pi}var tb,xq,yq,zq=false;function Aq(){if(zq)return;zq=true;tb={};xq=tb&&tb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});yq=tb&&tb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||xq(r,e,t)};Object.defineProperty(tb,"__esModule",{value:!0}),yq((qi(),sb),tb)}var Pa,ri,Bq,si,Cq,Dq,ti,ui,Eq=false;function Fq(){if(Eq)return;Eq=true;Pa={};ri=Pa&&Pa.__decorate||function(e,r,a,$){var o,t=arguments.length,c=t<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,a):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,a,$);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(t<3?o(c):t>3?o(r,a,c):o(r,a))||c);return t>3&&c&&Object.defineProperty(r,a,c),c};Bq=Pa&&Pa.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(Pa,"__esModule",{value:!0});si=void 0;Pa.CompressionService=si;Cq=(h(),a);Dq=(Rb(),ja);ti=(Ge(),V);ui=class{gZipAll(){}};ri([(0,Dq.Injector)(ti.ConfigService),Bq("design:type",ti.ConfigService)],ui.prototype,"config",void 0),si=ui=ri([(0,Cq.Service)()],ui),Pa.CompressionService=si}var ub,Gq,Hq,Iq=false;function Jq(){if(Iq)return;Iq=true;ub={};Gq=ub&&ub.__createBinding||(Object.create?function(e,r,x,t){void 0===t&&(t=x),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[x]}})}:function(e,r,x,t){void 0===t&&(t=x),e[t]=r[x]});Hq=ub&&ub.__exportStar||function(e,r){for(var x in e)"default"===x||Object.prototype.hasOwnProperty.call(r,x)||Gq(r,e,x)};Object.defineProperty(ub,"__esModule",{value:!0}),Hq((Fq(),Pa),ub)}var vb,Kq,Lq,Mq=false;function Nq(){if(Mq)return;Mq=true;vb={};Kq=vb&&vb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});Lq=vb&&vb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Kq(r,e,t)};Object.defineProperty(vb,"__esModule",{value:!0}),Lq((Re(),Ha),vb)}var wb,Oq,Pq,Qq=false;function Rq(){if(Qq)return;Qq=true;wb={};Oq=wb&&wb.__createBinding||(Object.create?function(t,e,r,$){void 0===$&&($=r),Object.defineProperty(t,$,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,$){void 0===$&&($=r),t[$]=e[r]});Pq=wb&&wb.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||Oq(e,t,r)};Object.defineProperty(wb,"__esModule",{value:!0}),Pq((Qe(),Ga),wb)}var xb,Sq,Tq,Uq=false;function Vq(){if(Uq)return;Uq=true;xb={};Sq=xb&&xb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});Tq=xb&&xb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Sq(r,e,t)};Object.defineProperty(xb,"__esModule",{value:!0}),Tq((Se(),Ia),xb)}var yb,Wq,Xq,Yq=false;function Zq(){if(Yq)return;Yq=true;yb={};Wq=yb&&yb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]});Xq=yb&&yb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Wq(r,e,t)};Object.defineProperty(yb,"__esModule",{value:!0}),Xq((Te(),Ja),yb)}var zb,$q,_q,ar=false;function br(){if(ar)return;ar=true;zb={};$q=zb&&zb.__createBinding||(Object.create?function(e,r,o,t){void 0===t&&(t=o),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[o]}})}:function(e,r,o,t){void 0===t&&(t=o),e[t]=r[o]});_q=zb&&zb.__exportStar||function(e,r){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||$q(r,e,o)};Object.defineProperty(zb,"__esModule",{value:!0}),_q((Ue(),Ka),zb)}var Qa,cr,dr,vi,er,fr,gr,hr=false;function ir(){if(hr)return;hr=true;Qa={};cr=Qa&&Qa.__decorate||function(e,r,t,$){var a,s=arguments.length,n=s<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,$);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(n=(s<3?a(n):s>3?a(r,t,n):a(r,t))||n);return s>3&&n&&Object.defineProperty(r,t,n),n};dr=Qa&&Qa.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(Qa,"__esModule",{value:!0});vi=void 0;Qa.PluginManager=vi;er=(sd(),ma);fr=(h(),a);gr=class{constructor(e){this.pluginService=e}listPlugins(){return this.pluginService.getPlugins()}getPlugin(e){return this.pluginService.getPlugins().filter(r=>r.name===e.name)[0]}};vi=gr=cr([(0,fr.Service)(),dr("design:paramtypes",[er.PluginService])],gr),Qa.PluginManager=vi}var f,jr,q,kr=false;function wi(){if(kr)return;kr=true;f={};jr=f&&f.__createBinding||(Object.create?function(r,e,$,p){void 0===p&&(p=$),Object.defineProperty(r,p,{enumerable:!0,get:function(){return e[$]}})}:function(r,e,$,p){void 0===p&&(p=$),r[p]=e[$]});q=f&&f.__exportStar||function(r,e){for(var $ in r)"default"===$||Object.prototype.hasOwnProperty.call(e,$)||jr(e,r,$)};Object.defineProperty(f,"__esModule",{value:!0}),q((wo(),la),f),q((sd(),ma),f),q((He(),ka),f),q((Lo(),nb),f),q((wp(),Oa),f),q((Ep(),qb),f),q((Ge(),V),f),q((Aq(),tb),f),q((Jq(),ub),f),q((Eg(),Ba),f),q((Nq(),vb),f),q((Rq(),wb),f),q((Vq(),xb),f),q((Zq(),yb),f),q((br(),zb),f),q((ir(),Qa),f),q((di(),rb),f)}var yc,xi,Ze,yi,Y,zi,lr=false;function mr(e,r,s){return function($,o){return e?(e.imports&&Y.setImports(e.imports,r),e.services&&Y.setServices(e.services,r,s),e.providers&&Y.setServices(e.providers,r,s),e.controllers&&Y.setControllers(e.controllers,r,s),e.effects&&Y.setEffects(e.effects,r,s),e.components&&Y.setComponents(e.components,r,s),e.beforePlugins&&Y.setBeforePlugins(e.beforePlugins,r,s),e.plugins&&Y.setPlugins(e.plugins,r,s),e.afterPlugins&&Y.setAfterPlugins(e.afterPlugins,r,s),e.bootstrap&&Y.setBootstraps(e.bootstrap,r,s),zi.log(`Bootstrap -> @Module('${$.originalName}')${zi.logHashes(`(${$.name})`)}: finished!`),Ze.Container.get($)):new $}}function Ai(){if(lr)return;lr=true;yc={};Object.defineProperty(yc,"__esModule",{value:!0});xi=void 0;yc.GenericConstruct=xi;Ze=(T(),e);yi=(wi(),f);Y=Ze.Container.get(yi.ModuleService);zi=Ze.Container.get(yi.BootstrapLogger);xi=mr,yc.GenericConstruct=xi}var Ab,Bi,Vb,nr,or,pr,qr,rr,sr,yd,tr,ur,$e,ua,Ci,vr=false;function Di(e){return r=>{e=e||{};const $=Object.assign(r),o=r.name||r.constructor.name,c=$e.generateHashData(e,$),a=$e.parseModuleTemplate(o,c,`${r}`),t=$e.createUniqueHash(a);Object.defineProperty($,"originalName",{value:$.name||$.constructor.name,writable:!1}),Object.defineProperty($,"name",{value:t,writable:!0});const s=ur.createLayer({name:t});$.metadata={moduleName:$.originalName,moduleHash:t,options:null,type:"module",raw:a};const i=function(...r){return yd.log(`Bootstrap -> @Module('${$.originalName}')${yd.logHashes(`(${$.name})`)}: loading...`),(0,or.GenericConstruct)(e,$,s)($,r)};if(Object.assign(i,$),tr.resolveDependencies(t,$,o).subscribe(()=>yd.log(`Start -> @Module('${$.originalName}')${yd.logHashes(`(${$.name})`)}: loaded!`)),Object.getOwnPropertyNames($).filter(e=>"function"==typeof $[e]).map(e=>Object.defineProperty(i,e,{configurable:!0,writable:!0,value:$[e]})),$.forRoot){const e=i.forRoot;i.forRoot=function(...r){const o=e(...r);if(!o)throw new Error(`forRoot configuration inside ${i.name} is returning undefined or null`);return o.frameworkImports&&ua.setImports(o.frameworkImports,$),o.services&&ua.setServices(o.services,$,s),o.providers&&ua.setServices(o.providers,$,s),o.components&&ua.setComponents(o.components,$,s),o.effects&&ua.setEffects(o.effects,$,s),o.controllers&&ua.setControllers(o.controllers,$,s),o.beforePlugins&&ua.setBeforePlugins(o.beforePlugins,$,s),o.plugins&&ua.setPlugins(o.plugins,$,s),o.afterPlugins&&ua.setAfterPlugins(o.afterPlugins,$,s),o.ngModule?o.ngModule:o.module?o.module:o}}const n={type:i};return Vb.Container.set(n),i}}function Ei(){if(vr)return;vr=true;Ab={};Object.defineProperty(Ab,"__esModule",{value:!0});Bi=(Ci=void 0,Ab.Module=Ci);Ab.NgModule=Bi;Vb=(T(),e);nr=(qd(),O);or=(Ai(),yc);pr=(pd(),N);qr=(bi(),ra);rr=(qi(),sb);sr=(Ve(),W);yd=Vb.Container.get(pr.BootstrapLogger);tr=Vb.Container.get(qr.ResolverService);ur=Vb.Container.get(nr.CacheService);$e=Vb.Container.get(rr.MetadataService);ua=Vb.Container.get(sr.ModuleService);Ci=Di;Ab.Module=Ci,Bi=Di,Ab.NgModule=Bi}var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Object.defineProperty(Da,"__esModule",{value:!0}),Pg((Ei(),Ab),Da),Pg(Fi,Da);var Bb={},wr=Bb&&Bb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),xr=Bb&&Bb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||wr(r,e,t)};Object.defineProperty(Bb,"__esModule",{value:!0}),xr((Rb(),ja),Bb);var Cb={},yr=Cb&&Cb.__createBinding||(Object.create?function(t,e,r,$){void 0===$&&($=r),Object.defineProperty(t,$,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,$){void 0===$&&($=r),t[$]=e[r]}),zr=Cb&&Cb.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||yr(e,t,r)};var zd={};Object.defineProperty(zd,"__esModule",{value:!0});var Gi=void 0;zd.InjectSoft=Gi;const Ar=(T(),e),Br=(Ve(),W);function Cr(e){return Ar.Container.get(Br.ModuleService).watcherService.getByClass(e)}Gi=Cr,zd.InjectSoft=Gi;Object.defineProperty(Cb,"__esModule",{value:!0}),zr(zd,Cb);var _e={};Object.defineProperty(_e,"__esModule",{value:!0});var af=void 0;_e.CannotInjectError=af;class Dr extends Error{constructor(r,e){super(`Cannot inject value into '${r.constructor.name}.${e}'. `+"Please make sure you setup @abraham/reflection properly and you don't use interfaces without service tokens as injection value."),this.name="ServiceNotFoundError",Object.setPrototypeOf(this,CannotInjectError.prototype)}}af=Dr,_e.CannotInjectError=af;var zc={};Object.defineProperty(zc,"__esModule",{value:!0});var Ad=(Ac=void 0,zc.getIdentifier=Ac);zc.isClient=Ad;const Er=(Nb(),M),Fr=(e,$,r)=>{let t;if((t="string"==typeof e?e:e instanceof Er.Token?e:e())===Object)throw new af($,r);return t};var Ac=Fr;zc.getIdentifier=Ac;const Gr=()=>"undefined"!=typeof window&&void 0!==window.document;Ad=Gr,zc.isClient=Ad;var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});var Hi=void 0;Bd.Inject=Hi;const Ii=(Ob(),ha);function Hr(e){return function(t,r,$){(0,Ad)()&&e&&"function"==typeof e?Object.defineProperty(t,r,{get:()=>Ii.Container.get(e)}):(e||(e=()=>Reflect.getMetadata("design:type",t,r)),Ii.Container.registerHandler({object:t,propertyName:r,index:$,value:$=>$.get((0,Ac)(e,t,r))}))}}Hi=Hr,Bd.Inject=Hi;var Db={},Ir=Db&&Db.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),Jr=Db&&Db.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Ir(r,e,t)};var Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});var Ji=void 0;Cd.Controller=Ji;const Kr=(Pb(),ia);function Lr(r){return(0,Kr.ReflectDecorator)(r,{type:"controller"})}Ji=Lr,Cd.Controller=Ji;Object.defineProperty(Db,"__esModule",{value:!0}),Jr(Cd,Db);var Eb={},Mr=Eb&&Eb.__createBinding||(Object.create?function(r,e,t,$){void 0===$&&($=t),Object.defineProperty(r,$,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,$){void 0===$&&($=t),r[$]=e[t]}),Nr=Eb&&Eb.__exportStar||function(r,e){for(var t in r)"default"===t||Object.prototype.hasOwnProperty.call(e,t)||Mr(e,r,t)};var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});var Ki=void 0;Dd.Effect=Ki;const Or=(Pb(),ia);function Pr(e){return(0,Or.ReflectDecorator)(e,{type:"effect"})}Ki=Pr,Dd.Effect=Ki;Object.defineProperty(Eb,"__esModule",{value:!0}),Nr(Dd,Eb);var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});var Li=void 0;Ed.Plugin=Li;const Qr=(Pb(),ia);function Rr(e){return(0,Qr.ReflectDecorator)(e,{type:"plugin"})}Li=Rr,Ed.Plugin=Li;var Fb={},Sr=Fb&&Fb.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),Tr=Fb&&Fb.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||Sr(r,e,t)};var Fd={};Object.defineProperty(Fd,"__esModule",{value:!0});var Mi=void 0;Fd.Component=Mi;const Ur=(Pb(),ia);function Vr(e){return(0,Ur.ReflectDecorator)(e,{type:"component"})}Mi=Vr,Fd.Component=Mi;Object.defineProperty(Fb,"__esModule",{value:!0}),Tr(Fd,Fb);var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});var Ni=void 0;Gd.InjectMany=Ni;const Oi=(Ob(),ha),Wr=(Nb(),M);function Xr(e){return function(n,t,$){(0,Ad)()&&e instanceof Wr.Token?Object.defineProperty(n,t,{get:()=>Oi.Container.getMany((0,Ac)(e,n,t))}):(e||(e=()=>Reflect.getMetadata("design:type",n,t)),Oi.Container.registerHandler({object:n,propertyName:t,index:$,value:$=>$.getMany((0,Ac)(e,n,t))}))}}Ni=Xr,Gd.InjectMany=Ni;m.Injectable=qn,U(Da,m),U(Bb,m),U(Cb,m),U(Bd,m),U(Db,m),U(Eb,m),U(Ed,m),U((h(),a),m),U(Fb,m),U(Gd,m);var Yr=(h(),a);Object.defineProperty(m,"Injectable",{enumerable:!0,get:function(){return Yr.Service}});Object.defineProperty(i,"__esModule",{value:!0}),ng(),id((T(),e),i),id(m,i),id((oi(),P),i),id((wi(),f),i);var Zr,Pi=(Pe(),Le);wn();var bf="Invariant Violation",Qi=Object.setPrototypeOf,$r=void 0===Qi?function(r,$){return r.__proto__=$,r}:Qi,_r=function(r){function $(e){void 0===e&&(e=bf);var t=r.call(this,"number"==typeof e?bf+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return t.framesToPop=1,t.name=bf,$r(t,$.prototype),t}return vn($,r),$}(Error);function as(r,$){if(!r)throw new _r($)}function Ri(r){return function(){return console[r].apply(console,arguments)}}!function(r){r.warn=Ri("warn"),r.error=Ri("error")}(as||(Zr=as={},Zr));var bs={env:{}};if("object"==typeof Pi)bs=Pi;else try{Function("stub","process = stub")(bs)}catch(atLeastWeTried){}var Si=Object.prototype,Ti=Si.toString,cs=Si.hasOwnProperty,Ui=new Map;function Vi(r,e){if(r===e)return!0;var t=Ti.call(r);if(t!==Ti.call(e))return!1;switch(t){case"[object Array]":if(r.length!==e.length)return!1;case"[object Object]":if(Wi(r,e))return!0;var a=Object.keys(r),$=Object.keys(e),o=a.length;if(o!==$.length)return!1;for(var n=0;n<o;++n)if(!cs.call(e,a[n]))return!1;for(n=0;n<o;++n){var s=a[n];if(!Vi(r[s],e[s]))return!1}return!0;case"[object Error]":return r.name===e.name&&r.message===e.message;case"[object Number]":if(r!=r)return e!=e;case"[object Boolean]":case"[object Date]":return+r==+e;case"[object RegExp]":case"[object String]":return r==""+e;case"[object Map]":case"[object Set]":if(r.size!==e.size)return!1;if(Wi(r,e))return!0;for(var c=r.entries(),i="[object Map]"===t;;){var u=c.next();if(u.done)break;var v=u.value,p=v[0],f=v[1];if(!e.has(p))return!1;if(i&&!Vi(f,e.get(p)))return!1}return!0;}return!1}function Wi(r,e){var t=Ui.get(r);if(t){if(t.has(e))return!0}else Ui.set(r,t=new Set);return t.add(e),!1}function ds(){}var Q=null,Xi={},es=1,fs=function(){return function(){function t(){this.id=["slot",es++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var t=Q;t;t=t.parent)if(this.id in t.slots){var r=t.slots[this.id];if(r===Xi)break;return t!==Q&&(Q.slots[this.id]=r),!0}return Q&&(Q.slots[this.id]=Xi),!1},t.prototype.getValue=function(){if(this.hasValue())return Q.slots[this.id]},t.prototype.withValue=function(t,r,$,e){var n,u=((n={__proto__:null})[this.id]=t,n),o=Q;Q={parent:o,slots:u};try{return r.apply(e,$)}finally{Q=o}},t.bind=function(t){var r=Q;return function(){var $=Q;try{return Q=r,t.apply(this,arguments)}finally{Q=$}}},t.noContext=function(t,r,$){if(!Q)return t.apply($,r);var e=Q;try{return Q=null,t.apply($,r)}finally{Q=e}},t}()},cf="@wry/context:Slot",df=Array,ef=df[cf]||function(){var t=fs();try{Object.defineProperty(df,cf,{value:df[cf]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),tw=ef.bind,uw=ef.noContext;var vw=function(){function e(e,r){void 0===e&&(e=1/0),void 0===r&&(r=ds),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var r=this.getEntry(e);return r&&r.value},e.prototype.getEntry=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var t=r.older,$=r.newer;$&&($.older=t),t&&(t.newer=$),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=$)}return r},e.prototype.set=function(e,r){var t=this.getEntry(e);return t?t.value=r:(t={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=t),this.newest=t,this.oldest=this.oldest||t,this.map.set(e,t),t.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var r=this.map.get(e);return!!r&&(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0)},e}(),Yi=new ef,gs=[],ff=[],hs=100;function Wb(e,r){if(!e)throw new Error(r||"assertion failure")}function is(e,r){var t=e.length;return t>0&&t===r.length&&e[t-1]===r[t-1]}function Zi(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1];}}function js(e){return e.slice(0)}var ww=function(){function e(r,t){this.fn=r,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(Wb(!this.recomputing,"already recomputing"),ks(this)||!gf(this))return Xb(this)?ls(this):Zi(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,$i(this),hf(this))},e.prototype.dispose=function(){var e=this;dj(this).forEach(gf),hf(this),this.parents.forEach(function(r){r.setDirty(),ej(r,e)})},e.count=0,e}();function ks(e){var r=Yi.getValue();if(r)return e.parents.add(r),r.childValues.has(e)||r.childValues.set(e,[]),Xb(e)?aj(r,e):bj(r,e),r}function ls(e){var r=dj(e);return Yi.withValue(e,ms,[e]),os(e)&&ns(e),r.forEach(gf),Zi(e.value)}function ms(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(r){e.value[1]=r}e.recomputing=!1}function Xb(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ns(e){e.dirty=!1,Xb(e)||_i(e)}function $i(e){e.parents.forEach(function(r){return aj(r,e)})}function _i(e){e.parents.forEach(function(r){return bj(r,e)})}function aj(e,r){if(Wb(e.childValues.has(r)),Wb(Xb(r)),e.dirtyChildren){if(e.dirtyChildren.has(r))return}else e.dirtyChildren=ff.pop()||new Set;e.dirtyChildren.add(r),$i(e)}function bj(e,r){Wb(e.childValues.has(r)),Wb(!Xb(r));var t=e.childValues.get(r);0===t.length?e.childValues.set(r,js(r.value)):is(t,r.value)||e.setDirty(),cj(e,r),Xb(e)||_i(e)}function cj(e,r){var t=e.dirtyChildren;t&&(t.delete(r),0===t.size&&(ff.length<hs&&ff.push(t),e.dirtyChildren=null))}function gf(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function dj(e){var r=gs;return e.childValues.size>0&&(r=[],e.childValues.forEach(function(t,$){ej(e,$),r.push($)})),Wb(null===e.dirtyChildren),r}function ej(e,r){r.parents.delete(e),e.childValues.delete(r),cj(e,r)}function os(e){if("function"==typeof e.subscribe)try{hf(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(r){return e.setDirty(),!1}return!0}function hf(e){var r=e.unsubscribe;"function"==typeof r&&(e.unsubscribe=void 0,r())}var ps=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var r=this;return e.forEach(function(e){return r=r.getChildTrie(e)}),r.data||(r.data=Object.create(null))},e.prototype.getChildTrie=function(r){var t=this.weakness&&qs(r)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),$=t.get(r);return $||t.set(r,$=new e(this.weakness)),$},e}();function qs(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0;}return!1}var xw=new ps("function"==typeof WeakMap);var yw=new Set;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});var fj=void 0;function kf(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gj(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lf(e,r,t){return r&&gj(e.prototype,r),t&&gj(e,t),e}jf.Observable=fj;var mf=function(){return"function"==typeof Symbol},nf=function(e){return mf()&&Boolean(Symbol[e])},of=function(e){return nf(e)?Symbol[e]:"@@"+e};mf()&&!nf("observable")&&(Symbol.observable=Symbol("observable"));var rs=of("iterator"),pf=of("observable"),hj=of("species");function Hd(e,r){var t=e[r];if(null!=t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}}function Bc(e){var r=e.constructor;return void 0!==r&&null===(r=r[hj])&&(r=void 0),void 0!==r?r:Jd}function ss(e){return e instanceof Jd}function Yb(e){Yb.log?Yb.log(e):setTimeout(function(){throw e})}function Id(e){Promise.resolve().then(function(){try{e()}catch(r){Yb(r)}})}function ij(e){var r=e._cleanup;if(void 0!==r&&(e._cleanup=void 0,r))try{if("function"==typeof r)r();else{var t=Hd(r,"unsubscribe");t&&t.call(r)}}catch(n){Yb(n)}}function qf(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function ts(e){var r=e._queue;if(r){e._queue=void 0,e._state="ready";for(var t=0;t<r.length&&(jj(e,r[t].type,r[t].value),"closed"!==e._state);++t);}}function jj(e,r,t){e._state="running";var n=e._observer;try{var o=Hd(n,r);switch(r){case"next":o&&o.call(n,t);break;case"error":if(qf(e),!o)throw t;o.call(n,t);break;case"complete":qf(e),o&&o.call(n);}}catch(i){Yb(i)}"closed"===e._state?ij(e):"running"===e._state&&(e._state="ready")}function rf(e,r,t){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:r,value:t}],void Id(function(){return ts(e)})):void jj(e,r,t);e._queue.push({type:r,value:t})}}var us=function(){function e(r,t){kf(this,e),this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var n=new vs(this);try{this._cleanup=t.call(void 0,n)}catch(o){n.error(o)}"initializing"===this._state&&(this._state="ready")}return lf(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(qf(this),ij(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),vs=function(){function e(r){kf(this,e),this._subscription=r}return lf(e,[{key:"next",value:function(e){rf(this._subscription,"next",e)}},{key:"error",value:function(e){rf(this._subscription,"error",e)}},{key:"complete",value:function(){rf(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),Jd=function(){function e(r){if(kf(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof r)throw new TypeError("Observable initializer must be a function");this._subscriber=r}return lf(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new us(e,this._subscriber)}},{key:"forEach",value:function(e){var r=this;return new Promise(function(t,n){if("function"==typeof e)var o=r.subscribe({next:function(r){try{e(r,i)}catch(t){n(t),o.unsubscribe()}},error:n,complete:t});else n(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),t()}})}},{key:"map",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Bc(this))(function(t){return r.subscribe({next:function(r){try{r=e(r)}catch(n){return t.error(n)}t.next(r)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"filter",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Bc(this))(function(t){return r.subscribe({next:function(r){try{if(!e(r))return}catch(n){return t.error(n)}t.next(r)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"reduce",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=Bc(this),n=arguments.length>1,o=!1,i=arguments[1];return new t(function(t){return r.subscribe({next:function(r){var a=!o;if(o=!0,!a||n)try{i=e(i,r)}catch(c){return t.error(c)}else i=r},error:function(e){t.error(e)},complete:function(){if(!o&&!n)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}})})}},{key:"concat",value:function(){for(var e=this,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var o=Bc(this);return new o(function(r){var n,i=0;return function e(a){n=a.subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){i===t.length?(n=void 0,r.complete()):e(o.from(t[i++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}})}},{key:"flatMap",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=Bc(this);return new t(function(n){var o=[],i=r.subscribe({next:function(r){if(e)try{r=e(r)}catch(c){return n.error(c)}var i=t.from(r).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){n.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&n.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),i.unsubscribe()}})}},{key:pf,value:function(){return this}}],[{key:"from",value:function(r){var t="function"==typeof this?this:e;if(null==r)throw new TypeError(r+" is not an object");var n=Hd(r,pf);if(n){var o=n.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return ss(o)&&o.constructor===t?o:new t(function(e){return o.subscribe(e)})}if(nf("iterator")&&(n=Hd(r,rs)))return new t(function(e){Id(function(){if(!e.closed){var t=!0,o=!1,i=void 0;try{for(var a,c=n.call(r)[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var u=a.value;if(e.next(u),e.closed)return}}catch($){o=!0,i=$}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}e.complete()}})});if(Array.isArray(r))return new t(function(e){Id(function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return new("function"==typeof this?this:e)(function(e){Id(function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}})})}},{key:hj,get:function(){return this}}]),e}();fj=Jd,jf.Observable=fj,mf()&&Object.defineProperty(Jd,Symbol("extensions"),{value:{symbol:pf,hostReportError:Yb},configurable:!0});function ws(e){var o,r=e.Symbol;return"function"==typeof r?r.observable?o=r.observable:(o=r("observable"),r.observable=o):o="@@observable",o}var xs=function(){var e,l={exports:this};this.__esModule=!0,e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof hd?hd:void 0!==l?l:Function("return this")();var o=ws(e);return this.default=o,l.exports}.call({});var kj={};function Zb(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}kj=Zb,Zb.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),o=Math.floor(a*this.jitter*t);t=0==(1&Math.floor(10*a))?t-o:t+o}return 0|Math.min(t,this.max)},Zb.prototype.reset=function(){this.attempts=0},Zb.prototype.setMin=function(t){this.ms=t},Zb.prototype.setMax=function(t){this.max=t},Zb.prototype.setJitter=function(t){this.jitter=t};var Z={};Object.defineProperty(Z,"__esModule",{value:!0});var lj=(sf=void 0,tf=Z.ApolloClient=sf,uf=Z.GraphqlDocuments=tf,Z.noopHeaders=uf);Z.noop=lj;var sf=new i.InjectionToken("apollo-link");Z.ApolloClient=sf;var tf="graphql-documents";Z.GraphqlDocuments=tf;const ys=()=>new Headers;var uf=ys;Z.noopHeaders=uf;const zs=()=>null;lj=zs,Z.noop=lj;var As={},Bs=Object.prototype.hasOwnProperty,D="~";function Cc(){}function Cs(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function mj(e,t,r,n,$){if("function"!=typeof r)throw new TypeError("The listener must be a function");var v=new Cs(r,n||e,$),a=D?D+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],v]:e._events[a].push(v):(e._events[a]=v,e._eventsCount++),e}function Kd(e,t){0==--e._eventsCount?e._events=new Cc:delete e._events[t]}function r(){this._events=new Cc,this._eventsCount=0}Object.create&&(Cc.prototype=Object.create(null),new Cc().__proto__||(D=!1)),r.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)Bs.call(e,t)&&r.push(D?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},r.prototype.listeners=function(e){var t=D?D+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,$=r.length,v=new Array($);n<$;n++)v[n]=r[n].fn;return v},r.prototype.listenerCount=function(e){var t=D?D+e:e,r=this._events[t];return r?r.fn?1:r.length:0},r.prototype.emit=function(e,t,r,n,$,v){var a=D?D+e:e;if(!this._events[a])return!1;var i,J,l=this._events[a],s=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,$),!0;case 6:return l.fn.call(l.context,t,r,n,$,v),!0;}for(J=1,i=new Array(s-1);J<s;J++)i[J-1]=arguments[J];l.fn.apply(l.context,i)}else{var o,f=l.length;for(J=0;J<f;J++)switch(l[J].once&&this.removeListener(e,l[J].fn,void 0,!0),s){case 1:l[J].fn.call(l[J].context);break;case 2:l[J].fn.call(l[J].context,t);break;case 3:l[J].fn.call(l[J].context,t,r);break;case 4:l[J].fn.call(l[J].context,t,r,n);break;default:if(!i)for(o=1,i=new Array(s-1);o<s;o++)i[o-1]=arguments[o];l[J].fn.apply(l[J].context,i);}}return!0},r.prototype.on=function(e,t,r){return mj(this,e,t,r,!1)},r.prototype.once=function(e,t,r){return mj(this,e,t,r,!0)},r.prototype.removeListener=function(e,t,r,n){var $=D?D+e:e;if(!this._events[$])return this;if(!t)return Kd(this,$),this;var v=this._events[$];if(v.fn)v.fn!==t||n&&!v.once||r&&v.context!==r||Kd(this,$);else{for(var a=0,i=[],J=v.length;a<J;a++)(v[a].fn!==t||n&&!v[a].once||r&&v[a].context!==r)&&i.push(v[a]);i.length?this._events[$]=1===i.length?i[0]:i:Kd(this,$)}return this},r.prototype.removeAllListeners=function(e){var t;return e?(t=D?D+e:e,this._events[t]&&Kd(this,t)):(this._events=new Cc,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=D,r.EventEmitter=r,As=r;var Ld={};function Ds($){return"string"==typeof $}Object.defineProperty(Ld,"__esModule",{value:!0});var Es=Ds;Ld.default=Es;var nj={};function Fs(e){return null!==e&&"object"==typeof e}Object.defineProperty(nj,"__esModule",{value:!0});var oj=Fs;nj.default=oj;var $b={};Object.defineProperty($b,"__esModule",{value:!0});var pj=(qj=void 0,$b.GRAPHQL_WS=qj);$b.GRAPHQL_SUBSCRIPTIONS=pj;var Gs="graphql-ws",qj=Gs;$b.GRAPHQL_WS=qj;var Hs="graphql-subscriptions";pj=Hs,$b.GRAPHQL_SUBSCRIPTIONS=pj;var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});var vf=(wf=void 0,Dc.MIN_WS_TIMEOUT=wf);Dc.WS_TIMEOUT=vf;var Is=1e3,wf=Is;Dc.MIN_WS_TIMEOUT=wf;var Js=3e4;vf=Js,Dc.WS_TIMEOUT=vf;var s={};Object.defineProperty(s,"__esModule",{value:!0});var Ks=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}(),Ls=Ks;s.default=Ls;var J={},Md=J&&J.__assign||function(){return(Md=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ms=J&&J.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})},Ns=J&&J.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rj=J&&J.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(J,"__esModule",{value:!0});var sj=void 0;J.SubscriptionClient=sj;var tj="undefined"!=typeof hd?hd:"undefined"!=typeof window?window:{},Os=tj.WebSocket||tj.MozWebSocket,Ps={},Qs={},Rs=function(){function t(t,e,n,r){var i=e||{},o=i.connectionCallback,s=void 0===o?void 0:o,a=i.connectionParams,c=void 0===a?{}:a,u=i.minTimeout,l=void 0===u?wf:u,p=i.timeout,h=void 0===p?vf:p,y=i.reconnect,$=void 0!==y&&y,f=i.reconnectionAttempts,v=void 0===f?1/0:f,d=i.lazy,m=void 0!==d&&d,_=i.inactivityTimeout,g=void 0===_?0:_,b=i.wsOptionArguments,w=void 0===b?[]:b;if(this.wsImpl=n||Os,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||$b.GRAPHQL_WS,this.connectionCallback=s,this.url=t,this.operations={},this.nextOperationId=0,this.minWsTimeout=l,this.wsTimeout=h,this.unsentMessagesQueue=[],this.reconnect=$,this.reconnecting=!1,this.reconnectionAttempts=v,this.lazy=!!m,this.inactivityTimeout=g,this.closedByUser=!1,this.backoff=new kj({jitter:.5}),this.eventEmitter=new As.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(c),this.wsOptionArguments=w,this.lazy||this.connect()}return Object.defineProperty(t.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!1,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=e,t&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,s.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null,this.client=null,this.eventEmitter.emit("disconnected"),t||this.tryReconnect())},t.prototype.request=function(t){var e,n,r=this.getObserver.bind(this),i=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(e={})[xs.default]=function(){return this},e.subscribe=function(e,s,a){var c=r(e,s,a);return n=i(t,function(t,e){null===t&&null===e?c.complete&&c.complete():t?c.error&&c.error(t[0]):c.next&&c.next(e)}),{unsubscribe:function(){n&&(o(n),n=null)}}},e},t.prototype.on=function(t,e,n){var r=this.eventEmitter.on(t,e,n);return function(){r.off(t,e,n)}},t.prototype.onConnected=function(t,e){return this.on("connected",t,e)},t.prototype.onConnecting=function(t,e){return this.on("connecting",t,e)},t.prototype.onDisconnected=function(t,e){return this.on("disconnected",t,e)},t.prototype.onReconnected=function(t,e){return this.on("reconnected",t,e)},t.prototype.onReconnecting=function(t,e){return this.on("reconnecting",t,e)},t.prototype.onError=function(t,e){return this.on("error",t,e)},t.prototype.unsubscribeAll=function(){var t=this;Object.keys(this.operations).forEach(function(e){t.unsubscribe(e)})},t.prototype.applyMiddlewares=function(t){var e=this;return new Promise(function(n,r){var i,o,s;i=rj(e.middlewares),o=e,(s=function(e){if(e)r(e);else if(i.length>0){var a=i.shift();a&&a.applyMiddleware.apply(o,[t,s])}else n(t)})()})},t.prototype.use=function(t){var e=this;return t.map(function(t){if("function"!=typeof t.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");e.middlewares.push(t)}),this},t.prototype.getConnectionParams=function(t){return function(){return new Promise(function(e,n){if("function"==typeof t)try{return e(t.call(null))}catch(r){return n(r)}e(t)})}},t.prototype.executeOperation=function(t,e){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:t,handler:e},this.applyMiddlewares(t).then(function(t){n.checkOperationOptions(t,e),n.operations[r]&&(n.operations[r]={options:t,handler:e},n.sendMessage(r,s.default.GQL_START,t))}).catch(function(t){n.unsubscribe(r),e(n.formatErrors(t))}),r},t.prototype.getObserver=function(t,e,n){return"function"==typeof t?{next:function(e){return t(e)},error:function(t){return e&&e(t)},complete:function(){return n&&n()}}:t},t.prototype.createMaxConnectTimeGenerator=function(){var t=this.minWsTimeout,e=this.wsTimeout;return new kj({min:t,max:e,factor:1.2})},t.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},t.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},t.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},t.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},t.prototype.setInactivityTimeout=function(){var t=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(t.operations).length&&t.close()},this.inactivityTimeout))},t.prototype.checkOperationOptions=function(t,e){var n=t.query,r=t.variables,i=t.operationName;if(!n)throw new Error("Must provide a query.");if(!e)throw new Error("Must provide an handler.");if(!Ld.default(n)&&!Qs.getOperationAST(n,i)||i&&!Ld.default(i)||r&&!oj(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},t.prototype.buildMessage=function(t,e,n){return{id:t,type:e,payload:n&&n.query?Md(Md({},n),{query:"string"==typeof n.query?n.query:Ps.print(n.query)}):n}},t.prototype.formatErrors=function(t){return Array.isArray(t)?t:t&&t.errors?this.formatErrors(t.errors):t&&t.message?[t]:[{name:"FormatedError",message:"Unknown error",originalError:t}]},t.prototype.sendMessage=function(t,e,n){this.sendMessageRaw(this.buildMessage(t,e,n))},t.prototype.sendMessageRaw=function(t){switch(this.status){case this.wsImpl.OPEN:var e=JSON.stringify(t);try{JSON.parse(e)}catch(n){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+t))}this.client.send(e);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(t);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(t)));}},t.prototype.generateOperationId=function(){return String(++this.nextOperationId)},t.prototype.tryReconnect=function(){var t=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(e){t.unsentMessagesQueue.push(t.buildMessage(e,s.default.GQL_START,t.operations[e].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var e=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){t.connect()},e)}},t.prototype.flushUnsentMessagesQueue=function(){var t=this;this.unsentMessagesQueue.forEach(function(e){t.sendMessageRaw(e)}),this.unsentMessagesQueue=[]},t.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},t.prototype.checkMaxConnectTimeout=function(){var t=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){t.status!==t.wsImpl.OPEN&&(t.reconnecting=!0,t.close(!1,!0))},this.maxConnectTimeGenerator.duration())},t.prototype.connect=function(){var t,e=this;this.client=new((t=this.wsImpl).bind.apply(t,rj([void 0,this.url,this.wsProtocols],this.wsOptionArguments))),this.checkMaxConnectTimeout(),this.client.onopen=function(){return Ms(e,void 0,void 0,function(){var t,e;return Ns(this,function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return t=n.sent(),this.sendMessage(void 0,s.default.GQL_CONNECTION_INIT,t),this.flushUnsentMessagesQueue(),[3,4];case 3:return e=n.sent(),this.sendMessage(void 0,s.default.GQL_CONNECTION_ERROR,e),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2];}})})},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var n=t.data;e.processReceivedData(n)}},t.prototype.processReceivedData=function(t){var e,n;try{n=(e=JSON.parse(t)).id}catch(s){throw new Error("Message must be JSON-parseable. Got: "+t)}if(-1===[s.default.GQL_DATA,s.default.GQL_COMPLETE,s.default.GQL_ERROR].indexOf(e.type)||this.operations[n])switch(e.type){case s.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(e.payload);break;case s.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected",e.payload),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case s.default.GQL_COMPLETE:var r=this.operations[n].handler;delete this.operations[n],r.call(this,null,null);break;case s.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(e.payload),null),delete this.operations[n];break;case s.default.GQL_DATA:var i=e.payload.errors?Md(Md({},e.payload),{errors:this.formatErrors(e.payload.errors)}):e.payload;this.operations[n].handler(null,i);break;case s.default.GQL_CONNECTION_KEEP_ALIVE:var o=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!");}else this.unsubscribe(n)},t.prototype.unsubscribe=function(t){this.operations[t]&&(delete this.operations[t],this.setInactivityTimeout(),this.sendMessage(t,s.default.GQL_STOP,void 0))},t}();sj=Rs,J.SubscriptionClient=sj;var Ss,Ts,n={},Us=n&&n.__createBinding||(Object.create?function(e,r,o,t){void 0===t&&(t=o),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[o]}})}:function(e,r,o,t){void 0===t&&(t=o),e[t]=r[o]}),Vs=n&&n.__decorate||function(e,r,o,t){var $,a=arguments.length,n=a<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,o,t);else for(var l=e.length-1;l>=0;l--)($=e[l])&&(n=(a<3?$(n):a>3?$(r,o,n):$(r,o))||n);return a>3&&n&&Object.defineProperty(r,o,n),n},uj=n&&n.__exportStar||function(e,r){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||Us(r,e,o)},Ws=n&&n.__awaiter||function(e,r,o,t){return new(o||(o=Promise))(function($,a){function n(e){try{i(t.next(e))}catch(r){a(r)}}function l(e){try{i(t.throw(e))}catch(r){a(r)}}function i(e){var r;e.done?$(e.value):(r=e.value,r instanceof o?r:new o(function(e){e(r)})).then(n,l)}i((t=t.apply(e,r||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var Xs=(xf=void 0,Ss=n.GraphqlModule=xf,n.IntrospectionFragmentMatcher=Ss);n.InMemoryCache=Xs;const Ys={},Zs={},$s={},Ec={},_s={},at={},bt={};let ct=Ts=class{static forRoot({uri:e,pubsub:r,onRequest:o,cache:t,apolloRequestHandler:$,cancelPendingRequests:a,apolloClientOptions:n}={},l={}){const i={},c={};return{module:Ts,providers:[{provide:tf,useValue:l},{provide:sf,useFactory:()=>new $s.ApolloClient(Object.assign({link:(0,Ec.concat)((0,Ec.from)([(0,bt.setContext)(e=>Ws(this,void 0,void 0,function*(){const r=o||uf;return((yield r.call(e))||{}).forEach((e,r)=>{i[r]=e}),{headers:i}})),new Ec.ApolloLink("function"==typeof $?$:(e,r)=>a?new Ec.Observable(o=>{const t=e.getContext(),$=r(e).subscribe({next:(...e)=>o.next(...e),error:(...e)=>{a(),o.error(...e)},complete:(...e)=>{a(),o.complete(...e)}}),a=()=>{null==$||$.unsubscribe(),delete c[t.requestTrackerId]};if(t.requestTrackerId){const r=new AbortController;r.signal.onabort=a,e.setContext(Object.assign(Object.assign({},t),{fetchOptions:Object.assign({signal:r.signal},null==t?void 0:t.fetchOptions)})),c[t.requestTrackerId]&&c[t.requestTrackerId].abort(),c[t.requestTrackerId]=r}return $}):r(e))]),(0,Ec.split)(({query:e})=>{const{kind:r,operation:o}=(0,at.getMainDefinition)(e);return"OperationDefinition"===r&&"subscription"===o},(()=>{const e=new _s.WebSocketLink(new J.SubscriptionClient(r,{lazy:!0,connectionParams:()=>({get authorization(){return i.authorization}}),connectionCallback:r=>{console.error("[Subscription]: ",r),"Unauthorized"===(null==r?void 0:r.message)&&e.subscriptionClient.close(!1,!1)},reconnect:!0}));return e})(),(0,Zs.createHttpLink)({uri:e}))),cache:t||new Ys.InMemoryCache},n))}]}}};var xf=ct=Ts=Vs([(0,i.Module)({})],ct);var Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});var vj=void 0;Nd.importQuery=vj;function dt(r){let o;const e=i.Container.get("graphql-documents");return Object.keys(e).filter($=>{-1!==$.indexOf(r)&&(o=e[$])}),o||(console.error(`Missing query: ${r}`),r)}vj=dt,Nd.importQuery=vj;n.GraphqlModule=xf,uj(Z,n),uj(Nd,n);var wj={};Object.defineProperty(n,"IntrospectionFragmentMatcher",{enumerable:!0,get:function(){return wj.IntrospectionFragmentMatcher}}),Object.defineProperty(n,"InMemoryCache",{enumerable:!0,get:function(){return wj.InMemoryCache}});var b={},et=b&&b.__createBinding||(Object.create?function(e,r,$,i){void 0===i&&(i=$),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,i){void 0===i&&(i=$),e[i]=r[$]}),l=b&&b.__exportStar||function(e,r){for(var $ in e)"default"===$||Object.prototype.hasOwnProperty.call(r,$)||et(r,e,$)};var Ra={},ft=Ra&&Ra.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),xj=Ra&&Ra.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||ft(r,e,t)};var gt,yj,zj,Aj,Bj,t={};Object.defineProperty(t,"__esModule",{value:!0});var yf=(zf=void 0,Gf=t.INTERNAL=zf,Kj=t.html=Gf,g=t.svg=Kj,c=t.noChange=g,Ta=t.nothing=c,t.render=Ta);t._$LH=yf;const K=!0,va=!0;var zf=!0;let Cj;t.INTERNAL=zf,K&&(null!==(gt=globalThis.litIssuedWarnings)&&void 0!==gt||(globalThis.litIssuedWarnings=new Set),(Cj=(e,t)=>{t+=e?` See https://lit.dev/msg/${e} for more information.`:"",globalThis.litIssuedWarnings.has(t)||(console.warn(t),globalThis.litIssuedWarnings.add(t))})("dev-mode","Lit is in dev mode. Not recommended for production!"));const L=(null===(yj=window.ShadyDOM)||void 0===yj?void 0:yj.inUse)&&!0===(null===(zj=window.ShadyDOM)||void 0===zj?void 0:zj.noPatch)?window.ShadyDOM.wrap:e=>e,Od=globalThis.trustedTypes,Dj=Od?Od.createPolicy("lit-html",{createHTML:e=>e}):void 0,ht=e=>e,Pd=(e,t,$)=>ht,it=e=>{if(va){if(Ic!==Pd)throw new Error("Attempted to overwrite existing lit-html security policy. setSanitizeDOMValueFactory should be called at most once.");Ic=e}},jt=()=>{Ic=Pd},Af=(e,t,$)=>Ic(e,t,$),Qd="$lit$",_=`lit$${String(Math.random()).slice(9)}$`,Bf="?"+_,kt=`<${Bf}>`,_b=document,Fc=(e="")=>_b.createComment(e),Gc=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Ej=Array.isArray,Fj=e=>{var t;return Ej(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},Hc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Gj=/-->/g,Hj=/>/g,Sa=new RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Cf=/'/g,Df=/"/g,Ij=/^(?:script|style|textarea)$/i,Rd=2,Ef=1,Sd=2,lt=3,mt=4,nt=5,Ff=6,ot=7,Jj=e=>(t,...$)=>(K&&t.some(e=>void 0===e)&&console.warn("Some template strings are undefined.\nThis is probably caused by illegal octal escape sequences."),{_$litType$:e,strings:t,values:$});var Gf=Jj(1);t.html=Gf;var Kj=Jj(Rd);t.svg=Kj;var g=Symbol.for("lit-noChange");t.noChange=g;var c=Symbol.for("lit-nothing");t.nothing=c;const Lj=new WeakMap,pt=(e,t,$)=>{var r,a,i;const n=null!==(r=null==$?void 0:$.renderBefore)&&void 0!==r?r:t;let o=n._$litPart$;if(void 0===o){const e=null!==(a=null==$?void 0:$.renderBefore)&&void 0!==a?a:null;if(zf&&!0===(null===(i=$)||void 0===i?void 0:i.clearContainerForLit2MigrationOnly)){let $=t.firstChild;for(;$&&$!==e;){const e=$.nextSibling;$.remove(),$=e}}n._$litPart$=o=new Td(t.insertBefore(Fc(),e),e,void 0,null!=$?$:{})}return o._$setValue(e),o};var Ta=pt;t.render=Ta,va&&(Ta.setSanitizer=it,Ta.createSanitizer=Af,K&&(Ta._testOnlyClearSanitizerFactoryDoNotCallOrElse=jt));const ac=_b.createTreeWalker(_b,129,null,!1);let Ic=Pd;const Mj=(e,t)=>{const $=e.length-1,r=[];let a,i=t===Rd?"<svg>":"",n=Hc;for(let s=0;s<$;s++){const t=e[s];let $,o,T=-1,l=0;for(;l<t.length&&(n.lastIndex=l,null!==(o=n.exec(t)));)if(l=n.lastIndex,n===Hc){if("!--"===o[1])n=Gj;else if(void 0!==o[1])n=Hj;else if(void 0!==o[2])Ij.test(o[2])&&(a=new RegExp(`</${o[2]}`,"g")),n=Sa;else if(void 0!==o[3]){if(K)throw new Error("Bindings in tag names are not supported. Please use static templates instead. See https://lit.dev/docs/templates/expressions/#static-expressions");n=Sa}}else n===Sa?">"===o[0]?(n=null!=a?a:Hc,T=-1):void 0===o[1]?T=-2:(T=n.lastIndex-o[2].length,$=o[1],n=void 0===o[3]?Sa:"\""===o[3]?Df:Cf):n===Df||n===Cf?n=Sa:n===Gj||n===Hj?n=Hc:(n=Sa,a=void 0);K&&console.assert(-1===T||n===Sa||n===Cf||n===Df,"unexpected parse state B");const v=n===Sa&&e[s+1].startsWith("/>")?" ":"";i+=n===Hc?t+kt:T>=0?(r.push($),t.slice(0,T)+Qd+t.slice(T)+_+v):t+_+(-2===T?(r.push(void 0),s):v)}const o=i+(e[$]||"<?>")+(t===Rd?"</svg>":"");return[void 0!==Dj?Dj.createHTML(o):o,r]};class Hf{constructor({strings:e,_$litType$:t},$){let r;this.parts=[];let a=0,i=0;const n=e.length-1,o=this.parts,[s,T]=Mj(e,t);if(this.el=Template.createElement(s,$),ac.currentNode=this.el.content,t===Rd){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(r=ac.nextNode())&&o.length<n;){if(1===r.nodeType){if(K){const e=r.localName;if(/^(?:textarea|template)$/i.test(e)&&r.innerHTML.includes(_)){const t=`Expressions are not supported inside \`${e}\` `+`elements. See https://lit.dev/msg/expression-in-${e} for more `+"information.";if("template"===e)throw new Error(t);Cj("",t)}}if(r.hasAttributes()){const e=[];for(const t of r.getAttributeNames())if(t.endsWith(Qd)||t.startsWith(_)){const $=T[i++];if(e.push(t),void 0!==$){const e=r.getAttribute($.toLowerCase()+Qd).split(_),t=/([.?@])?(.*)/.exec($);o.push({type:Ef,index:a,name:t[2],strings:e,ctor:"."===t[1]?Oj:"?"===t[1]?Pj:"@"===t[1]?Qj:Jc})}else o.push({type:Ff,index:a})}for(const t of e)r.removeAttribute(t)}if(Ij.test(r.tagName)){const e=r.textContent.split(_),t=e.length-1;if(t>0){r.textContent=Od?Od.emptyScript:"";for(let $=0;$<t;$++)r.append(e[$],Fc()),ac.nextNode(),o.push({type:Sd,index:++a});r.append(e[t],Fc())}}}else if(8===r.nodeType){if(r.data===Bf)o.push({type:Sd,index:a});else{let e=-1;for(;-1!==(e=r.data.indexOf(_,e+1));)o.push({type:ot,index:a}),e+=_.length-1}}a++}}static createElement(e,t){const $=_b.createElement("template");return $.innerHTML=e,$}}function Gb(e,t,$=e,r){var a,i,n,o;if(t===g)return t;let s=void 0!==r?null===(a=$.__directives)||void 0===a?void 0:a[r]:$.__directive;const T=Gc(t)?void 0:t._$litDirective$;return(null==s?void 0:s.constructor)!==T&&(null===(i=null==s?void 0:s._$notifyDirectiveConnectionChanged)||void 0===i||i.call(s,!1),void 0===T?s=void 0:(s=new T(e))._$initialize(e,$,r),void 0!==r?(null!==(n=(o=$).__directives)&&void 0!==n?n:o.__directives=[])[r]=s:$.__directive=s),void 0!==s&&(t=Gb(e,s._$resolve(e,t.values),s,r)),t}class Nj{constructor(e,t){this._parts=[],this._$disconnectableChildren=void 0,this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){var t;const{el:{content:$},parts:r}=this._$template,a=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:_b).importNode($,!0);ac.currentNode=a;let i=ac.nextNode(),n=0,o=0,s=r[0];for(;void 0!==s;){if(n===s.index){let t;s.type===Sd?t=new Td(i,i.nextSibling,this,e):s.type===Ef?t=new s.ctor(i,s.name,s.strings,this,e):s.type===Ff&&(t=new Rj(i,this,e)),this._parts.push(t),s=r[++o]}n!==(null==s?void 0:s.index)&&(i=ac.nextNode(),n++)}return a}_update(e){let t=0;for(const $ of this._parts)void 0!==$&&(void 0!==$.strings?($._$setValue(e,$,t),t+=$.strings.length-2):$._$setValue(e[t])),t++}}class Td{constructor(e,t,$,r){var a;this.type=Sd,this._$committedValue=c,this._$disconnectableChildren=void 0,this._$startNode=e,this._$endNode=t,this._$parent=$,this.options=r,this.__isConnected=null===(a=null==r?void 0:r.isConnected)||void 0===a||a,va&&(this._textSanitizer=void 0)}get _$isConnected(){var e,t;return null!==(t=null===(e=this._$parent)||void 0===e?void 0:e._$isConnected)&&void 0!==t?t:this.__isConnected}get parentNode(){let e=L(this._$startNode).parentNode;const t=this._$parent;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){if(K&&null===this.parentNode)throw new Error("This `ChildPart` has no `parentNode` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's `innerHTML` or `textContent` can do this.");e=Gb(this,e,t),Gc(e)?e===c||null==e||""===e?(this._$committedValue!==c&&this._$clear(),this._$committedValue=c):e!==this._$committedValue&&e!==g&&this._commitText(e):void 0!==e._$litType$?this._commitTemplateResult(e):void 0!==e.nodeType?this._commitNode(e):Fj(e)?this._commitIterable(e):this._commitText(e)}_insert(e,t=this._$endNode){return L(L(this._$startNode).parentNode).insertBefore(e,t)}_commitNode(e){var t;if(this._$committedValue!==e){if(this._$clear(),va&&Ic!==Pd){const e=null===(t=this._$startNode.parentNode)||void 0===t?void 0:t.nodeName;if("STYLE"===e||"SCRIPT"===e){let t="Forbidden";throw K&&(t="STYLE"===e?"Lit does not support binding inside style nodes. This is a security risk, as style injection attacks can exfiltrate data and spoof UIs. Consider instead using css`...` literals to compose styles, and make do dynamic styling with css custom properties, ::parts, <slot>s, and by mutating the DOM rather than stylesheets.":"Lit does not support binding inside script nodes. This is a security risk, as it could allow arbitrary code execution."),new Error(t)}}this._$committedValue=this._insert(e)}}_commitText(e){if(this._$committedValue!==c&&Gc(this._$committedValue)){const t=L(this._$startNode).nextSibling;va&&(void 0===this._textSanitizer&&(this._textSanitizer=Af(t,"data","property")),e=this._textSanitizer(e)),t.data=e}else if(va){const t=document.createTextNode("");this._commitNode(t),void 0===this._textSanitizer&&(this._textSanitizer=Af(t,"data","property")),e=this._textSanitizer(e),t.data=e}else this._commitNode(_b.createTextNode(e));this._$committedValue=e}_commitTemplateResult(e){var t;const{values:$,_$litType$:r}=e,a="number"==typeof r?this._$getTemplate(e):(void 0===r.el&&(r.el=Hf.createElement(r.h,this.options)),r);if((null===(t=this._$committedValue)||void 0===t?void 0:t._$template)===a)this._$committedValue._update($);else{const e=new Nj(a,this),t=e._clone(this.options);e._update($),this._commitNode(t),this._$committedValue=e}}_$getTemplate(e){let t=Lj.get(e.strings);return void 0===t&&Lj.set(e.strings,t=new Hf(e)),t}_commitIterable(e){Ej(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let $,r=0;for(const a of e)r===t.length?t.push($=new ChildPart(this._insert(Fc()),this._insert(Fc()),this,this.options)):$=t[r],$._$setValue(a),r++;r<t.length&&(this._$clear($&&L($._$endNode).nextSibling,r),t.length=r)}_$clear(e=L(this._$startNode).nextSibling,t){var $;for(null===($=this._$notifyConnectionChanged)||void 0===$||$.call(this,!1,!0,t);e&&e!==this._$endNode;){const t=L(e).nextSibling;L(e).remove(),e=t}}setConnected(e){var t;if(void 0===this._$parent)this.__isConnected=e,null===(t=this._$notifyConnectionChanged)||void 0===t||t.call(this,e);else if(K)throw new Error("part.setConnected() may only be called on a RootPart returned from render().")}}class Jc{constructor(e,t,$,r,a){this.type=Ef,this._$committedValue=c,this._$disconnectableChildren=void 0,this.element=e,this.name=t,this._$parent=r,this.options=a,$.length>2||""!==$[0]||""!==$[1]?(this._$committedValue=new Array($.length-1).fill(new String),this.strings=$):this._$committedValue=c,va&&(this._sanitizer=void 0)}get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e,t=this,$,r){const a=this.strings;let i=!1;if(void 0===a)e=Gb(this,e,t,0),(i=!Gc(e)||e!==this._$committedValue&&e!==g)&&(this._$committedValue=e);else{const r=e;let n,o;for(e=a[0],n=0;n<a.length-1;n++)(o=Gb(this,r[$+n],t,n))===g&&(o=this._$committedValue[n]),i||(i=!Gc(o)||o!==this._$committedValue[n]),o===c?e=c:e!==c&&(e+=(null!=o?o:"")+a[n+1]),this._$committedValue[n]=o}i&&!r&&this._commitValue(e)}_commitValue(e){e===c?L(this.element).removeAttribute(this.name):(va&&(void 0===this._sanitizer&&(this._sanitizer=Ic(this.element,this.name,"attribute")),e=this._sanitizer(null!=e?e:"")),L(this.element).setAttribute(this.name,null!=e?e:""))}}class Oj extends Jc{constructor(){super(...arguments),this.type=lt}_commitValue(e){va&&(void 0===this._sanitizer&&(this._sanitizer=Ic(this.element,this.name,"property")),e=this._sanitizer(e)),this.element[this.name]=e===c?void 0:e}}class Pj extends Jc{constructor(){super(...arguments),this.type=mt}_commitValue(e){e&&e!==c?L(this.element).setAttribute(this.name,""):L(this.element).removeAttribute(this.name)}}class Qj extends Jc{constructor(e,t,$,r,a){if(super(e,t,$,r,a),this.type=nt,K&&void 0!==this.strings)throw new Error(`A \`<${e.localName}>\` has a \`@${t}=...\` listener with `+"invalid content. Event listeners in templates must have exactly one expression and no surrounding text.")}_$setValue(e,t=this){var $;if((e=null!==($=Gb(this,e,t,0))&&void 0!==$?$:c)===g)return;const r=this._$committedValue,a=e===c&&r!==c||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==c&&(r===c||a);a&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){var t,$;"function"==typeof this._$committedValue?this._$committedValue.call(null!==($=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==$?$:this.element,e):this._$committedValue.handleEvent(e)}}class Rj{constructor(e,t,$){this.element=e,this.type=Ff,this._$disconnectableChildren=void 0,this._$parent=t,this.options=$}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){Gb(this,e)}}yf={_boundAttributeSuffix:Qd,_marker:_,_markerMatch:Bf,_HTML_RESULT:1,_getTemplateHtml:Mj,_TemplateInstance:Nj,_isIterable:Fj,_resolveDirective:Gb,_ChildPart:Td,_AttributePart:Jc,_BooleanAttributePart:Pj,_EventPart:Qj,_PropertyPart:Oj,_ElementPart:Rj},t._$LH=yf,null===(Aj=globalThis[`litHtmlPolyfillSupport${K?"DevMode":""}`])||void 0===Aj||Aj.call(globalThis,Hf,Td),(null!==(Bj=globalThis.litHtmlVersions)&&void 0!==Bj?Bj:globalThis.litHtmlVersions=[]).push("2.0.0"),K&&globalThis.litHtmlVersions.length>1&&Cj("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.");var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});var Sj=void 0;Ud.Component=Sj;const qt=(e,t,n)=>(window.customElements.define(e,t,n),t),rt=(e,t,n)=>{const{kind:o,elements:s}=t;return{kind:o,elements:s,finisher(t){window.customElements.define(e,t,n)}}},st=(e,t={})=>n=>{var o;if(!e||e&&e.indexOf("-")<=0)throw new Error(`You need at least 1 dash in the custom element name! ${n}`);t.styles=t.styles||[];const s=n.prototype.OnInit||function(){},l=n.prototype.OnDestroy||function(){},r=n.prototype.OnUpdate||function(){},i=n.prototype.OnUpdateFirst||function(){},a=n.prototype.connectedCallback||function(){},c=n.prototype.disconnectedCallback||function(){},p=n.prototype.update||function(){},m=n.prototype.firstUpdated||function(){};t.template||(t.template=n.prototype.render||(()=>Gf``)),t.style&&t.styles.push(t.style);const d=((o=class extends n{static is(){return e}getTemplateResult(){return this}OnInit(){if(t.container&&((0,Ta)(t.template.call(this),t.container),t.style)){const e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t.style.toString():e.appendChild(document.createTextNode(t.style.toString())),t.container.prepend(e)}return s.call(this)}disconnectedCallback(){l.call(this),c.call(this)}connectedCallback(){a.call(this),s.call(this)}render(){return t.template.call(this)}update(){p.call(this),r.call(this)}firstUpdated(){m.call(this),i.call(this)}}).styles=t.styles,o),$=window.customElements.get(e);return $?(console.error(`** IMPORTANT!!! **\n------------------------------------------\n<${e}></${e}> Component re-defined multiple times and it is already registered inside customElements registry\nPossible Solutions:\n* Bundle problem where multiple versions of the component are used\n* @Component decorator is used twice for the same component\n* Defined "selector" with the same name in multiple components\n\n** If this is Server Side Rendering you can ignore this message **\n------------------------------------------\n`),$):("function"==typeof d?qt(e,d,{extends:t.extends}):rt(e,d,{extends:t.extends}),d)},tt=e=>st(e.selector,e);Sj=tt,Ud.Component=Sj;var $={},ut=$&&$.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]}),Vd=$&&$.__exportStar||function(e,r){for(var $ in e)"default"===$||Object.prototype.hasOwnProperty.call(r,$)||ut(r,e,$)};var Tj={};Object.defineProperty(Tj,"__esModule",{value:!0});var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});var Vj={};Object.defineProperty(Vj,"__esModule",{value:!0});var Wj={};Object.defineProperty(Wj,"__esModule",{value:!0});Object.defineProperty($,"__esModule",{value:!0}),Vd(Tj,$),Vd(Uj,$),Vd(Vj,$),Vd(Wj,$);Object.defineProperty(Ra,"__esModule",{value:!0}),xj(Ud,Ra),xj($,Ra);var Hb={};Object.defineProperty(Hb,"__esModule",{value:!0});var R=(x=void 0,v=Hb.PartType=x,Hb.directive=v);Hb.Directive=R;var x={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6};Hb.PartType=x;const vt=e=>(...$)=>({_$litDirective$:e,values:$});var v=vt;Hb.directive=v;class wt{constructor(e){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(e,$,t){this.__part=e,this._$parent=$,this.__attributeIndex=t}_$resolve(e,$){return this.update(e,$)}update(e,$){return this.render(...$)}}R=wt,Hb.Directive=R;var Xj,Yj,d={};Object.defineProperty(d,"__esModule",{value:!0});var Wd=(If=void 0,$j=d.isPrimitive=If,bc=d.TemplateResultType=$j,_j=d.isTemplateResult=bc,ak=d.isDirectiveResult=_j,Xd=d.getDirectiveClass=ak,aa=d.isSingleExpression=Xd,ba=d.insertPart=aa,cc=d.setChildPartValue=ba,Kc=d.setCommittedValue=cc,Lc=d.getCommittedValue=Kc,d.removePart=Lc);d.clearPart=Wd;const{_ChildPart:Zj}=yf,wa=(null===(Xj=window.ShadyDOM)||void 0===Xj?void 0:Xj.inUse)&&!0===(null===(Yj=window.ShadyDOM)||void 0===Yj?void 0:Yj.noPatch)?window.ShadyDOM.wrap:e=>e,xt=e=>null===e||"object"!=typeof e&&"function"!=typeof e;var If=xt;d.isPrimitive=If;var $j={HTML:1,SVG:2};d.TemplateResultType=$j;const yt=(e,$)=>{var a,t;return void 0===$?void 0!==(null===(a=e)||void 0===a?void 0:a._$litType$):(null===(t=e)||void 0===t?void 0:t._$litType$)===$};var bc=yt;d.isTemplateResult=bc;const zt=e=>{var $;return void 0!==(null===($=e)||void 0===$?void 0:$._$litDirective$)};var _j=zt;d.isDirectiveResult=_j;const At=e=>{var $;return null===($=e)||void 0===$?void 0:$._$litDirective$};var ak=At;d.getDirectiveClass=ak;const Bt=e=>void 0===e.strings;var Xd=Bt;d.isSingleExpression=Xd;const bk=()=>document.createComment(""),Ct=(e,$,a)=>{var t;const r=wa(e._$startNode).parentNode,l=void 0===$?e._$endNode:$._$startNode;if(void 0===a){const $=wa(r).insertBefore(bk(),l),t=wa(r).insertBefore(bk(),l);a=new Zj($,t,e,e.options)}else{const $=wa(a._$endNode).nextSibling,i=a._$parent,o=i!==e;if(o){let $;null===(t=a._$reparentDisconnectables)||void 0===t||t.call(a,e),a._$parent=e,void 0!==a._$notifyConnectionChanged&&($=e._$isConnected)!==i._$isConnected&&a._$notifyConnectionChanged($)}if($!==l||o){let e=a._$startNode;for(;e!==$;){const $=wa(e).nextSibling;wa(r).insertBefore(e,l),e=$}}}return a};var aa=Ct;d.insertPart=aa;const Dt=(e,$,a=e)=>(e._$setValue($,a),e);var ba=Dt;d.setChildPartValue=ba;const Et={},Ft=(e,$=Et)=>e._$committedValue=$;var cc=Ft;d.setCommittedValue=cc;const Gt=e=>e._$committedValue;var Kc=Gt;d.getCommittedValue=Kc;const Ht=e=>{var $;null===($=e._$notifyConnectionChanged)||void 0===$||$.call(e,!1,!0);let a=e._$startNode;const t=wa(e._$endNode).nextSibling;for(;a!==t;){const e=wa(a).nextSibling;wa(a).remove(),a=e}};var Lc=Ht;d.removePart=Lc;const It=e=>{e._$clear()};Wd=It,d.clearPart=Wd;var ck,Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});var dc=(ck=void 0,Mc.directive=ck);Mc.AsyncDirective=dc;Object.defineProperty(Mc,"directive",{enumerable:!0,get:function(){return v}});const Jt=!0,Nc=(e,t)=>{var i,n;const r=e._$disconnectableChildren;if(void 0===r)return!1;for(const $ of r)null===(n=(i=$)._$notifyDirectiveConnectionChanged)||void 0===n||n.call(i,t,!1),Nc($,t);return!0},Yd=e=>{let t,i;do{if(void 0===(t=e._$parent))break;(i=t._$disconnectableChildren).delete(e),e=t}while(0===(null==i?void 0:i.size))},dk=e=>{for(let t;t=e._$parent;e=t){let i=t._$disconnectableChildren;if(void 0===i)t._$disconnectableChildren=i=new Set;else if(i.has(e))break;i.add(e),Mt(t)}};function Kt(e){void 0!==this._$disconnectableChildren?(Yd(this),this._$parent=e,dk(this)):this._$parent=e}function Lt(e,t=!1,i=0){const n=this._$committedValue,r=this._$disconnectableChildren;if(void 0!==r&&0!==r.size)if(t){if(Array.isArray(n))for(let $=i;$<n.length;$++)Nc(n[$],!1),Yd(n[$]);else null!=n&&(Nc(n,!1),Yd(n));}else Nc(this,e)}const Mt=e=>{var t,i,n,r;e.type==x.CHILD&&(null!==(t=(n=e)._$notifyConnectionChanged)&&void 0!==t||(n._$notifyConnectionChanged=Lt),null!==(i=(r=e)._$reparentDisconnectables)&&void 0!==i||(r._$reparentDisconnectables=Kt))};class Nt extends R{constructor(){super(...arguments),this._$disconnectableChildren=void 0}_$initialize(e,t,i){super._$initialize(e,t,i),dk(this),this.isConnected=e._$isConnected}_$notifyDirectiveConnectionChanged(e,t=!0){var i,n;e!==this.isConnected&&(this.isConnected=e,e?null===(i=this.reconnected)||void 0===i||i.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),t&&(Nc(this,e),Yd(this))}setValue(e){if((0,Xd)(this.__part))this.__part._$setValue(e,this);else{if(Jt&&void 0===this.__attributeIndex)throw new Error("Expected this.__attributeIndex to be a number");const t=[...this.__part._$committedValue];t[this.__attributeIndex]=e,this.__part._$setValue(t,this,0)}}disconnected(){}reconnected(){}}dc=Nt,Mc.AsyncDirective=dc;var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});var ek=void 0;Zd.async=ek;class Ot extends dc{render(e){return"then"in e?(Promise.resolve(e).then(e=>this.setValue(e)),""):(this.observable!==e&&(this.unsubscribe(),this.observable=e,this.isConnected&&this.subscribe(e)),g)}subscribe(e){this.subscription=e.subscribe(e=>{this.setValue(e)})}disconnected(){this.unsubscribe()}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}reconnected(){this.subscribe(this.observable)}}ek=(0,v)(Ot),Zd.async=ek;var F={},Pt=F&&F.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]}),$d=F&&F.__exportStar||function(e,r){for(var $ in e)"default"===$||Object.prototype.hasOwnProperty.call(r,$)||Pt(r,e,$)};var y={};Object.defineProperty(y,"__esModule",{value:!0});var _d=(Oc=void 0,gk=y.supportsAdoptingStyleSheets=Oc,Lf=y.CSSResult=gk,hk=y.unsafeCSS=Lf,Mf=y.css=hk,y.adoptStyles=Mf);y.getCompatibleStyle=_d;var Oc=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;y.supportsAdoptingStyleSheets=Oc;const Jf=Symbol(),fk=new Map;class Kf{constructor(t,e){if(this._$cssResult$=!0,e!==Jf)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=fk.get(this.cssText);return Oc&&void 0===t&&(fk.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}var gk=Kf;y.CSSResult=gk;const Qt=t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw new Error("Value passed to 'css' function must be a 'css' function result: "+`${t}. Use 'unsafeCSS' to pass non-literal values, but take care `+"to ensure page security.")},Rt=t=>new Kf("string"==typeof t?t:String(t),Jf);var Lf=Rt;y.unsafeCSS=Lf;const St=(t,...e)=>{const a=1===t.length?t[0]:e.reduce((e,a,s)=>e+Qt(a)+t[s+1],t[0]);return new Kf(a,Jf)};var hk=St;y.css=hk;const Tt=(t,e)=>{Oc?t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(e=>{const a=document.createElement("style"),s=window.litNonce;void 0!==s&&a.setAttribute("nonce",s),a.textContent=e.cssText,t.appendChild(a)})};var Mf=Tt;y.adoptStyles=Mf;const Ut=t=>{let e="";for(const a of t.cssRules)e+=a.cssText;return(0,Lf)(e)};_d=Oc?t=>t:t=>t instanceof CSSStyleSheet?Ut(t):t,y.getCompatibleStyle=_d;var z={},Vt=z&&z.__createBinding||(Object.create?function(r,e,$,t){void 0===t&&(t=$),Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[$]}})}:function(r,e,$,t){void 0===t&&(t=$),r[t]=e[$]}),xa=z&&z.__exportStar||function(r,e){for(var $ in r)"default"===$||Object.prototype.hasOwnProperty.call(e,$)||Vt(e,r,$)};var ya={};Object.defineProperty(ya,"__esModule",{value:!0});var Ib=(ik=void 0,jk=ya.legacyPrototypeMethod=ik,ya.standardPrototypeMethod=jk);ya.decorateProperty=Ib;const Wt=(e,t,o)=>{Object.defineProperty(t,o,e)};var ik=Wt;ya.legacyPrototypeMethod=ik;const Xt=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e});var jk=Xt;ya.standardPrototypeMethod=jk;const Yt=({finisher:e,descriptor:t})=>(o,r)=>{var $;if(void 0===r){const r=null!==($=o.originalKey)&&void 0!==$?$:o.key,p=null!=t?{kind:"method",placement:"prototype",key:r,descriptor:t(o.key)}:Object.assign(Object.assign({},o),{key:r});return null!=e&&(p.finisher=function(t){e(t,r)}),p}{const $=o.constructor;void 0!==t&&Object.defineProperty(o,r,t(r)),null==e||e($,r)}};Ib=Yt,ya.decorateProperty=Ib;var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});var kk=void 0;Pc.customElement=kk;const Zt=(e,t)=>(window.customElements.define(e,t),t),$t=(e,t)=>{const{kind:$,elements:n}=t;return{kind:$,elements:n,finisher(t){window.customElements.define(e,t)}}},_t=e=>t=>"function"==typeof t?Zt(e,t):$t(e,t);kk=_t,Pc.customElement=kk;var ec={};Object.defineProperty(ec,"__esModule",{value:!0});var lk=void 0;ec.property=lk;const au=(r,e)=>"method"!==e.kind||!e.descriptor||"value"in e.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}}:Object.assign(Object.assign({},e),{finisher(t){t.createProperty(e.key,r)}}),bu=(r,e,t)=>{e.constructor.createProperty(t,r)};function cu(r){return(e,t)=>void 0!==t?bu(r,e,t):au(r,e)}lk=cu,ec.property=lk;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});var mk=void 0;Qc.state=mk;function du(t){return(0,ec.property)(Object.assign(Object.assign({},t),{state:!0}))}mk=du,Qc.state=mk;var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});var nk=void 0;Rc.eventOptions=nk;function eu(e){return(0,Ib)({finisher:(t,$)=>{Object.assign(t.prototype[$],e)}})}nk=eu,Rc.eventOptions=nk;var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});var ok=void 0;Sc.query=ok;function fu(e,r){return(0,Ib)({descriptor:o=>{const $={get(){var r,o;return null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(e))&&void 0!==o?o:null},enumerable:!0,configurable:!0};if(r){const r="symbol"==typeof o?Symbol():`__${o}`;$.get=function(){var o,$;return void 0===this[r]&&(this[r]=null!==($=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(e))&&void 0!==$?$:null),this[r]}}return $}})}ok=fu,Sc.query=ok;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});var pk=void 0;Tc.queryAll=pk;function gu(e){return(0,Ib)({descriptor:r=>({get(){var r,c;return null!==(c=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelectorAll(e))&&void 0!==c?c:[]},enumerable:!0,configurable:!0})})}pk=gu,Tc.queryAll=pk;var Jb={},hu=Jb&&Jb.__awaiter||function(e,t,r,$){return new(r||(r=Promise))(function(n,o){function a(e){try{c($.next(e))}catch(t){o(t)}}function u(e){try{c($.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,u)}c(($=$.apply(e,t||[])).next())})};Object.defineProperty(Jb,"__esModule",{value:!0});var qk=void 0;Jb.queryAsync=qk;function iu(e){return(0,Ib)({descriptor:t=>({get(){var t;return hu(this,void 0,void 0,function*(){return yield this.updateComplete,null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e)})},enumerable:!0,configurable:!0})})}qk=iu,Jb.queryAsync=qk;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});var rk=void 0;Uc.queryAssignedNodes=rk;function ju(e="",r=!1,s=""){return(0,Ib)({descriptor:o=>({get(){var o,$,i;const u=`slot${e?`[name=${e}]`:":not([name])"}`;let d=null!==(i=null===($=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(u))||void 0===$?void 0:$.assignedNodes({flatten:r}))&&void 0!==i?i:[];return s&&(d=d.filter(e=>e.nodeType===Node.ELEMENT_NODE&&e.matches(s))),d},enumerable:!0,configurable:!0})})}rk=ju,Uc.queryAssignedNodes=rk;Object.defineProperty(z,"__esModule",{value:!0}),xa(ya,z),xa(Pc,z),xa(ec,z),xa(Qc,z),xa(Rc,z),xa(Sc,z),xa(Tc,z),xa(Jb,z),xa(Uc,z);var ku,lu;var mu=!0;null!==(ku=globalThis[lu=`reactiveElementPolyfillSupport${mu?"DevMode":""}`])&&void 0!==ku||(globalThis[lu]=({ReactiveElement:t})=>{if(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow&&!window.ShadyCSS.ApplyShim)return;const e=t.prototype;window.ShadyDOM&&window.ShadyDOM.inUse&&!0===window.ShadyDOM.noPatch&&window.ShadyDOM.patchElementProto(e);const o=e.createRenderRoot;e.createRenderRoot=function(){var t,e,a;const n=this.localName;if(window.ShadyCSS.nativeShadow)return o.call(this);if(!this.constructor.hasOwnProperty("__scoped")){this.constructor.__scoped=!0;const o=this.constructor.elementStyles.map(t=>t instanceof CSSStyleSheet?Array.from(t.cssRules).reduce((t,e)=>t+=e.cssText,""):t.cssText);null===(e=null===(t=window.ShadyCSS)||void 0===t?void 0:t.ScopingShim)||void 0===e||e.prepareAdoptedCssText(o,n),void 0===this.constructor._$handlesPrepareStyles&&window.ShadyCSS.prepareTemplateStyles(document.createElement("template"),n)}return null!==(a=this.shadowRoot)&&void 0!==a?a:this.attachShadow(this.constructor.shadowRootOptions)};const a=e.connectedCallback;e.connectedCallback=function(){a.call(this),this.hasUpdated&&window.ShadyCSS.styleElement(this)};const n=e._$didUpdate;e._$didUpdate=function(t){this.hasUpdated||window.ShadyCSS.styleElement(this),n.call(this,t)}});var sk={};Object.defineProperty(sk,"__esModule",{value:!0});var tk,uk,vk,wk,zw,A={},nu=A&&A.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),ou=A&&A.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||nu(t,e,r)},pu=A&&A.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(a,s){function o(e){try{d(i.next(e))}catch(t){s(t)}}function n(e){try{d(i.throw(e))}catch(t){s(t)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,n)}d((i=i.apply(e,t||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});var xk=(Vc=void 0,ae=A.defaultConverter=Vc,A.notEqual=ae);A.ReactiveElement=xk;ou(y,A);const ca=!0;let qu,fc;if(ca){const e=null!==(tk=globalThis.litIssuedWarnings)&&void 0!==tk?tk:globalThis.litIssuedWarnings=new Set;(fc=(t,r)=>{r+=` See https://lit.dev/msg/${t} for more information.`,e.has(r)||(console.warn(r),e.add(r))})("dev-mode","Lit is in dev mode. Not recommended for production!"),(null===(uk=window.ShadyDOM)||void 0===uk?void 0:uk.inUse)&&void 0===globalThis[`reactiveElementPolyfillSupport${ca?"DevMode":""}`]&&fc("polyfill-support-missing","Shadow DOM is being polyfilled via `ShadyDOM` but the `polyfill-support` module has not been loaded."),qu=e=>({then:(t,r)=>{fc("request-update-promise","The `requestUpdate` method should no longer return a Promise but "+`does so on \`${e}\`. Use \`updateComplete\` instead.`),void 0!==t&&t(!1)}})}const yk=(e,t)=>e;var Vc={toAttribute(e,t){switch(t){case Boolean:e=e?"":null;break;case Object:case Array:e=null==e?e:JSON.stringify(e);}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(i){r=null}}return r}};A.defaultConverter=Vc;const ru=(e,t)=>t!==e&&(t==t||e==e);var ae=ru;A.notEqual=ae;const Nf={attribute:!0,type:String,converter:Vc,reflect:!1,hasChanged:ae},Of="finalized";class za extends HTMLElement{constructor(){super(),this.__instanceProperties=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this.__reflectingProperty=null,this._initialize()}static addInitializer(e){var t;null!==(t=this._initializers)&&void 0!==t||(this._initializers=[]),this._initializers.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,r)=>{const i=this.__attributeNameForProperty(r,t);void 0!==i&&(this.__attributeToPropertyMap.set(i,r),e.push(i))}),e}static createProperty(e,t=Nf){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const r="symbol"==typeof e?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,r,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(i){const a=this[e];this[t]=i,this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Nf}static finalize(){if(this.hasOwnProperty(Of))return!1;this[Of]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this.__attributeToPropertyMap=new Map,this.hasOwnProperty(yk("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const r of t)this.createProperty(r,e[r])}if(this.elementStyles=this.finalizeStyles(this.styles),ca){const e=(e,t=!1)=>{this.prototype.hasOwnProperty(e)&&fc(t?"renamed-api":"removed-api",`\`${e}\` is implemented on class ${this.name}. It `+`has been ${t?"renamed":"removed"} `+"in this version of LitElement.")};e("initialize"),e("requestUpdateInternal"),e("_getUpdateComplete",!0)}return!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const e of r)t.unshift((0,_d)(e))}else void 0!==e&&t.push((0,_d)(e));return t}static __attributeNameForProperty(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}_initialize(){var e;this.__updatePromise=new Promise(e=>this.enableUpdating=e),this._$changedProperties=new Map,this.__saveInstanceProperties(),this.requestUpdate(),null===(e=this.constructor._initializers)||void 0===e||e.forEach(e=>e(this))}addController(e){var t,r;(null!==(t=this.__controllers)&&void 0!==t?t:this.__controllers=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}removeController(e){var t;null===(t=this.__controllers)||void 0===t||t.splice(this.__controllers.indexOf(e)>>>0,1)}__saveInstanceProperties(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this.__instanceProperties.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return(0,Mf)(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this.__controllers)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this.__controllers)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})}attributeChangedCallback(e,t,r){this._$attributeToProperty(e,r)}__propertyToAttribute(e,t,r=Nf){var i,a;const s=this.constructor.__attributeNameForProperty(e,r);if(void 0!==s&&!0===r.reflect){const o=(null!==(a=null===(i=r.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==a?a:Vc.toAttribute)(t,r.type);ca&&this.constructor.enabledWarnings.indexOf("migration")>=0&&void 0===o&&fc("undefined-attribute-value",`The attribute value for the ${e} property is `+`undefined on element ${this.localName}. The attribute will be `+"removed, but in the previous version of `ReactiveElement`, the attribute would not have changed."),this.__reflectingProperty=e,null==o?this.removeAttribute(s):this.setAttribute(s,o),this.__reflectingProperty=null}}_$attributeToProperty(e,t){var r,i,a;const s=this.constructor,o=s.__attributeToPropertyMap.get(e);if(void 0!==o&&this.__reflectingProperty!==o){const e=s.getPropertyOptions(o),n=e.converter,d=null!==(a=null!==(i=null===(r=n)||void 0===r?void 0:r.fromAttribute)&&void 0!==i?i:"function"==typeof n?n:null)&&void 0!==a?a:Vc.fromAttribute;this.__reflectingProperty=o,this[o]=d(t,e.type),this.__reflectingProperty=null}}requestUpdate(e,t,r){let i=!0;if(void 0!==e){((r=r||this.constructor.getPropertyOptions(e)).hasChanged||ae)(this[e],t)?(this._$changedProperties.has(e)||this._$changedProperties.set(e,t),!0===r.reflect&&this.__reflectingProperty!==e&&(void 0===this.__reflectingProperties&&(this.__reflectingProperties=new Map),this.__reflectingProperties.set(e,r))):i=!1}return!this.isUpdatePending&&i&&(this.__updatePromise=this.__enqueueUpdate()),ca?qu(this.localName):void 0}__enqueueUpdate(){return pu(this,void 0,void 0,function*(){this.isUpdatePending=!0;try{yield this.__updatePromise}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return null!=e&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated&&ca){const e=[];if(this.constructor.elementProperties.forEach((t,r)=>{var i;this.hasOwnProperty(r)&&!(null===(i=this.__instanceProperties)||void 0===i?void 0:i.has(r))&&e.push(r)}),e.length)throw new Error(`The following properties on element ${this.localName} will not `+"trigger updates as expected because they are set using class "+`fields: ${e.join(", ")}. `+"Native class fields and some compiled output will overwrite accessors used for detecting changes. See https://lit.dev/msg/class-field-shadowing for more information.")}this.__instanceProperties&&(this.__instanceProperties.forEach((e,t)=>this[t]=e),this.__instanceProperties=void 0);let t=!1;const r=this._$changedProperties;try{(t=this.shouldUpdate(r))?(this.willUpdate(r),null===(e=this.__controllers)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)}),this.update(r)):this.__markUpdated()}catch(i){throw t=!1,this.__markUpdated(),i}t&&this._$didUpdate(r)}willUpdate(e){}_$didUpdate(e){var t;null===(t=this.__controllers)||void 0===t||t.forEach(e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e),ca&&this.isUpdatePending&&this.constructor.enabledWarnings.indexOf("change-in-update")>=0&&fc("change-in-update",`Element ${this.localName} scheduled an update `+"(generally because a property was set) after an update completed, causing a new update to be scheduled. This is inefficient and should be avoided unless the next update can only be scheduled as a side effect of the previous update.")}__markUpdated(){this._$changedProperties=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.__updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this.__reflectingProperties&&(this.__reflectingProperties.forEach((e,t)=>this.__propertyToAttribute(t,this[t],e)),this.__reflectingProperties=void 0),this.__markUpdated()}updated(e){}firstUpdated(e){}}if(xk=za,A.ReactiveElement=xk,za[zw=Of]=!0,za.elementProperties=new Map,za.elementStyles=[],za.shadowRootOptions={mode:"open"},null===(vk=globalThis[`reactiveElementPolyfillSupport${ca?"DevMode":""}`])||void 0===vk||vk.call(globalThis,{ReactiveElement:za}),ca){za.enabledWarnings=["change-in-update"];const e=function(e){e.hasOwnProperty(yk("enabledWarnings",e))||(e.enabledWarnings=e.enabledWarnings.slice())};za.enableWarning=function(t){e(this),this.enabledWarnings.indexOf(t)<0&&this.enabledWarnings.push(t)},za.disableWarning=function(t){e(this);const r=this.enabledWarnings.indexOf(t);r>=0&&this.enabledWarnings.splice(r,1)}}(null!==(wk=globalThis.reactiveElementVersions)&&void 0!==wk?wk:globalThis.reactiveElementVersions=[]).push("1.0.0"),ca&&globalThis.reactiveElementVersions.length>1&&fc("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.");Object.defineProperty(F,"__esModule",{value:!0}),$d(y,F),$d(z,F),$d(sk,F),$d(A,F);var Ua={},su=Ua&&Ua.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),zk=Ua&&Ua.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||su(r,e,t)};var Ak,Bk,Ck,Dk,Va={};Object.defineProperty(Va,"__esModule",{value:!0});var Ek=(Fk=void 0,Hk=Va.UpdatingElement=Fk,Va.LitElement=Hk);Va._$LE=Ek;var Fk=F.ReactiveElement;Va.UpdatingElement=Fk;let Gk;{const e=null!==(Ak=globalThis.litIssuedWarnings)&&void 0!==Ak?Ak:globalThis.litIssuedWarnings=new Set;Gk=(t,$)=>{$+=` See https://lit.dev/msg/${t} for more information.`,e.has($)||(console.warn($),e.add($))}}class gc extends F.ReactiveElement{constructor(){super(...arguments),this.renderOptions={host:this},this.__childPart=void 0}createRenderRoot(){var e,t;const $=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=$.firstChild),$}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this.__childPart=(0,Ta)(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this.__childPart)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this.__childPart)||void 0===e||e.setConnected(!1)}render(){return g}}var Hk=gc;Va.LitElement=Hk,gc.finalized=!0,gc._$litElement$=!0,null===(Bk=globalThis.litElementHydrateSupport)||void 0===Bk||Bk.call(globalThis,{LitElement:gc}),null===(Ck=globalThis.litElementPolyfillSupportDevMode)||void 0===Ck||Ck.call(globalThis,{LitElement:gc}),gc.finalize=function(){if(!F.ReactiveElement.finalize.call(this))return!1;const e=(e,t,$=!1)=>{if(e.hasOwnProperty(t)){const r=("function"==typeof e?e:e.constructor).name;Gk($?"renamed-api":"removed-api",`\`${t}\` is implemented on class ${r}. It `+`has been ${$?"renamed":"removed"} `+"in this version of LitElement.")}};return e(this,"render"),e(this,"getStyles",!0),e(this.prototype,"adoptStyles"),!0},Ek={_$attributeToProperty:(e,t,$)=>{e._$attributeToProperty(t,$)},_$changedProperties:e=>e._$changedProperties},Va._$LE=Ek,(null!==(Dk=globalThis.litElementVersions)&&void 0!==Dk?Dk:globalThis.litElementVersions=[]).push("3.0.0"),globalThis.litElementVersions.length>1&&Gk("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.");var B={},tu=B&&B.__createBinding||(Object.create?function(r,e,t,$){void 0===$&&($=t),Object.defineProperty(r,$,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,$){void 0===$&&($=t),r[$]=e[t]}),Aa=B&&B.__exportStar||function(r,e){for(var t in r)"default"===t||Object.prototype.hasOwnProperty.call(e,t)||tu(e,r,t)};Object.defineProperty(B,"__esModule",{value:!0}),Aa(ya,B),Aa(Pc,B),Aa(ec,B),Aa(Qc,B),Aa(Rc,B),Aa(Sc,B),Aa(Tc,B),Aa(Jb,B),Aa(Uc,B);Object.defineProperty(Ua,"__esModule",{value:!0}),zk(Va,Ua),zk(B,Ua);var be={};Object.defineProperty(be,"__esModule",{value:!0});var Ik=void 0;be.classMap=Ik;class uu extends R{constructor(s){var e;if(super(s),s.type!==x.ATTRIBUTE||"class"!==s.name||(null===(e=s.strings)||void 0===e?void 0:e.length)>2)throw new Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(s){return" "+Object.keys(s).filter(e=>s[e]).join(" ")+" "}update(s,[e]){var t,r;if(void 0===this._previousClasses){this._previousClasses=new Set,void 0!==s.strings&&(this._staticClasses=new Set(s.strings.join(" ").split(/\s/).filter(s=>""!==s)));for(const s in e)e[s]&&!(null===(t=this._staticClasses)||void 0===t?void 0:t.has(s))&&this._previousClasses.add(s);return this.render(e)}const i=s.element.classList;this._previousClasses.forEach(s=>{s in e||(i.remove(s),this._previousClasses.delete(s))});for(const a in e){const s=!!e[a];s===this._previousClasses.has(a)||(null===(r=this._staticClasses)||void 0===r?void 0:r.has(a))||(s?(i.add(a),this._previousClasses.add(a)):(i.remove(a),this._previousClasses.delete(a)))}return g}}Ik=(0,v)(uu),be.classMap=Ik;var w={},vu=w&&w.__awaiter||function(e,r,t,o){return new(t||(t=Promise))(function($,a){function s(e){try{i(o.next(e))}catch(r){a(r)}}function n(e){try{i(o.throw(e))}catch(r){a(r)}}function i(e){var r;e.done?$(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(s,n)}i((o=o.apply(e,r||[])).next())})},wu=w&&w.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(t){r[t]=e[t]&&function(r){return new Promise(function(o,$){(function(e,r,t,o){Promise.resolve(o).then(function(r){e({value:r,done:t})},r)})(o,$,(r=e[t](r)).done,r.value)})}}};Object.defineProperty(w,"__esModule",{value:!0});var Jk=(Kk=void 0,Lk=w.forAwaitOf=Kk,w.PseudoWeakRef=Lk);w.Pauser=Jk;const xu=(e,r)=>{var t,o;return vu(void 0,void 0,void 0,function*(){var $,a;try{for(t=wu(e);!(o=yield t.next()).done;){const e=o.value;if(!1===(yield r(e)))return}}catch(s){$={error:s}}finally{try{o&&!o.done&&(a=t.return)&&(yield a.call(t))}finally{if($)throw $.error}}})};var Kk=xu;w.forAwaitOf=Kk;class yu{constructor(e){this._ref=e}disconnect(){this._ref=void 0}reconnect(e){this._ref=e}deref(){return this._ref}}var Lk=yu;w.PseudoWeakRef=Lk;class zu{constructor(){this._promise=void 0,this._resolve=void 0}get(){return this._promise}pause(){var e;null!==(e=this._promise)&&void 0!==e||(this._promise=new Promise(e=>this._resolve=e))}resume(){var e;null===(e=this._resolve)||void 0===e||e.call(this),this._promise=this._resolve=void 0}}Jk=zu,w.Pauser=Jk;var Wa={},Au=Wa&&Wa.__awaiter||function(e,s,r,t){return new(r||(r=Promise))(function($,i){function a(e){try{n(t.next(e))}catch(s){i(s)}}function c(e){try{n(t.throw(e))}catch(s){i(s)}}function n(e){var s;e.done?$(e.value):(s=e.value,s instanceof r?s:new r(function(e){e(s)})).then(a,c)}n((t=t.apply(e,s||[])).next())})};Object.defineProperty(Wa,"__esModule",{value:!0});var Mk=(Pf=void 0,Wa.AsyncReplaceDirective=Pf);Wa.asyncReplace=Mk;class Nk extends dc{constructor(){super(...arguments),this.__weakThis=new w.PseudoWeakRef(this),this.__pauser=new w.Pauser}render(e,s){return g}update(e,[s,r]){if(this.isConnected||this.disconnected(),s===this.__value)return;this.__value=s;let t=0;const{__weakThis:$,__pauser:i}=this;return(0,w.forAwaitOf)(s,e=>Au(this,void 0,void 0,function*(){for(;i.get();)yield i.get();const a=$.deref();if(void 0!==a){if(a.__value!==s)return!1;void 0!==r&&(e=r(e,t)),a.commitValue(e,t),t++}return!0})),g}commitValue(e,s){this.setValue(e)}disconnected(){this.__weakThis.disconnect(),this.__pauser.pause()}reconnected(){this.__weakThis.reconnect(this),this.__pauser.resume()}}var Pf=Nk;Wa.AsyncReplaceDirective=Pf,Mk=(0,v)(Nk),Wa.asyncReplace=Mk;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});var Ok=void 0;ce.asyncAppend=Ok;class Bu extends Pf{constructor(e){if(super(e),e.type!==x.CHILD)throw new Error("asyncAppend can only be used in child expressions")}update(e,r){return this.__childPart=e,super.update(e,r)}commitValue(e,r){0===r&&(0,Wd)(this.__childPart);const $=(0,aa)(this.__childPart);(0,ba)($,e)}}Ok=(0,v)(Bu),ce.asyncAppend=Ok;var de={};Object.defineProperty(de,"__esModule",{value:!0});var Pk=void 0;de.cache=Pk;class Cu extends R{constructor(e){super(e),this._templateCache=new WeakMap}render(e){return[e]}update(e,[t]){if((0,bc)(this._value)&&(!(0,bc)(t)||this._value.strings!==t.strings)){const t=(0,Kc)(e).pop();let r=this._templateCache.get(this._value.strings);if(void 0===r){const e=document.createDocumentFragment();(r=(0,Ta)(c,e)).setConnected(!1),this._templateCache.set(this._value.strings,r)}(0,cc)(r,[t]),(0,aa)(r,void 0,t)}if((0,bc)(t)){if(!(0,bc)(this._value)||this._value.strings!==t.strings){const r=this._templateCache.get(t.strings);if(void 0!==r){const t=(0,Kc)(r).pop();(0,Wd)(e),(0,aa)(e,void 0,t),(0,cc)(e,[t])}}this._value=t}else this._value=void 0;return this.render(t)}}Pk=(0,v)(Cu),de.cache=Pk;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});var Qk=void 0;ee.guard=Qk;const Du={};class Eu extends R{constructor(){super(...arguments),this._previousValue=Du}render(r,e){return e()}update(r,[e,$]){if(Array.isArray(e)){if(Array.isArray(this._previousValue)&&this._previousValue.length===e.length&&e.every((r,e)=>r===this._previousValue[e]))return g}else if(this._previousValue===e)return g;return this._previousValue=Array.isArray(e)?Array.from(e):e,this.render(e,$)}}Qk=(0,v)(Eu),ee.guard=Qk;var fe={};Object.defineProperty(fe,"__esModule",{value:!0});var Rk=void 0;fe.ifDefined=Rk;const Fu=i=>null!=i?i:c;Rk=Fu,fe.ifDefined=Rk;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});var Sk=void 0;ge.live=Sk;class Gu extends R{constructor(e){if(super(e),e.type!==x.PROPERTY&&e.type!==x.ATTRIBUTE&&e.type!==x.BOOLEAN_ATTRIBUTE)throw new Error("The `live` directive is not allowed on child or event bindings");if(!(0,Xd)(e))throw new Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[r]){if(r===g||r===c)return r;const $=e.element,i=e.name;if(e.type===x.PROPERTY){if(r===$[i])return g}else if(e.type===x.BOOLEAN_ATTRIBUTE){if(!!r===$.hasAttribute(i))return g}else if(e.type===x.ATTRIBUTE&&$.getAttribute(i)===String(r))return g;return(0,cc)(e),r}}Sk=(0,v)(Gu),ge.live=Sk;var hc={};Object.defineProperty(hc,"__esModule",{value:!0});var Tk=(Uk=void 0,hc.createRef=Uk);hc.ref=Tk;const Hu=()=>new Iu;var Uk=Hu;hc.createRef=Uk;class Iu{}const Qf=new WeakMap;class Ju extends dc{render(e){return c}update(e,[t]){var r;const s=t!==this._ref;return s&&void 0!==this._ref&&this._updateRefValue(void 0),(s||this._lastElementForRef!==this._element)&&(this._ref=t,this._context=null===(r=e.options)||void 0===r?void 0:r.host,this._updateRefValue(this._element=e.element)),c}_updateRefValue(e){"function"==typeof this._ref?(void 0!==Qf.get(this._ref)&&this._ref.call(this._context,void 0),Qf.set(this._ref,e),void 0!==e&&this._ref.call(this._context,e)):this._ref.value=e}get _lastElementForRef(){var e;return"function"==typeof this._ref?Qf.get(this._ref):null===(e=this._ref)||void 0===e?void 0:e.value}disconnected(){this._lastElementForRef===this._element&&this._updateRefValue(void 0)}reconnected(){this._updateRefValue(this._element)}}Tk=(0,ck)(Ju),hc.ref=Tk;var he={};Object.defineProperty(he,"__esModule",{value:!0});var Vk=void 0;he.repeat=Vk;const Wk=(e,t,r)=>{const $=new Map;for(let i=t;i<=r;i++)$.set(e[i],i);return $};class Ku extends R{constructor(e){if(super(e),e.type!==x.CHILD)throw new Error("repeat() can only be used in text expressions")}_getValuesAndKeys(e,t,r){let $;void 0===r?r=t:void 0!==t&&($=t);const i=[],a=[];let s=0;for(const l of e)i[s]=$?$(l,s):s,a[s]=r(l,s),s++;return{values:a,keys:i}}render(e,t,r){return this._getValuesAndKeys(e,t,r).values}update(e,[t,r,$]){var i;const a=(0,Kc)(e),{values:s,keys:l}=this._getValuesAndKeys(t,r,$);if(!Array.isArray(a))return this._itemKeys=l,s;const v=null!==(i=this._itemKeys)&&void 0!==i?i:this._itemKeys=[],_=[];let x,d,p=0,n=a.length-1,c=0,o=s.length-1;for(;p<=n&&c<=o;)if(null===a[p])p++;else if(null===a[n])n--;else if(v[p]===l[c])_[c]=(0,ba)(a[p],s[c]),p++,c++;else if(v[n]===l[o])_[o]=(0,ba)(a[n],s[o]),n--,o--;else if(v[p]===l[o])_[o]=(0,ba)(a[p],s[o]),(0,aa)(e,_[o+1],a[p]),p++,o--;else if(v[n]===l[c])_[c]=(0,ba)(a[n],s[c]),(0,aa)(e,a[p],a[n]),n--,c++;else if(void 0===x&&(x=Wk(l,c,o),d=Wk(v,p,n)),x.has(v[p])){if(x.has(v[n])){const t=d.get(l[c]),r=void 0!==t?a[t]:null;if(null===r){const t=(0,aa)(e,a[p]);(0,ba)(t,s[c]),_[c]=t}else _[c]=(0,ba)(r,s[c]),(0,aa)(e,a[p],r),a[t]=null;c++}else(0,Lc)(a[n]),n--;}else(0,Lc)(a[p]),p++;for(;c<=o;){const t=(0,aa)(e,_[o+1]);(0,ba)(t,s[c]),_[c++]=t}for(;p<=n;){const e=a[p++];null!==e&&(0,Lc)(e)}return this._itemKeys=l,(0,cc)(e,_),g}}Vk=(0,v)(Ku),he.repeat=Vk;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});var Xk=void 0;ie.styleMap=Xk;class Lu extends R{constructor(e){var r;if(super(e),e.type!==x.ATTRIBUTE||"style"!==e.name||(null===(r=e.strings)||void 0===r?void 0:r.length)>2)throw new Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((r,t)=>{const i=e[t];return null==i?r:r+`${t=t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(e,[r]){const{style:t}=e.element;if(void 0===this._previousStyleProperties){this._previousStyleProperties=new Set;for(const e in r)this._previousStyleProperties.add(e);return this.render(r)}this._previousStyleProperties.forEach(e=>{null==r[e]&&(this._previousStyleProperties.delete(e),e.includes("-")?t.removeProperty(e):t[e]="")});for(const i in r){const e=r[i];null!=e&&(this._previousStyleProperties.add(i),i.includes("-")?t.setProperty(i,e):t[i]=e)}return g}}Xk=(0,v)(Lu),ie.styleMap=Xk;var je={};Object.defineProperty(je,"__esModule",{value:!0});var Yk=void 0;je.templateContent=Yk;class Mu extends R{constructor(e){if(super(e),e.type!==x.CHILD)throw new Error("templateContent can only be used in child bindings")}render(e){return this._previousTemplate===e?g:(this._previousTemplate=e,document.importNode(e.content,!0))}}Yk=(0,v)(Mu),je.templateContent=Yk;var Kb={};Object.defineProperty(Kb,"__esModule",{value:!0});var Zk=($k=void 0,Kb.UnsafeHTMLDirective=$k);Kb.unsafeHTML=Zk;class ke extends R{constructor(e){if(super(e),this._value=c,e.type!==x.CHILD)throw new Error(`${this.constructor.directiveName}() can only be used in child bindings`)}render(e){if(e===c||null==e)return this._templateResult=void 0,this._value=e;if(e===g)return e;if("string"!=typeof e)throw new Error(`${this.constructor.directiveName}() called with a non-string value`);if(e===this._value)return this._templateResult;this._value=e;const t=[e];return t.raw=t,this._templateResult={_$litType$:this.constructor.resultType,strings:t,values:[]}}}var $k=ke;Kb.UnsafeHTMLDirective=$k,ke.directiveName="unsafeHTML",ke.resultType=1,Zk=(0,v)(ke),Kb.unsafeHTML=Zk;var le={};Object.defineProperty(le,"__esModule",{value:!0});var _k=void 0;le.unsafeSVG=_k;class Rf extends Kb.UnsafeHTMLDirective{}Rf.directiveName="unsafeSVG",Rf.resultType=2,_k=(0,v)(Rf),le.unsafeSVG=_k;var Xa={},Nu=Xa&&Xa.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,$){function l(e){try{s(r.next(e))}catch(t){$(t)}}function n(e){try{s(r.throw(e))}catch(t){$(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(l,n)}s((r=r.apply(e,t||[])).next())})};Object.defineProperty(Xa,"__esModule",{value:!0});var al=(el=void 0,Xa.UntilDirective=el);Xa.until=al;const bl=e=>!(0,If)(e)&&"function"==typeof e.then,cl=1073741823;class dl extends dc{constructor(){super(...arguments),this.__lastRenderedIndex=cl,this.__values=[],this.__weakThis=new w.PseudoWeakRef(this),this.__pauser=new w.Pauser}render(...e){var t;return null!==(t=e.find(e=>!bl(e)))&&void 0!==t?t:g}update(e,t){const i=this.__values;let r=i.length;this.__values=t;const a=this.__weakThis,$=this.__pauser;this.isConnected||this.disconnected();for(let l=0;l<t.length&&!(l>this.__lastRenderedIndex);l++){const e=t[l];if(!bl(e))return this.__lastRenderedIndex=l,e;l<r&&e===i[l]||(this.__lastRenderedIndex=cl,r=0,Promise.resolve(e).then(t=>Nu(this,void 0,void 0,function*(){for(;$.get();)yield $.get();const i=a.deref();if(void 0!==i){const r=i.__values.indexOf(e);r>-1&&r<i.__lastRenderedIndex&&(i.__lastRenderedIndex=r,i.setValue(t))}})))}return g}disconnected(){this.__weakThis.disconnect(),this.__pauser.pause()}reconnected(){this.__weakThis.reconnect(this),this.__pauser.resume()}}var el=dl;Xa.UntilDirective=el,al=(0,v)(dl),Xa.until=al;Object.defineProperty(b,"__esModule",{value:!0}),l(Ra,b),l(Zd,b),l(F,b),l(t,b),l(Ua,b),l(be,b),l(ce,b),l(Wa,b),l(de,b),l(ee,b),l(fe,b),l(ge,b),l(hc,b),l(he,b),l(ie,b),l(je,b),l(Kb,b),l(le,b),l(Xa,b);var me="function"==typeof Symbol?Symbol:void 0,Ou=me&&me.iterator,Pu=Ou||"@@iterator";function fl(r){this._o=r,this._i=0}fl.prototype[Pu]=function(){return this},fl.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var Qu=me&&me.asyncIterator,Ru=Qu||"@@asyncIterator";function ne(r){this._i=r}function Sf(r,t,e){var $;return new Promise(function(o){o(($=r[t](e)).value)}).then(function(r){return{value:r,done:$.done}})}ne.prototype[Ru]=function(){return this},ne.prototype.next=function(r){return Sf(this._i,"next",r)},ne.prototype.return=function(r){return this._i.return?Sf(this._i,"return",r):Promise.resolve({value:r,done:!0})},ne.prototype.throw=function(r){return this._i.throw?Sf(this._i,"throw",r):Promise.reject(r)};var Ya={},gl=Ya&&Ya.__decorate||function(e,r,$,t){var a,c=arguments.length,o=c<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,$):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,$,t);else for(var q=e.length-1;q>=0;q--)(a=e[q])&&(o=(c<3?a(o):c>3?a(r,$,o):a(r,$))||o);return c>3&&o&&Object.defineProperty(r,$,o),o},Su=Ya&&Ya.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(Ya,"__esModule",{value:!0});var oe=void 0;Ya.BaseService=oe;const Tf=(o(),{});let hl=class{query(e){return Tf.from(this.graphql.query.bind(this.graphql)(e))}mutate(e){return Tf.from(this.graphql.mutate.bind(this.graphql)(e))}watchQuery(e){return this.graphql.watchQuery(e)}subscribe(e){return Tf.from(this.graphql.subscribe.bind(this.graphql)(e))}};gl([i.Injector(n.ApolloClient),Su("design:type",Object)],hl.prototype,"graphql",void 0),oe=hl=gl([i.Injectable()],hl),Ya.BaseService=oe;var ic={};Object.defineProperty(ic,"__esModule",{value:!0});var il=void 0;ic.DEFAULTS=il;il=new i.InjectionToken,ic.DEFAULTS=il;var da={},Wc=da&&da.__decorate||function(t,e,r,i){var o,s=arguments.length,$=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&($=(s<3?o($):s>3?o(e,r,$):o(e,r))||$);return s>3&&$&&Object.defineProperty(e,r,$),$},pe=da&&da.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tu=da&&da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});var Uf=void 0;da.GraphComponent=Uf;const Vf=Tu({}),qe=(o(),{}),Wf=(Ea(),{});let Xc=class extends b.LitElement{constructor(){super(...arguments),this.options={fetch:"",style:b.css``,state:new qe.BehaviorSubject({}),render:t=>b.html`
        ${t}
      `,loading:()=>b.html``,error:()=>b.html``,settings:{}},this.loading=!0,this.error=""}OnInit(){this.result=new qe.ReplaySubject}OnUpdateFirst(){let t;if(this.options.state)qe.isObservable(this.options.state)?t=this.options.state:this.result.next(this.options.state);else try{t=this.query()}catch(e){this.result.error(e),this.result.complete()}this.options.subscribe&&(this.pubsubSubscription=this.graphql.subscribe({query:Vf.default`
            ${this.options.subscribe}
          `}).subscribe(t=>this.result.next(t),t=>this.result.error(t))),t&&(this.subscription=t.subscribe(t=>{this.result.next(t),this.dispatchEvent(new CustomEvent("onData",{detail:t}))},t=>{t&&t.networkError&&t.networkError.result&&(t.message=`${JSON.stringify(t.networkError.result.errors)} ${t.message}`),this.result.error(t),this.dispatchEvent(new CustomEvent("onError",{detail:t}))}))}OnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.pubsubSubscription&&this.pubsubSubscription.unsubscribe(),this.result.complete()}query(){let t=this.options.fetch;return this.options.settings=this.options.settings||{},this.options.fetch=this.options.fetch||"",this.options.fetch.loc&&this.options.fetch.loc.source&&(t=this.options.fetch.loc.source.body),"string"==typeof t&&t.includes("mutation")?(this.options.settings.mutation=Vf.default`
        ${t}
      `,this.graphql.mutate(this.options.settings)):(this.options.settings.query="string"!=typeof t?t:Vf.default`
            ${t}
          `,"string"==typeof t&&t.includes("subscription")?this.graphql.subscribe(this.options.settings):this.graphql.query(this.options.settings))}isPrimitive(t){return t!==Object(t)}};Wc([b.property({type:Object}),pe("design:type",Object)],Xc.prototype,"options",void 0),Wc([i.Inject(oe),pe("design:type",oe)],Xc.prototype,"graphql",void 0),Wc([b.property({type:Boolean}),pe("design:type",Object)],Xc.prototype,"loading",void 0),Wc([b.property({type:String}),pe("design:type",Object)],Xc.prototype,"error",void 0),Uf=Xc=Wc([b.Component({selector:"r-graph",template(){var t;return b.html`
      <style>
        ${null===(t=this.options)||void 0===t?void 0:t.style}
      </style>
      ${b.async(this.result.pipe(Wf.map(t=>this.options.render?this.options.render(t,t=>this.result.next(t),this.shadowRoot):t),Wf.tap(()=>this.loading=!1),Wf.catchError(t=>(this.error=t,this.loading=!1,qe.of("")))))}
      ${this.loading?b.html`
            ${"function"==typeof this.options.loading?this.options.loading():i.Container.get(ic.DEFAULTS).loading()}
          `:""}
      ${this.error?b.html`
            ${"function"==typeof this.options.error?this.options.error(this.error):i.Container.get(ic.DEFAULTS).error(this.error)}
          `:""}
      <slot></slot>
    `}})],Xc),da.GraphComponent=Uf;var Uu,Yc={},Vu=Yc&&Yc.__decorate||function(e,r,$,o){var a,t=arguments.length,p=t<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,$):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,r,$,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(p=(t<3?a(p):t>3?a(r,$,p):a(r,$))||p);return t>3&&p&&Object.defineProperty(r,$,p),p};Object.defineProperty(Yc,"__esModule",{value:!0});var Xf=void 0;Yc.GraphModule=Xf;let Wu=Uu=class{static forRoot(e,r={}){return{module:Uu,components:[Uf],providers:[{provide:ic.DEFAULTS,useValue:r}],frameworkImports:[xf.forRoot(e)]}}};Xf=Wu=Uu=Vu([i.Module()],Wu),Yc.GraphModule=Xf;var S={},Xu=S&&S.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]}),re=S&&S.__exportStar||function(e,r){for(var $ in e)"default"===$||r.hasOwnProperty($)||Xu(r,e,$)};Object.defineProperty(S,"__esModule",{value:!0});var Yf=void 0;S.setConfig=Yf;function Yu(e){return i.Module({imports:[Xf.forRoot(e.config,e.defaults)]})(class{})}var jl={};Object.defineProperty(jl,"__esModule",{value:!0});var jc={},Zu=jc&&jc.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,$){function i(t){try{a(n.next(t))}catch(e){$(e)}}function u(t){try{a(n.throw(t))}catch(e){$(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(jc,"__esModule",{value:!0});var kl=void 0;jc.GraphqlSettings=kl;kl={config:{uri:"https://countries.trevorblades.com/",pubsub:"wss://pubsub.youvolio.com/subscriptions",onRequest(){return Zu(this,void 0,void 0,function*(){return new Headers})}},defaults:{error:t=>b.html`
        <p style="color: black">
          ${t}
        </p>
      `,loading:()=>b.html`
        <div style="text-align: center;">
          <rx-loading palette="danger"></rx-loading>
        </div>
      `}},jc.GraphqlSettings=kl;Yf=Yu,S.setConfig=Yf,re(Ya,S),re(da,S),re(jl,S),re(jc,S);var $u=kg&&kg.__awaiter||function(t,r,e,n){return new(e||(e=Promise))(function(i,o){function a(t){try{l(n.next(t))}catch(r){o(r)}}function $(t){try{l(n.throw(t))}catch(r){o(r)}}function l(t){var r;t.done?i(t.value):(r=t.value,r instanceof e?r:new e(function(t){t(r)})).then(a,$)}l((n=n.apply(t,r||[])).next())})};Yf({config:{uri:"https://countries.trevorblades.com/",pubsub:"",onRequest(){return $u(this,void 0,void 0,function*(){return new Headers})}},defaults:{error:t=>b.html`
        <p style="color: black">
          ${t}
        </p>
      `,loading:()=>b.html`
        <div style="text-align: center;">
          <rx-loading palette="danger"></rx-loading>
        </div>
      `}});var Za={},_u=Za&&Za.__createBinding||(Object.create?function(e,r,$,t){void 0===t&&(t=$),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[$]}})}:function(e,r,$,t){void 0===t&&(t=$),e[t]=r[$]}),Zf=Za&&Za.__exportStar||function(e,r){for(var $ in e)"default"===$||r.hasOwnProperty($)||_u(r,e,$)};var G={};Object.defineProperty(G,"__esModule",{value:!0});var ll=(ml=void 0,nl=G.renderWithHooks=ml,ol=G.getCurrentElement=nl,G.getElementUpdateFn=ol);let Zc;G.registerHook=ll;const av=(e,t)=>{Zc={element:e,renderIsInProgress:!0,hooksExecutedThisRender:0,elementUpdateFn:t}};var ml=(e,t,r)=>{av(e,r);const $=t(e);return Zc={element:null,renderIsInProgress:!1,hooksExecutedThisRender:0,elementUpdateFn:null},$};G.renderWithHooks=ml;var nl=()=>Zc.element;G.getCurrentElement=nl;var ol=()=>Zc.elementUpdateFn;G.getElementUpdateFn=ol,ll=e=>{if(!Zc.renderIsInProgress)throw new Error(`Hooks must be called from within an element's render() method. ${e} was not.`);const t=Zc.hooksExecutedThisRender++;return[Zc.element,t]},G.registerHook=ll;var se={};Object.defineProperty(se,"__esModule",{value:!0});var pl=void 0;se.useState=pl;const kc=new WeakMap,ql=(e,$,t,a)=>{kc.get(e).get($)!==a&&(kc.get(e).set($,a),t&&t())};pl=e=>{const[$,t]=G.registerHook(),a=G.getElementUpdateFn();return kc.has($)||kc.set($,new Map),kc.get($).has(t)||ql($,t,null,e),[kc.get($).get(t),ql.bind(null,$,t,a)]},se.useState=pl;var te={};Object.defineProperty(te,"__esModule",{value:!0});var rl=void 0;te.component=rl;rl=(e,{observedAttributes:o,shadowRoot:t}={})=>class extends HTMLElement{static get observedAttributes(){return o||[]}connectedCallback(){t&&this.attachShadow({mode:"open"}),this.render()}render(){b.render(G.renderWithHooks(this,e,this.render.bind(this)),t?this.shadowRoot:this)}attributeChangedCallback(e,o,t){console.log(`Value ${e} changed from ${o} to ${t}`)}},te.component=rl;Object.defineProperty(Za,"__esModule",{value:!0}),Zf(se,Za),Zf(G,Za),Zf(te,Za);var $a={},bv=$a&&$a.__createBinding||(Object.create?function(r,e,$,t){void 0===t&&(t=$),Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[$]}})}:function(r,e,$,t){void 0===t&&(t=$),r[t]=e[$]}),$f=$a&&$a.__exportStar||function(r,e){for(var $ in r)"default"===$||e.hasOwnProperty($)||bv(e,r,$)};var lc={},cv=lc&&lc.__createBinding||(Object.create?function(e,r,n,t){void 0===t&&(t=n),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,t){void 0===t&&(t=n),e[t]=r[n]}),dv=lc&&lc.__exportStar||function(e,r){for(var n in e)"default"===n||r.hasOwnProperty(n)||cv(r,e,n)};var ea={},$c=ea&&ea.__decorate||function(t,e,r,$){var i,o=arguments.length,s=o<3?e:null===$?$=Object.getOwnPropertyDescriptor(e,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,$);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},ue=ea&&ea.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ev=ea&&ea.__awaiter||function(t,e,r,$){return new(r||(r=Promise))(function(i,o){function s(t){try{a($.next(t))}catch(e){o(e)}}function n(t){try{a($.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,n)}a(($=$.apply(t,e||[])).next())})};Object.defineProperty(ea,"__esModule",{value:!0});var sl=void 0;ea.Renderer=sl;function fv(t){return function(e){if(!window.customElements.get(t.selector))return b.Component(t)(e)}}let _c=class extends b.LitElement{constructor(){super(...arguments),this.options={state:{},render:(t,e,r)=>b.html`
        ${t}
      `,style:b.css``,loading:()=>b.html``,error:t=>b.html``},this.loading=!0,this.error="",this.state={}}OnUpdateFirst(){return ev(this,void 0,void 0,function*(){this.options.state=yield this.options.state,this.options.state&&(this.isObservable(this.options.state)?this.subscription=this.options.state.subscribe(t=>{this.state=t,this.loading=!1,this.dispatchEvent(new CustomEvent("onData",{detail:t}))},t=>{this.state={},this.error=t,this.loading=!1,this.dispatchEvent(new CustomEvent("onError",{detail:t}))}):(this.loading=!1,this.state=this.options.state))})}isObservable(t){return this.isFunction(t.lift)&&this.isFunction(t.subscribe)}isFunction(t){return"function"==typeof t}OnDestroy(){this.subscription&&this.subscription.unsubscribe()}};$c([b.property({type:Object}),ue("design:type",Object)],_c.prototype,"options",void 0),$c([b.property({type:Boolean}),ue("design:type",Object)],_c.prototype,"loading",void 0),$c([b.property({type:String}),ue("design:type",Object)],_c.prototype,"error",void 0),$c([b.property(),ue("design:type",Object)],_c.prototype,"state",void 0),sl=_c=$c([fv({selector:"r-renderer",template(){var t;return b.html`
      ${(null===(t=this.options)||void 0===t?void 0:t.style)?b.html`
            <style>
              ${this.options.style}
            </style>
          `:b.html``}
      ${this.loading?"":this.options.render?this.options.render(this.state,t=>this.state=t,this.shadowRoot):this.state}
      ${this.loading?b.html`
            ${this.isFunction(this.options.loading)?this.options.loading():b.html``}
          `:""}
      ${this.error?b.html`
            ${this.isFunction(this.options.error)?this.options.error(this.error):b.html`
                  ${this.error}
                `}
          `:""}
    `}})],_c),ea.Renderer=sl;Object.defineProperty(lc,"__esModule",{value:!0}),dv(ea,lc);var _a={},tl=_a&&_a.__decorate||function(t,e,r,o){var $,a=arguments.length,p=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(t,e,r,o);else for(var l=t.length-1;l>=0;l--)($=t[l])&&(p=(a<3?$(p):a>3?$(e,r,p):$(e,r))||p);return a>3&&p&&Object.defineProperty(e,r,p),p},gv=_a&&_a.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(_a,"__esModule",{value:!0});var ul=void 0;_a.ForOperator=ul;let vl=class extends b.LitElement{constructor(){super(...arguments),this.of=[]}OnUpdate(){const t=this.shadowRoot.querySelector("slot").assignedNodes();if(t.length){const e=t[0].nextSibling;e&&(e.data=this.of)}}};tl([b.property({type:Array}),gv("design:type",Object)],vl.prototype,"of",void 0),ul=vl=tl([b.Component({selector:"r-for",template:()=>b.html`
      <slot></slot>
    `})],vl),_a.ForOperator=ul;var ab={},_f=ab&&ab.__decorate||function(t,e,r,a){var $,o=arguments.length,M=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(t,e,r,a);else for(var i=t.length-1;i>=0;i--)($=t[i])&&(M=(o<3?$(M):o>3?$(e,r,M):$(e,r))||M);return o>3&&M&&Object.defineProperty(e,r,M),M},wl=ab&&ab.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(ab,"__esModule",{value:!0});var xl=void 0;ab.LetOperator=xl;let ag=class extends b.LitElement{constructor(){super(...arguments),this.data=[],this.item=t=>b.html`
      ${t}
    `}normalizeArray(t){return t&&"string"!=typeof t?"number"==typeof t?Array.from(Array(t),(t,e)=>e):t instanceof Map||t instanceof Set?[...t.entries()]:Array.isArray(t)?t:Object.entries(t):[]}isObservable(t){return t&&this.isFunction(t.lift)&&this.isFunction(t.subscribe)}isFunction(t){return"function"==typeof t}};_f([b.property({type:Array}),wl("design:type",Object)],ag.prototype,"data",void 0),_f([b.property({type:Object}),wl("design:type",Object)],ag.prototype,"item",void 0),xl=ag=_f([b.Component({selector:"r-let",template(){return b.html`
      ${this.isObservable(this.data)?b.html`
            <r-renderer
              .options=${{state:this.data,render:t=>this.normalizeArray(t).map(this.item)}}
            ></r-renderer>
          `:this.normalizeArray(this.data).map(this.item)}
    `}})],ag),ab.LetOperator=xl;var bb={},yl=bb&&bb.__decorate||function(e,t,r,$){var o,f=arguments.length,a=f<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,$);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(a=(f<3?o(a):f>3?o(t,r,a):o(t,r))||a);return f>3&&a&&Object.defineProperty(t,r,a),a},hv=bb&&bb.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(bb,"__esModule",{value:!0});var zl=void 0;bb.IfOperator=zl;let Al=class extends b.LitElement{};yl([b.property({type:Boolean}),hv("design:type",Boolean)],Al.prototype,"exp",void 0),zl=Al=yl([b.Component({selector:"r-if",template(){return b.html`
      ${this.exp?b.html`
            <slot></slot>
          `:""}
    `}})],Al),bb.IfOperator=zl;Object.defineProperty($a,"__esModule",{value:!0}),$f(_a,$a),$f(ab,$a),$f(bb,$a);var fa={},iv=fa&&fa.__createBinding||(Object.create?function(r,e,$,n){void 0===n&&(n=$),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[$]}})}:function(r,e,$,n){void 0===n&&(n=$),r[n]=e[$]}),ad=fa&&fa.__exportStar||function(r,e){for(var $ in r)"default"===$||e.hasOwnProperty($)||iv(e,r,$)};var cb={},ve=cb&&cb.__decorate||function(e,t,r,$){var o,n=arguments.length,a=n<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,$);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},bg=cb&&cb.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(cb,"__esModule",{value:!0});var Bl=void 0;cb.LensComponent=Bl;let we=class extends b.LitElement{constructor(){super(...arguments),this.ray=e=>e}};ve([b.property({type:String}),bg("design:type",String)],we.prototype,"match",void 0),ve([b.property({type:Array}),bg("design:type",Array)],we.prototype,"get",void 0),ve([b.property({type:Object}),bg("design:type",Function)],we.prototype,"ray",void 0),Bl=we=ve([b.Component({selector:"r-lens"})],we),cb.LensComponent=Bl;var db={},Cl=db&&db.__decorate||function(e,t,$,r){var o,n=arguments.length,v=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,$):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,t,$,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(v=(n<3?o(v):n>3?o(t,$,v):o(t,$))||v);return n>3&&v&&Object.defineProperty(t,$,v),v},jv=db&&db.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(db,"__esModule",{value:!0});var Dl=void 0;db.RenderComponent=Dl;let El=class extends b.LitElement{};Cl([b.property({type:Object}),jv("design:type",Function)],El.prototype,"state",void 0),Dl=El=Cl([b.Component({selector:"r-render",template:()=>b.html`
    <slot></slot>
  `})],El),db.RenderComponent=Dl;function cg(r){return(cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function p(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Fl(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},$=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&($=$.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),$.forEach(function(t){p(r,t,e[t])})}return r}function kv(r){return mv(r)||Hl(r)||ov()}function Gl(r){return lv(r)||Hl(r)||nv()}function lv(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}function mv(r){if(Array.isArray(r))return r}function Hl(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function nv(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ov(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var pv=function(r){return{get:function(t){return t[r]||"function"!=typeof t.get?t[r]:t.get(r)},mod:function(t){return function(e){var $=arguments;return function(){for(var n=$.length,o=new Array(n>1?n-1:0),x=1;x<n;x++)o[x-1]=$[x];return"function"==typeof e.set?e.set(r,t(e[r]||e.get(r))):Array.isArray(e)?e.slice(0,r).concat(t.apply(void 0,[e[r]].concat(o))).concat(e.slice(r+1)):Fl({},e,p({},r,t.apply(void 0,[e[r]].concat(o))))}()}},traversal:!1}},bd=function(r){return r?"function"==typeof r.keys?r.keys():Object.keys(r):[]},qv=function(r){switch(r){case Map:return function(r,t,e){return r.set(t,e),r};case Set:return function(r,t,e){return r.add(e)};case Object:return function(r,t,e){return r[t]=e,r};}},rv=function(r){switch(r){case Map:return function(r,t){return r.get(t)};case Set:return function(r,t){return t};case Object:return function(r,t){return r[t]};}},cd=function(r){var t=r.native,e=r.overrides;return function(r){for(var $=arguments.length,n=new Array($>1?$-1:0),o=1;o<$;o++)n[o-1]=arguments[o];return function($){var o=Kl(r);if(null==$)return $;if("function"==typeof $[t])return $[t].apply($,[o].concat(n));var x=Object.getPrototypeOf($).constructor,u=e[x];return u?u(x,rv(x),qv(x)).apply(void 0,[$,o].concat(n)):void 0}}},Aw=function(){var r,t=function(r,t,e){return function($,n){var o=new r,x=!0,u=!1,a=void 0;try{for(var i,p=bd($)[Symbol.iterator]();!(x=(i=p.next()).done);x=!0){var A=i.value,f=t($,A);n(f,A)&&e(o,A,f)}}catch(c){u=!0,a=c}finally{try{x||null==p.return||p.return()}finally{if(u)throw a}}return o}};return cd({native:"filter",overrides:(r={},p(r,Object,t),p(r,Map,t),p(r,Set,t),r)})}(),dg=function(){var r,t=function(r,t,e){return function($,n){var o=new r,x=!0,u=!1,a=void 0;try{for(var i,p=bd($)[Symbol.iterator]();!(x=(i=p.next()).done);x=!0){var A=i.value;e(o,A,n(t($,A),A))}}catch(f){u=!0,a=f}finally{try{x||null==p.return||p.return()}finally{if(u)throw a}}return o}};return cd({native:"map",overrides:(r={},p(r,Object,t),p(r,Map,t),p(r,Set,t),p(r,Promise,function(){return function(r,t){return r.then(t)}}),r)})}(),Bw=function(){var r,t=function(r,t,e){return function(r,e){if(r){var $=!0,n=!1,o=void 0;try{for(var x,u=bd(r)[Symbol.iterator]();!($=(x=u.next()).done);$=!0){var a=x.value,i=t(r,a);if(e(i,a))return i}}catch(p){n=!0,o=p}finally{try{$||null==u.return||u.return()}finally{if(n)throw o}}}}};return cd({native:"find",overrides:(r={},p(r,Object,t),p(r,Map,t),p(r,Set,t),r)})}(),Cw=function(){var r,t=function(r,t,e){return function(r,e){var $=!0,n=!1,o=void 0;try{for(var x,u=bd(r)[Symbol.iterator]();!($=(x=u.next()).done);$=!0){var a=x.value;if(e(t(r,a),a))return!0}}catch(i){n=!0,o=i}finally{try{$||null==u.return||u.return()}finally{if(n)throw o}}return!1}};return cd({native:"some",overrides:(r={},p(r,Object,t),p(r,Map,t),p(r,Set,t),r)})}(),Il=function(){var r,t=function(r,t,e){return function(e,$,n){var o=new r,x=!0,u=!1,a=void 0;try{for(var i,p=bd(e)[Symbol.iterator]();!(x=(i=p.next()).done);x=!0){var A=i.value;$(o,t(e,A),A)}}catch(f){u=!0,a=f}finally{try{x||null==p.return||p.return()}finally{if(u)throw a}}return n}};return cd({native:"reduce",overrides:(r={},p(r,Object,t),p(r,Map,t),p(r,Set,t),r)})}(),sv=function(r){var t=!0,e=!1,$=void 0;try{for(var n,o=r[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){if(!n.value)return!1}}catch(x){e=!0,$=x}finally{try{t||null==o.return||o.return()}finally{if(e)throw $}}return!0},tv=function(r){return function(t){return Gl(t).concat([r])}},xe=function(r){return["string","number"].includes(cg(r))?pv(r):Fl({traversal:!1,optional:!1},r)},Jl=function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return 1===t.length?xe(t[0]):{get:function(r){return t.map(xe).reduce(function(r,t){var e=r.traverser,$=r.state,n=r.shortCircuited,o=n?null:e(t.get)($);return{state:o,traverser:t.traversal?function(r){return dg(e(r))}:e,shortCircuited:n||t.optional&&null==o}},{state:r,traverser:function(r){return r},shortCircuited:!1}).state},mod:function(r){return function(e){for(var $=arguments.length,n=new Array($>1?$-1:0),o=1;o<$;o++)n[o-1]=arguments[o];return function t(e,$){var o,x,u;return x=(o=kv($))[0],0===(u=o.slice(1)).length?x.mod(r).apply(void 0,[e].concat(n)):x.mod(function(r){return t(r,u)}).apply(void 0,[e].concat(n))}(e,t.map(xe))}}}},dd=function(){return Jl.apply(void 0,arguments).get},uv=function r(t){return function(e){return t&&"object"===cg(t)?!!e&&sv(Object.keys(t).map(function($){return r(dd($)(t))(vv($)(e))})):"function"==typeof t?t(e):t===e}},vv=function(r){return function(t){var e;return"function"==typeof(e=dd(r)(t))?e.bind(t):e}},Kl=function(r){return"function"==typeof r?r:"object"===cg(r)?uv(r):dd(r)},wv=function(r){return r};function xv(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function($){return r?xv(r,t,tv($)(e)):t.apply(void 0,Gl(e))}}var ed=function(r){return function(t){var e=Kl(t);return function(t,$){return r(t,$,e)}}},yv=ed(function(r,t,e){return e(t)>e(r)?t:r}),zv=ed(function(r,t,e){return e(t)<e(r)?t:r}),Av=ed(function(r,t,e){return e(r)?r:e(t)?t:null}),Dw=ed(function(r,t,e){return e(t)+("number"==typeof r?r:e(r))}),Ew=ed(function(r,t,e){return e(t)*("number"==typeof r?r:e(r))}),Bv=function(){return Jl.apply(void 0,arguments).mod},Ll=function(){return{get:wv,mod:dg,traversal:!0}},Cv=Object.assign(Ll,Ll()),eg=function(r){return r.of=r,r},fg=function(r){return function(t){return xe({get:Il(r(t)),mod:function(e){return function($){var n=Il(r(t))($);return dg(function(r){return r===n?e(r):r})($)}}})}},Fw=eg(fg(Av)),Gw=eg(fg(yv)),Hw=eg(fg(zv));var ga={},Ml=ga&&ga.__decorate||function(e,t,r,o){var n,a=arguments.length,$=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&($=(a<3?n($):a>3?n(t,r,$):n(t,r))||$);return a>3&&$&&Object.defineProperty(t,r,$),$},Dv=ga&&ga.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ev=ga&&ga.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(n,a){function $(e){try{s(o.next(e))}catch(t){a(t)}}function i(e){try{s(o.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then($,i)}s((o=o.apply(e,t||[])).next())})};Object.defineProperty(ga,"__esModule",{value:!0});var Nl=void 0;ga.MonadComponent=Nl;const Ol=(Ea(),{});function Pl(e){return"function"==typeof e.lift&&"function"==typeof e.subscribe}let Ql=class extends b.LitElement{OnUpdateFirst(){return Ev(this,void 0,void 0,function*(){const e=this.shadowRoot.querySelector("slot").assignedNodes(),t=this.findNode(e,"r-render"),r=this.findNode(e,"r-fetch"),o=this.findNode(e,"r-state"),n=this.findNode(e,"r-settings"),a=this.findNode(e,"r-lens"),$=this.findNode(e,"r-style"),i=this.findNode(e,"script");i&&new Function(i.innerHTML).call(this);const s=r?this.applyQueries(r):"";let l=o?yield o.value:null;a&&(l=this.applyLenses(l,a)),this.options={state:l,fetch:s,style:null==$?void 0:$.value,render:t.state},this.options.settings=n?n.value:null,this.componentToRender=r?b.html`
          <r-graph .options=${this.options}></r-graph>
        `:b.html`
          <r-renderer .options=${this.options}></r-renderer>
        `})}trim(e="",t){if(e.includes(t))return e;return`${t} ${e.trim().replace(/\s/g," ")}`}applyQueries(e){return e.query?this.trim(e.query,"query"):e.subscribe?this.trim(e.subscribe,"subscription"):e.mutate?this.trim(e.mutate,"mutation"):""}applyLenses(e={},t){let r=JSON.parse(JSON.stringify(e));return t.match?r=this.get(r,t.match):t.get?(t.get=t.get.map(e=>"all"===e?Cv:e),r=Pl(r)?r.pipe(Ol.map(e=>{const r=dd(...t.get)(e);return r||e})):dd(...t.get)(r),t.ray&&(r=t.ray(r))):t.ray&&(r=Pl(r)?r.pipe(Ol.map(e=>t.ray(e))):t.ray(r)),r}modState(e,t){return new Promise((r,o)=>{try{Bv(e[0],e[1],e[2],e[3],e[4])(r)(t)}catch(n){o(n)}})}findNode(e,t){const r=e.find(e=>e&&e.nextSibling&&e.nextSibling.localName===t);return r?r.nextSibling:null}get(e={},t="",r){return t.replace(/\[(.+?)\]/g,".$1").split(".").reduce((e,t)=>e[t],e)||r}};Ml([b.property({type:Object}),Dv("design:type",Object)],Ql.prototype,"options",void 0),Nl=Ql=Ml([b.Component({selector:"r-part",template(){return b.html`
      <slot></slot>
      ${this.options?this.componentToRender:""}
    `}})],Ql),ga.MonadComponent=Nl;var eb={},Rl=eb&&eb.__decorate||function(t,e,$,o){var r,n=arguments.length,a=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,$):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,$,o);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(a=(n<3?r(a):n>3?r(e,$,a):r(e,$))||a);return n>3&&a&&Object.defineProperty(e,$,a),a},Fv=eb&&eb.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(eb,"__esModule",{value:!0});var Sl=void 0;eb.SettingsComponent=Sl;let Tl=class extends b.LitElement{};Rl([b.property({type:Object}),Fv("design:type",Object)],Tl.prototype,"value",void 0),Sl=Tl=Rl([b.Component({selector:"r-settings"})],Tl),eb.SettingsComponent=Sl;var fb={},Ul=fb&&fb.__decorate||function(t,e,r,$){var o,a=arguments.length,n=a<3?e:null===$?$=Object.getOwnPropertyDescriptor(e,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,$);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(n=(a<3?o(n):a>3?o(e,r,n):o(e,r))||n);return a>3&&n&&Object.defineProperty(e,r,n),n},Gv=fb&&fb.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(fb,"__esModule",{value:!0});var Vl=void 0;fb.StateComponent=Vl;let Wl=class extends b.LitElement{};Ul([b.property(),Gv("design:type",Object)],Wl.prototype,"value",void 0),Vl=Wl=Ul([b.Component({selector:"r-state"})],Wl),fb.StateComponent=Vl;Object.defineProperty(fa,"__esModule",{value:!0}),ad(cb,fa),ad(db,fa),ad(ga,fa),ad(eb,fa),ad(fb,fa);var mc={},Hv=mc&&mc.__createBinding||(Object.create?function(e,r,t,$){void 0===$&&($=t),Object.defineProperty(e,$,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,$){void 0===$&&($=t),e[$]=r[t]}),Iv=mc&&mc.__exportStar||function(e,r){for(var t in e)"default"===t||r.hasOwnProperty(t)||Hv(r,e,t)};var H={},Jv=H&&H.__createBinding||(Object.create?function(r,e,$,t){void 0===t&&(t=$),Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[$]}})}:function(r,e,$,t){void 0===t&&(t=$),r[t]=e[$]}),Lb=H&&H.__exportStar||function(r,e){for(var $ in r)"default"===$||e.hasOwnProperty($)||Jv(e,r,$)};var fd={};Object.defineProperty(fd,"__esModule",{value:!0});var nc=(gd=void 0,fd.RegistryReadyEvent=gd);fd.selector=nc;var gd="r-component-registry-ready";fd.RegistryReadyEvent=gd,nc="r-component-registry",fd.selector=nc;var Mb={},Xl=Mb&&Mb.__decorate||function(e,t,r,$){var o,n=arguments.length,a=n<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,$);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},Kv=Mb&&Mb.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Mb,"__esModule",{value:!0});var Yl=void 0;Mb.ComponentRegistry=Yl;let Zl=class extends b.LitElement{constructor(){super(...arguments),this.components=[]}OnInit(){window.dispatchEvent(new Event(gd))}register(e){this.components=[...this.components,e]}};Xl([b.property({type:Array}),Kv("design:type",Object)],Zl.prototype,"components",void 0),Yl=Zl=Xl([b.Component({selector:nc,template(){return b.html`
      <r-for .of=${this.components}>
        <r-let .item=${e=>e}></r-let>
      </r-for>
    `}})],Zl),Mb.ComponentRegistry=Yl,window.addEventListener("load",()=>document.body.append(document.createElement(nc)));var gb={},Lv=gb&&gb.__decorate||function(e,t,o,r){var n,i=arguments.length,$=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&($=(i<3?n($):i>3?n(t,o,$):n(t,o))||$);return i>3&&$&&Object.defineProperty(t,o,$),$},Mv=gb&&gb.__awaiter||function(e,t,o,r){return new(o||(o=Promise))(function(n,i){function $(e){try{a(r.next(e))}catch(t){i(t)}}function s(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then($,s)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(gb,"__esModule",{value:!0});var $l=void 0;gb.RComponentOperator=$l;let Nv=class extends b.LitElement{OnUpdateFirst(){return Mv(this,void 0,void 0,function*(){const e=this.shadowRoot.querySelector("slot").assignedNodes(),t=this.findNode(e,"r-selector"),o=this.findNode(e,"r-render"),r=this.findNode(e,"r-props");r&&(yield r.requestUpdate());const n=t?t.innerText:null;!window.customElements.get(n)&&n&&b.Component({selector:n,template(){return o?o.state(this,e=>Object.assign(this,e),this.shadowRoot):b.html`
                Missing template
              `}})(class extends b.LitElement{constructor(){super(...arguments),this.loading=!0}static get properties(){return Object.assign(Object.assign({},r.props),{loading:{type:Boolean}})}}),o&&o.remove(),t&&t.remove(),r&&r.remove();const i=this.findNode(e,"script");i&&(yield window.customElements.whenDefined(n),new Function(i.innerHTML).call((yield window.customElements.get(n))),i.remove()),this.remove()})}findNode(e,t){const o=e.find(e=>e&&e.nextSibling&&e.nextSibling.localName===t);return o?o.nextSibling:null}};$l=Nv=Lv([b.Component({selector:"r-component",template:()=>b.html`
    <slot></slot>
  `})],Nv),gb.RComponentOperator=$l;var oc={},Ov=oc&&oc.__decorate||function(e,t,r,$){var l,o=arguments.length,R=o<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(e,t,r,$);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(R=(o<3?l(R):o>3?l(t,r,R):l(t,r))||R);return o>3&&R&&Object.defineProperty(t,r,R),R};Object.defineProperty(oc,"__esModule",{value:!0});var _l=void 0;oc.RKeyOperator=_l;let Pv=class extends b.LitElement{};_l=Pv=Ov([b.Component({selector:"r-key",template:()=>b.html`
    <slot></slot>
  `})],Pv),oc.RKeyOperator=_l;var hb={},gg=hb&&hb.__decorate||function(e,t,r,$){var o,a=arguments.length,p=a<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,r,$);else for(var v=e.length-1;v>=0;v--)(o=e[v])&&(p=(a<3?o(p):a>3?o(t,r,p):o(t,r))||p);return a>3&&p&&Object.defineProperty(t,r,p),p},am=hb&&hb.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(hb,"__esModule",{value:!0});var bm=void 0;hb.RPropOperator=bm;let hg=class extends b.LitElement{};gg([b.property(),am("design:type",String)],hg.prototype,"key",void 0),gg([b.property(),am("design:type",String)],hg.prototype,"type",void 0),bm=hg=gg([b.Component({selector:"r-prop",template:()=>b.html`
    <slot></slot>
  `})],hg),hb.RPropOperator=bm;var pc={},Qv=pc&&pc.__decorate||function(e,r,t,o){var s,$=arguments.length,p=$<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,r,t,o);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(p=($<3?s(p):$>3?s(r,t,p):s(r,t))||p);return $>3&&p&&Object.defineProperty(r,t,p),p};Object.defineProperty(pc,"__esModule",{value:!0});var cm=void 0;pc.RPropsOperator=cm;let Rv=class extends b.LitElement{constructor(){super(...arguments),this.props={}}OnUpdateFirst(){this.nodes=this.querySelectorAll("r-prop"),this.nodes.forEach(e=>{const r=e.querySelector("r-key"),t=e.querySelector("r-type"),o=e.key||r.innerText;let s=e.type||t.innerText;this.isString(s)&&(s=String),this.isNumber(s)&&(s=Number),this.isBoolean(s)&&(s=Boolean),this.isObject(s)&&(s=Object),this.props[o]={type:s}})}OnDestroy(){this.nodes.forEach(e=>e.remove())}isString(e){return"String"===e}isNumber(e){return"Number"===e}isBoolean(e){return"Boolean"===e}isObject(e){return"Object"===e}};cm=Rv=Qv([b.Component({selector:"r-props",template:()=>b.html`
    <slot></slot>
  `})],Rv),pc.RPropsOperator=cm;var qc={},Sv=qc&&qc.__decorate||function(r,e,t,$){var l,o=arguments.length,p=o<3?e:null===$?$=Object.getOwnPropertyDescriptor(e,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(r,e,t,$);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(p=(o<3?l(p):o>3?l(e,t,p):l(e,t))||p);return o>3&&p&&Object.defineProperty(e,t,p),p};Object.defineProperty(qc,"__esModule",{value:!0});var dm=void 0;qc.RTypeOperator=dm;let Tv=class extends b.LitElement{};dm=Tv=Sv([b.Component({selector:"r-type",template:()=>b.html`
    <slot></slot>
  `})],Tv),qc.RTypeOperator=dm;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});var em=void 0;ye.Hydrate=em;function Uv(e){return new Promise(t=>{let r=document.querySelector(nc);if(r)r.register(e),t(r);else{const $=()=>{(r=document.querySelector(nc)).register(e),t(r),window.removeEventListener(gd,$)};window.addEventListener(gd,$)}})}em=Uv,ye.Hydrate=em;var ib={},Vv=ib&&ib.__decorate||function(e,t,v,r){var $,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,v):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,v,r);else for(var a=e.length-1;a>=0;a--)($=e[a])&&(o=(i<3?$(o):i>3?$(t,v,o):$(t,v))||o);return i>3&&o&&Object.defineProperty(t,v,o),o},Wv=ib&&ib.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(ib,"__esModule",{value:!0});var fm=void 0;ib.LitServiceElement=fm;class gm extends b.LitElement{constructor(){super(...arguments),this.run=()=>null}OnUpdateFirst(){this.remove(),this.run(this)}}Vv([b.property({type:Object}),Wv("design:type",Function)],gm.prototype,"run",void 0),fm=gm,ib.LitServiceElement=fm;Object.defineProperty(H,"__esModule",{value:!0}),Lb(gb,H),Lb(oc,H),Lb(hb,H),Lb(pc,H),Lb(qc,H),Lb(ye,H),Lb(ib,H);Object.defineProperty(mc,"__esModule",{value:!0}),Iv(H,mc);o(),o(),Ea(),Ea();var ig=I&&I.__decorate||function(e,r,t,$){var o,p=arguments.length,c=p<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,$);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(c=(p<3?o(c):p>3?o(r,t,c):o(r,t))||c);return p>3&&c&&Object.defineProperty(r,t,c),c},Xv=I&&I.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)},hm=I&&I.__awaiter||function(e,r,t,$){return new(t||(t=Promise))(function(o,p){function c(e){try{i($.next(e))}catch(r){p(r)}}function n(e){try{i($.throw(e))}catch(r){p(r)}}function i(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(c,n)}i(($=$.apply(e,r||[])).next())})};let ze=class extends b.LitElement{OnUpdateFirst(){this.remove(),this.run.call(this)}getUserById(e){return Sg({id:e,name:"Kristyian Tachev"}).pipe(Ug(2e3)).toPromise()}};ig([b.property(),Xv("design:type",Function)],ze.prototype,"run",void 0),ze=ig([b.Component({selector:"user-service"})],ze),I.UserService=ze,I.UserService=ze;let jg=class extends b.LitElement{};jg=ig([b.Component({selector:"r-html-view",template:()=>b.html`
      <r-renderer
        .options=${{state:Sg({counter:1}).pipe(Ug(1e3)),render:({counter:e},r)=>b.html`
            <button @click=${()=>r({counter:3*e})}>
              Increment x3
            </button>
            ${e}
          `,loading:()=>b.html`
            <r-part>
              <r-state .value=${Tg(100).pipe(Dn(e=>e/10))}></r-state>
              <r-render
                .state=${(e,r)=>b.html`
                    Loading ${e}s...
                  `}
              ></r-render>
            </r-part>
          `,error:()=>b.html`
              Error
            `}}
      >
      </r-renderer>

      <r-part>
        <r-state .value=${{loading:!0,userId:1,user:{}}}></r-state>
        <r-render
          .state=${({userId:e,loading:r,user:t},$)=>b.html`
            <user-service
              .run=${function(){return hm(this,void 0,void 0,function*(){$({userId:e,user:yield this.getUserById(e),loading:!1})})}}
            ></user-service>
            <r-if .exp=${r}>Loading</r-if>
            <r-if .exp=${!r}>
              <p>User id: ${t.id}</p>
              <p>User name: ${t.name}</p>
            </r-if>
          `}
        >
        </r-render>
      </r-part>

      <r-component>
        <r-selector>r-counter</r-selector>
        <r-props>
          <r-prop key="value" type="Number"></r-prop>
        </r-props>
        <r-render
          .state=${(e,r)=>b.html`
            <button
              @click=${()=>r({value:e.value+e.value,loading:!1})}
            >
              Increment
            </button>
            <user-service
              .run=${function(){return hm(this,void 0,void 0,function*(){r({user:yield this.getUserById(1),loading:!1})})}}
            ></user-service>
            <r-if .exp=${e.loading}>Loading...</r-if>
            <p>${e.value}</p>
            <p>User: ${JSON.stringify(e.user)}</p>
          `}
        >
        </r-render>
      </r-component>

      <r-counter value="100000"></r-counter>

      <!-- <r-for
        .of=${Tg(1e3).pipe(Kn((e,r)=>[...e,`Item #${r}`],[]))}
      >
        <r-let
          .item=${e=>b.html`
        <p>${e}</p>
      `}
        ></r-let>
      </r-for> -->

      <r-part>
        <r-state .value=${"Kristiyan Tachev"}></r-state>
        <r-render
          .state=${e=>b.html`
            <p>${e}</p>
          `}
        >
        </r-render>
      </r-part>

      <r-part>
        <r-settings .value=${{fetchPolicy:"cache-first"}}></r-settings>
        <r-fetch .query=${"{ continents { name } }"}></r-fetch>
        <r-render
          .state=${({data:{continents:e}})=>b.html`
            <r-for .of=${e}>
              <r-let .item=${({name:e})=>e}></r-let>
            </r-for>
          `}
        >
        </r-render>
      </r-part>

      <r-part>
        <r-fetch .subscribe=${"{ notifications { appUpdated } }"}></r-fetch>
        <r-render
          .state=${({data:{notifications:{appUpdated:e}}},r)=>b.html`
            <p>${e}</p>
            <button
              @click=${()=>{r({data:{notifications:{appUpdated:Number(e)+Number(e)}}})}}
            >
              Increment Subscriptions State x2
            </button>
            <p>
              <r-pesho
                pesho=${e}
                pesho2="1"
                pesho3="az sym 1"
              ></r-pesho>
            </p>

            <p>
              <r-pesho
                pesho=${e}
                pesho2="2"
                pesho3="az sym 2"
              ></r-pesho>
            </p>
            <p>
              <r-pesho
                pesho=${e}
                pesho2="3"
                pesho3="az sym 3"
              ></r-pesho>
            </p>
            (will be overriten when server emit new state)
          `}
        >
        </r-render>
      </r-part>

      <r-component>
        <r-selector>r-pesho</r-selector>
        <r-props>
          <r-prop key="pesho" type="Number"></r-prop>
          <r-prop key="pesho2" type="Boolean"></r-prop>
          <r-prop key="pesho3" type="String"></r-prop>
        </r-props>
        <r-render
          .state=${e=>b.html`
            ${e.pesho} | ${e.pesho2} | ${e.pesho3}
          `}
        >
        </r-render>
      </r-component>
    `})],jg),I.RHtmlViewComponent=jg,I.RHtmlViewComponent=jg;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=I}else if(typeof define==="function"&&define.amd){define(function(){return I})}})();