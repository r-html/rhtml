(function () {function yl(a){return a&&a.__esModule?{d:a.default}:{d:a}}function CS(a){Object.defineProperty(a,"__esModule",{value:true})}var aa=this;var h={};function Ve(e){for(var r in e)h.hasOwnProperty(r)||(h[r]=e[r])}var bl={};Object.defineProperty(bl,"__esModule",{value:!0});const tA=new WeakMap;var sA=e=>(...$)=>{const r=e(...$);return tA.set(r,!0),r};bl.directive=sA;var Dd=e=>"function"==typeof e&&tA.has(e);bl.isDirective=Dd;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});var sl=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback;_i.isCEPolyfill=sl;var vl=(e,o,r=null,l=null)=>{for(;o!==r;){const r=o.nextSibling;e.insertBefore(o,l),o=r}};_i.reparentNodes=vl;var rg=(e,o,r=null)=>{for(;o!==r;){const r=o.nextSibling;e.removeChild(o),o=r}};_i.removeNodes=rg;var nj={};Object.defineProperty(nj,"__esModule",{value:!0});var Ga={};nj.noChange=Ga;var Xi={};nj.nothing=Xi;var Hb={};Object.defineProperty(Hb,"__esModule",{value:!0});var hb=`{{lit-${String(Math.random()).slice(2)}}}`;Hb.marker=hb;var Xm=`\x3c!--${hb}--\x3e`;Hb.nodeMarker=Xm;var En=new RegExp(`${hb}|${Xm}`);Hb.markerRegex=En;var Le="$lit$";Hb.boundAttributeSuffix=Le;class QO{constructor(e,t){this.parts=[],this.element=t;const r=[],p=[],$=document.createTreeWalker(t.content,133,null,!1);let o=0,a=-1,d=0;const{strings:s,values:{length:x}}=e;for(;d<x;){const e=$.nextNode();if(null!==e){if(a++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:r}=t;let p=0;for(let e=0;e<r;e++)qA(t[e].name,Le)&&p++;for(;p-->0;){const t=s[d],r=Li.exec(t)[2],p=r.toLowerCase()+Le,$=e.getAttribute(p);e.removeAttribute(p);const o=$.split(En);this.parts.push({type:"attribute",index:a,name:r,strings:o}),d+=o.length-1}}"TEMPLATE"===e.tagName&&(p.push(e),$.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(hb)>=0){const p=e.parentNode,$=t.split(En),o=$.length-1;for(let t=0;t<o;t++){let r,o=$[t];if(""===o)r=ob();else{const e=Li.exec(o);null!==e&&qA(e[2],Le)&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-Le.length)+e[3]),r=document.createTextNode(o)}p.insertBefore(r,e),this.parts.push({type:"node",index:++a})}""===$[o]?(p.insertBefore(ob(),e),r.push(e)):e.data=$[o],d+=o}}else if(8===e.nodeType)if(e.data===hb){const t=e.parentNode;null!==e.previousSibling&&a!==o||(a++,t.insertBefore(ob(),e)),o=a,this.parts.push({type:"node",index:a}),null===e.nextSibling?e.data="":(r.push(e),a--),d++}else{let t=-1;for(;-1!==(t=e.data.indexOf(hb,t+1));)this.parts.push({type:"node",index:-1}),d++}}else $.currentNode=p.pop()}for(const n of r)n.parentNode.removeChild(n)}}var Pi=QO;Hb.Template=Pi;const qA=(e,t)=>{const r=e.length-t.length;return r>=0&&e.slice(r)===t};var Ni=e=>-1!==e.index;Hb.isTemplatePartActive=Ni;var ob=()=>document.createComment("");Hb.createMarker=ob;var Li=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;Hb.lastAttributeNameRegex=Li;var pA={};Object.defineProperty(pA,"__esModule",{value:!0});class GW{constructor(e,t,s){this.__parts=[],this.template=e,this.processor=t,this.options=s}update(e){let t=0;for(const s of this.__parts)void 0!==s&&s.setValue(e[t]),t++;for(const s of this.__parts)void 0!==s&&s.commit()}_clone(){const e=sl?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],s=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let r,n=0,a=0,p=o.nextNode();for(;n<s.length;)if(r=s[n],Ni(r)){for(;a<r.index;)a++,"TEMPLATE"===p.nodeName&&(t.push(p),o.currentNode=p.content),null===(p=o.nextNode())&&(o.currentNode=t.pop(),p=o.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(p.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(p,r.name,r.strings,this.options));n++}else this.__parts.push(void 0),n++;return sl&&(document.adoptNode(e),customElements.upgrade(e)),e}}var Ie=GW;pA.TemplateInstance=Ie;var zk={};Object.defineProperty(zk,"__esModule",{value:!0});class oA{constructor(e,t,r,$){this.strings=e,this.values=t,this.type=r,this.processor=$}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let $=0;$<e;$++){const e=this.strings[$],s=e.lastIndexOf("<!--");r=(s>-1||r)&&-1===e.indexOf("-->",s+1);const l=Li.exec(e);t+=null===l?e+(r?hb:Xm):e.substr(0,l.index)+l[1]+l[2]+Le+l[3]+hb}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}var ig=oA;zk.TemplateResult=ig;class Xja extends oA{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,r=t.firstChild;return t.removeChild(r),vl(t,r.firstChild),e}}var nl=Xja;zk.SVGTemplateResult=nl;var jb={};Object.defineProperty(jb,"__esModule",{value:!0});var Cd=t=>null===t||!("object"==typeof t||"function"==typeof t);jb.isPrimitive=Cd;var Hi=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);jb.isIterable=Hi;class mA{constructor(t,e,r){this.dirty=!0,this.element=t,this.name=e,this.strings=r,this.parts=[];for(let i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new Em(this)}_getValue(){const t=this.strings,e=t.length-1;let r="";for(let i=0;i<e;i++){r+=t[i];const e=this.parts[i];if(void 0!==e){const t=e.value;if(Cd(t)||!Hi(t))r+="string"==typeof t?t:String(t);else for(const e of t)r+="string"==typeof e?e:String(e)}}return r+=t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}var gm=mA;jb.AttributeCommitter=gm;class Em{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===Ga||Cd(t)&&t===this.value||(this.value=t,Dd(t)||(this.committer.dirty=!0))}commit(){for(;Dd(this.value);){const t=this.value;this.value=Ga,t(this)}this.value!==Ga&&this.committer.commit()}}var kA=Em;function yE(t){return new jA(t)}jb.AttributePart=kA;class jA{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(ob()),this.endNode=t.appendChild(ob())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=ob()),t.__insert(this.endNode=ob())}insertAfterPart(t){t.__insert(this.startNode=ob()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;Dd(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=Ga,t(this)}const t=this.__pendingValue;t!==Ga&&(Cd(t)?t!==this.value&&this.__commitText(t):t instanceof ig?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):Hi(t)?this.__commitIterable(t):t===Xi?(this.value=Xi,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this.__commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof Ie&&this.value.template===e)this.value.update(t.values);else{const r=new Ie(e,t.processor,this.options),i=r._clone();r.update(t.values),this.__commitNode(i),this.value=r}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let r,i=0;for(const o of t)void 0===(r=e[i])&&void 0===r&&(r=yE(this.options),e.push(r),0===i?r.appendIntoPart(this):r.insertAfterPart(e[i-1])),r.setValue(o),r.commit(),i++;i<e.length&&(e.length=i,this.clear(r&&r.endNode))}clear(t=this.startNode){rg(this.startNode.parentNode,t.nextSibling,this.endNode)}}var Ci=jA;jb.NodePart=Ci;class q${constructor(t,e,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=r}setValue(t){this.__pendingValue=t}commit(){for(;Dd(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=Ga,t(this)}if(this.__pendingValue===Ga)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=Ga}}var co=q$;jb.BooleanAttributePart=co;class Ifa extends mA{constructor(t,e,r){super(t,e,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new gA(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}var Jo=Ifa;jb.PropertyCommitter=Jo;class gA extends Em{}var fA=gA;jb.PropertyPart=fA;let qP=!1;try{const t={get capture(){return qP=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(_e){}class WV{constructor(t,e,r){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=r,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;Dd(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=Ga,t(this)}if(this.__pendingValue===Ga)return;const t=this.__pendingValue,e=this.value,r=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=kZ(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=Ga}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}var Nj=WV;jb.EventPart=Nj;const kZ=t=>t&&(qP?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);var pk={};Object.defineProperty(pk,"__esModule",{value:!0});class dA{handleAttributeExpressions(e,r,t,$){const a=r[0];if("."===a){return new Jo(e,r.slice(1),t).parts}return"@"===a?[new Nj(e,r.slice(1),$.eventContext)]:"?"===a?[new co(e,r.slice(1),t)]:new gm(e,r,t).parts}handleTextExpression(e){return new Ci(e)}}var aA=dA;pk.DefaultTemplateProcessor=aA;var ti=new dA;pk.defaultTemplateProcessor=ti;var Ok={};Object.defineProperty(Ok,"__esModule",{value:!0});function PN(e){let t=zd.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},zd.set(e.type,t));let r=t.stringsArray.get(e.strings);if(void 0!==r)return r;const a=e.strings.join(hb);return void 0===(r=t.keyString.get(a))&&(r=new Pi(e,e.getTemplateElement()),t.keyString.set(a,r)),t.stringsArray.set(e.strings,r),r}var Zk=PN;Ok.templateFactory=Zk;var zd=new Map;Ok.templateCaches=zd;var ml={};Object.defineProperty(ml,"__esModule",{value:!0});var xc=new WeakMap;ml.parts=xc;var ql=(e,r,$)=>{let o=xc.get(r);void 0===o&&(rg(r,r.firstChild),xc.set(r,o=new Ci(Object.assign({templateFactory:Zk},$))),o.appendInto(r)),o.setValue(e),o.commit()};ml.render=ql;var t={};function f_(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var Fda=aA;t.DefaultTemplateProcessor=Fda;var Uda=ti;t.defaultTemplateProcessor=Uda;var Ja=sA;t.directive=Ja;var zfa=Dd;t.isDirective=zfa;var $z=rg;t.removeNodes=$z;var zl=vl;t.reparentNodes=zl;var Rka=Ga;t.noChange=Rka;var rB=Xi;t.nothing=rB;var NB=gm;t.AttributeCommitter=NB;var ci=kA;t.AttributePart=ci;var QK=co;t.BooleanAttributePart=QK;var NL=Nj;t.EventPart=NL;var tM=Hi;t.isIterable=tM;var MN=Cd;t.isPrimitive=MN;var Nb=Ci;t.NodePart=Nb;var HO=Jo;t.PropertyCommitter=HO;var rm=fA;t.PropertyPart=rm;var WO=xc;t.parts=WO;var Vz=ql;t.render=Vz;var oR=zd;t.templateCaches=oR;var UR=Zk;t.templateFactory=UR;var LS=Ie;t.TemplateInstance=LS;var yT=nl;t.SVGTemplateResult=yT;var Pf=ig;t.TemplateResult=Pf;var Vh=ob;t.createMarker=Vh;var gX=Ni;t.isTemplatePartActive=gX;var NY=Pi;t.Template=NY,(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");var hn=(e,...r)=>new ig(e,r,"html",ti);t.html=hn;var Sz=(e,...r)=>new nl(e,r,"svg",ti);var Qh={};function sb(r){for(var e in r)Qh.hasOwnProperty(e)||(Qh[e]=r[e])}var wd={},xea=wd&&wd.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{$(n.next(e))}catch(t){a(t)}}function l(e){try{$(n.throw(e))}catch(t){a(t)}}function $(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,l)}$((n=n.apply(e,t||[])).next())})},Hea=wd&&wd.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}};Object.defineProperty(wd,"__esModule",{value:!0});var Kea=Ja((e,t)=>r=>xea(this,void 0,void 0,function*(){var n,o;if(!(r instanceof Nb))throw new Error("asyncAppend can only be used in text bindings");if(e===r.value)return;let a;r.value=e;let i=0;try{for(var l,$=Hea(e);!(l=yield $.next()).done;){let n=l.value;if(r.value!==e)break;0===i&&r.clear(),void 0!==t&&(n=t(n,i));let o=r.startNode;void 0!==a&&(o=Vh(),a.endNode=o,r.endNode.parentNode.insertBefore(o,r.endNode)),(a=new Nb(r.options)).insertAfterNode(o),a.setValue(n),a.commit(),i++}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=$.return)&&(yield o.call($))}finally{if(n)throw n.error}}}));wd.asyncAppend=Kea;var ud={},$ea=ud&&ud.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(s,i)}l((n=n.apply(e,t||[])).next())})},gfa=ud&&ud.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}};Object.defineProperty(ud,"__esModule",{value:!0});var lfa=Ja((e,t)=>r=>$ea(this,void 0,void 0,function*(){var n,a;if(!(r instanceof Nb))throw new Error("asyncReplace can only be used in text bindings");if(e===r.value)return;const o=new Nb(r.options);r.value=e;let s=0;try{for(var i,l=gfa(e);!(i=yield l.next()).done;){let n=i.value;if(r.value!==e)break;0===s&&(r.clear(),o.appendIntoPart(r)),void 0!==t&&(n=t(n,s)),o.setValue(n),o.commit(),s++}}catch(c){n={error:c}}finally{try{i&&!i.done&&(a=l.return)&&(yield a.call(l))}finally{if(n)throw n.error}}}));ud.asyncReplace=lfa;var Aj={};Object.defineProperty(Aj,"__esModule",{value:!0});const Qz=new WeakMap;var tia=Ja(e=>t=>{if(!(t instanceof Nb))throw new Error("cache can only be used in text bindings");let a=Qz.get(t);void 0===a&&(a=new WeakMap,Qz.set(t,a));const $=t.value;if($ instanceof Ie){if(e instanceof Pf&&$.template===t.options.templateFactory(e))return void t.setValue(e);{let e=a.get($.template);void 0===e&&(e={instance:$,nodes:document.createDocumentFragment()},a.set($.template,e)),zl(e.nodes,t.startNode.nextSibling,t.endNode)}}if(e instanceof Pf){const $=t.options.templateFactory(e),n=a.get($);void 0!==n&&(t.setValue(n.nodes),t.commit(),t.value=n.instance)}t.setValue(e)});Aj.cache=tia;var Pj={};Object.defineProperty(Pj,"__esModule",{value:!0});const Tj=new WeakMap;var TA=Ja(t=>e=>{if(!(e instanceof ci)||e instanceof rm||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:a}=e,{element:s}=a;Tj.has(e)||(s.className=a.strings.join(" "));const{classList:r}=s,$=Tj.get(e);for(const p in $)p in t||r.remove(p);for(const p in t){const e=t[p];if(!$||e!==$[p]){r[e?"add":"remove"](p)}}Tj.set(e,t)});Pj.classMap=TA;var fk={};Object.defineProperty(fk,"__esModule",{value:!0});const hk=new WeakMap;var LC=Ja((r,e)=>$=>{const a=hk.get($);if(Array.isArray(r)){if(Array.isArray(a)&&a.length===r.length&&r.every((r,e)=>r===a[e]))return}else if(a===r&&(void 0!==r||hk.has($)))return;$.setValue(e()),hk.set($,Array.isArray(r)?Array.from(r):r)});fk.guard=LC;var mk={};Object.defineProperty(mk,"__esModule",{value:!0});var uK=Ja(e=>t=>{if(void 0===e&&t instanceof ci){if(e!==t.value){const e=t.committer.name;t.committer.element.removeAttribute(e)}}else t.setValue(e)});mk.ifDefined=uK;var ok={};Object.defineProperty(ok,"__esModule",{value:!0});const Pz=(t,e)=>{const r=t.startNode.parentNode,$=void 0===e?t.endNode:e.startNode,a=r.insertBefore(Vh(),$);r.insertBefore(Vh(),$);const o=new Nb(t.options);return o.insertAfterNode(a),o},td=(t,e)=>(t.setValue(e),t.commit(),t),wk=(t,e,r)=>{const $=t.startNode.parentNode,a=r?r.startNode:t.endNode,o=e.endNode.nextSibling;o!==a&&zl($,e.startNode,o,a)},yk=t=>{$z(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},Oz=(t,e,r)=>{const $=new Map;for(let a=e;a<=r;a++)$.set(t[a],a);return $},Mz=new WeakMap,Lz=new WeakMap;var XO=Ja((t,e,r)=>{let $;return void 0===r?r=e:void 0!==e&&($=e),e=>{if(!(e instanceof Nb))throw new Error("repeat can only be used in text bindings");const a=Mz.get(e)||[],o=Lz.get(e)||[],n=[],s=[],l=[];let i,v,x=0;for(const c of t)l[x]=$?$(c,x):x,s[x]=r(c,x),x++;let d=0,D=a.length-1,G=0,p=s.length-1;for(;d<=D&&G<=p;)if(null===a[d])d++;else if(null===a[D])D--;else if(o[d]===l[G])n[G]=td(a[d],s[G]),d++,G++;else if(o[D]===l[p])n[p]=td(a[D],s[p]),D--,p--;else if(o[d]===l[p])n[p]=td(a[d],s[p]),wk(e,a[d],n[p+1]),d++,p--;else if(o[D]===l[G])n[G]=td(a[D],s[G]),wk(e,a[D],a[d]),D--,G++;else if(void 0===i&&(i=Oz(l,G,p),v=Oz(o,d,D)),i.has(o[d])){if(i.has(o[D])){const t=v.get(l[G]),r=void 0!==t?a[t]:null;if(null===r){const t=Pz(e,a[d]);td(t,s[G]),n[G]=t}else n[G]=td(r,s[G]),wk(e,r,a[d]),a[t]=null;G++}else yk(a[D]),D--;}else yk(a[d]),d++;for(;G<=p;){const t=Pz(e,n[p+1]);td(t,s[G]),n[G++]=t}for(;d<=D;){const t=a[d++];null!==t&&yk(t)}Mz.set(e,n),Lz.set(e,l)}});ok.repeat=XO;var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});const Wk=new WeakMap;var MR=Ja(t=>e=>{if(!(e instanceof ci)||e instanceof rm||"style"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:r}=e,{style:$}=r.element;Wk.has(e)||($.cssText=r.strings.join(" "));const a=Wk.get(e);for(const s in a)s in t||(-1===s.indexOf("-")?$[s]=null:$.removeProperty(s));for(const s in t)-1===s.indexOf("-")?$[s]=t[s]:$.setProperty(s,t[s]);Wk.set(e,t)});Vk.styleMap=MR;var Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});const Jz=new WeakMap;var NS=Ja(e=>t=>{if(!(t instanceof Nb))throw new Error("unsafeHTML can only be used in text bindings");const r=Jz.get(t);if(void 0!==r&&Cd(e)&&e===r.value&&t.value===r.fragment)return;const i=document.createElement("template");i.innerHTML=e;const $=document.importNode(i.content,!0);t.setValue($),Jz.set(t,{value:e,fragment:$})});Yk.unsafeHTML=NS;var _k={};Object.defineProperty(_k,"__esModule",{value:!0});const Iz=new WeakMap;var fW=Ja((...e)=>t=>{let a=Iz.get(t);void 0===a&&(a={lastRenderedIndex:2147483647,values:[]},Iz.set(t,a));const l=a.values;let $=l.length;a.values=e;for(let r=0;r<e.length&&!(r>a.lastRenderedIndex);r++){const n=e[r];if(Cd(n)||"function"!=typeof n.then){t.setValue(n),a.lastRenderedIndex=r;break}r<$&&n===l[r]||(a.lastRenderedIndex=2147483647,$=0,Promise.resolve(n).then(e=>{const l=a.values.indexOf(n);l>-1&&l<a.lastRenderedIndex&&(a.lastRenderedIndex=l,t.setValue(e),t.commit())}))}});_k.until=fW;Object.defineProperty(Qh,"__esModule",{value:!0}),sb(wd),sb(ud),sb(Aj),sb(Pj),sb(fk),sb(mk),sb(ok),sb(Vk),sb(Yk),sb(_k);t.svg=Sz,f_(Qh);var dl={};Object.defineProperty(dl,"__esModule",{value:!0});const hl=133;function jX(e,t){const{element:{content:r},parts:n}=e,o=document.createTreeWalker(r,hl,null,!1);let $=vf(n),a=n[$],s=-1,l=0;const d=[];let p=null;for(;o.nextNode();){s++;const e=o.currentNode;for(e.previousSibling===p&&(p=null),t.has(e)&&(d.push(e),null===p&&(p=e)),null!==p&&l++;void 0!==a&&a.index===s;)a.index=null!==p?-1:a.index-l,a=n[$=vf(n,$)]}d.forEach(e=>e.parentNode.removeChild(e))}var il=jX;dl.removeNodesFromTemplate=il;const UY=e=>{let t=11===e.nodeType?0:1;const r=document.createTreeWalker(e,hl,null,!1);for(;r.nextNode();)t++;return t},vf=(e,t=-1)=>{for(let r=t+1;r<e.length;r++){const t=e[r];if(Ni(t))return r}return-1};function FZ(e,t,r=null){const{element:{content:n},parts:o}=e;if(null==r)return void n.appendChild(t);const $=document.createTreeWalker(n,hl,null,!1);let a=vf(o),s=0,l=-1;for(;$.nextNode();){for(l++,$.currentNode===r&&(s=UY(t),r.parentNode.insertBefore(t,r));-1!==a&&o[a].index===l;){if(s>0){for(;-1!==a;)o[a].index+=s,a=vf(o,a);return}a=vf(o,a)}}}var Gz=FZ;dl.insertNodeIntoTemplate=Gz;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});var _ca=hn;tf.html=_ca;var eda=Sz;tf.svg=eda;var Ada=Pf;tf.TemplateResult=Ada;const Fz=(e,t)=>`${e}--${t}`;let Ez=!0;void 0===window.ShadyCSS?Ez=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Ez=!1);const Xda=e=>t=>{const r=Fz(t.type,e);let a=zd.get(r);void 0===a&&(a={stringsArray:new WeakMap,keyString:new Map},zd.set(r,a));let $=a.stringsArray.get(t.strings);if(void 0!==$)return $;const o=t.strings.join(hb);if(void 0===($=a.keyString.get(o))){const r=t.getTemplateElement();Ez&&window.ShadyCSS.prepareTemplateDom(r,e),$=new Pi(t,r),a.keyString.set(o,$)}return a.stringsArray.set(t.strings,$),$},fea=["html","svg"],pea=e=>{fea.forEach(t=>{const r=zd.get(Fz(t,e));void 0!==r&&r.keyString.forEach(e=>{const{element:{content:t}}=e,r=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{r.add(e)}),il(e,r)})})},Dz=new Set,Gea=(e,t,r)=>{Dz.add(r);const a=e.querySelectorAll("style"),{length:$}=a;if(0===$)return void window.ShadyCSS.prepareTemplateStyles(t.element,r);const o=document.createElement("style");for(let s=0;s<$;s++){const e=a[s];e.parentNode.removeChild(e),o.textContent+=e.textContent}pea(r);const l=t.element.content;Gz(t,o,l.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,r);const S=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==S)e.insertBefore(S.cloneNode(!0),e.firstChild);else{l.insertBefore(o,l.firstChild);const e=new Set;e.add(o),il(t,e)}};var Cz=(e,t,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const a=r.scopeName,$=xc.has(t),o=Ez&&11===t.nodeType&&!!t.host&&e instanceof ig,l=o&&!Dz.has(a),S=l?document.createDocumentFragment():t;if(ql(e,S,Object.assign({templateFactory:Xda(a)},r)),l){const e=xc.get(S);xc.delete(S),e.value instanceof Ie&&Gea(S,e.value.template,a),rg(t,t.firstChild),t.appendChild(S),xc.set(t,e)}!$&&o&&window.ShadyCSS.styleElement(t.host)};tf.render=Cz;var cf={};function cm(e){for(var t in e)cf.hasOwnProperty(t)||(cf[t]=e[t])}Object.defineProperty(cf,"__esModule",{value:!0});var bf={};function Bz(e){for(var r in e)bf.hasOwnProperty(r)||(bf[r]=e[r])}var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});const nfa=(t,e,n)=>(window.customElements.define(t,e,n),e),tfa=(t,e,n)=>{const{kind:o,elements:s}=e;return{kind:o,elements:s,finisher(e){window.customElements.define(t,e,n)}}};var Az=(t,e={})=>n=>{if(!t||t&&t.indexOf("-")<=0)throw new Error(`You need at least 1 dash in the custom element name! ${n}`);const o=n;o.is=()=>t,o.setElement=t=>(e.container=t,o),e.styles=e.styles||[],o.prototype.getTemplateResult=function(){return this};const s=o.prototype.OnInit||function(){},r=o.prototype.OnDestroy||function(){},i=o.prototype.OnUpdate||function(){},c=o.prototype.OnUpdateFirst||function(){},l=o.prototype.connectedCallback||function(){},p=o.prototype.disconnectedCallback||function(){},a=o.prototype.update||function(){},d=o.prototype.firstUpdated||function(){};e.template||(e.template=o.prototype.render),e.style&&e.styles.push(e.style),o.styles=e.styles,o.subscriptions=new Map,o.prototype.render=e.template;const u=o.prototype.render||function(){};function m(){Object.keys(this).forEach(t=>{if(this[t]&&"function"==typeof this[t].lift&&"function"==typeof this[t].subscribe){const e=this[t].subscribe.bind(this[t]);this[t].subscribe=(t,n)=>{const s=e(t,n);return o.subscriptions.set(s,s),s}}})}o.prototype.OnInit=function(){if(e.container&&(Vz(e.template.call(this),e.container),e.style)){const t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e.style.toString():t.appendChild(document.createTextNode(e.style.toString())),e.container.prepend(t)}return s.call(this)},o.prototype.disconnectedCallback=function(){e.providers&&e.providers.length&&e.providers.forEach(t=>{try{const n="@rxdi/core",{Container:o}=require(n);o.reset(t),o.remove(t)}catch(e){}}),o.subscriptions.forEach(t=>t.unsubscribe()),o.subscriptions.clear(),r.call(this),p.call(this)},o.prototype.render=function(){return u.call(this)},o.prototype.update=function(){a.call(this),i.call(this),m.call(this)},o.prototype.firstUpdated=function(){d.call(this),c.call(this),m.call(this)},o.prototype.connectedCallback=function(){if(e.providers&&e.providers.length)try{const n="@rxdi/core",{Container:o}=require(n);e.providers.forEach(t=>o.get(t))}catch(t){}if(m.call(this),e.template||(e.template=()=>hn``),!this.performUpdate){e.template=e.template.bind(this);const t=document.importNode(e.template(this).getTemplateElement().content,!0);if(e.style){const n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e.style.toString():n.appendChild(document.createTextNode(e.style.toString())),t.append(n)}e.useShadow?this.attachShadow({mode:"open"}).append(t):this.appendChild(t)}l.call(this),s.call(this)},"function"==typeof o?nfa(t,o,{extends:e.extends}):tfa(t,o,{extends:e.extends});try{require("@rxdi/core").Component(e)(o)}catch(h){}};Lg.customElement=Az;var Cfa=t=>Az(t.selector,t);Lg.Component=Cfa;var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});class aga extends HTMLElement{}var Yha=aga;Jm.RXDIElement=Yha;Object.defineProperty(bf,"__esModule",{value:!0}),Bz(Lg),Bz(Jm);var hd={},Qja=hd&&hd.__awaiter||function(t,e,r,s){return new(r||(r=Promise))(function(i,a){function o(t){try{p(s.next(t))}catch(e){a(e)}}function n(t){try{p(s.throw(t))}catch(e){a(e)}}function p(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(o,n)}p((s=s.apply(t,e||[])).next())})};Object.defineProperty(hd,"__esModule",{value:!0});window.JSCompiler_renameProperty=(t,e)=>t;var Ig={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t);}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t);}return t}};hd.defaultConverter=Ig;var Zm=(t,e)=>e!==t&&(e==e||t==t);hd.notEqual=Zm;const Hg={attribute:!0,type:String,converter:Ig,reflect:!1,hasChanged:Zm},kB=Promise.resolve(!0),on=1,un=4,yn=8,An=16,zz=32;class yz extends bf.RXDIElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=kB,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,r)=>{const s=this._attributeNameForProperty(r,e);void 0!==s&&(this._attributeToPropertyMap.set(s,r),t.push(s))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=Hg){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const r="symbol"==typeof t?Symbol():`__${t}`;Object.defineProperty(this.prototype,t,{get(){return this[r]},set(e){const s=this[t];this[r]=e,this._requestUpdate(t,s)},configurable:!0,enumerable:!0})}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)return;const t=Object.getPrototypeOf(this);if("function"==typeof t.finalize&&t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[])];for(const r of e)this.createProperty(r,t[r])}}static _attributeNameForProperty(t,e){const r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,r=Zm){return r(t,e)}static _propertyValueFromAttribute(t,e){const r=e.type,s=e.converter||Ig,i="function"==typeof s?s:s.fromAttribute;return i?i(t,r):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const r=e.type,s=e.converter;return(s&&s.toAttribute||Ig.toAttribute)(t,r)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|zz,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,r){e!==r&&this._attributeToProperty(t,r)}_propertyToAttribute(t,e,r=Hg){const s=this.constructor,i=s._attributeNameForProperty(t,r);if(void 0!==i){const t=s._propertyValueToAttribute(e,r);if(void 0===t)return;this._updateState=this._updateState|yn,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=this._updateState&~yn}}_attributeToProperty(t,e){if(this._updateState&yn)return;const r=this.constructor,s=r._attributeToPropertyMap.get(t);if(void 0!==s){const t=r._classProperties.get(s)||Hg;this._updateState=this._updateState|An,this[s]=r._propertyValueFromAttribute(e,t),this._updateState=this._updateState&~An}}_requestUpdate(t,e){let r=!0;if(void 0!==t){const s=this.constructor,i=s._classProperties.get(t)||Hg;s._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==i.reflect||this._updateState&An||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):r=!1}!this._hasRequestedUpdate&&r&&this._enqueueUpdate()}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}_enqueueUpdate(){return Qja(this,void 0,void 0,function*(){let t,e;this._updateState=this._updateState|un;const r=this._updatePromise;this._updatePromise=new Promise((r,s)=>{t=r,e=s});try{yield r}catch(s){}this._hasConnected||(yield new Promise(t=>this._hasConnectedResolver=t));try{const t=this.performUpdate();null!=t&&(yield t)}catch(s){e(s)}t(!this._hasRequestedUpdate)})}get _hasConnected(){return this._updateState&zz}get _hasRequestedUpdate(){return this._updateState&un}get hasUpdated(){return this._updateState&on}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{(t=this.shouldUpdate(e))&&this.update(e)}catch(r){throw t=!1,r}finally{this._markUpdated()}t&&(this._updateState&on||(this._updateState=this._updateState|on,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~un}get updateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0)}updated(t){}firstUpdated(t){}}yz.finalized=!0;var xz=yz;hd.UpdatingElement=xz;var Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});const vM=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}}:Object.assign({},t,{finisher(r){r.createProperty(t.key,e)}}),CM=(e,t,r)=>{t.constructor.createProperty(r,e)};function JM(e){return(t,r)=>void 0!==r?CM(e,t,r):vM(e,t)}var MM=JM;function XM(e){return(t,r)=>{const a={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==r?vz(a,t,r):tz(a,t)}}Rd.property=MM;var gN=XM;function jN(e){return(t,r)=>{const a={get(){return this.renderRoot.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==r?vz(a,t,r):tz(a,t)}}Rd.query=gN;var BN=jN;Rd.queryAll=BN;const vz=(e,t,r)=>{Object.defineProperty(t,r,e)},tz=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),UN=(e,t)=>Object.assign({},t,{finisher(r){Object.assign(r.prototype[t.key],e)}}),aO=(e,t,r)=>{Object.assign(t[r],e)};var tO=e=>(t,r)=>void 0!==r?aO(e,t,r):UN(e,t);Rd.eventOptions=tO;cm(hd),cm(Rd);function sz(e,t=[]){for(let r=0,s=e.length;r<s;r++){const s=e[r];Array.isArray(s)?sz(s,t):t.push(s)}return t}var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});var lj="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;Qd.supportsAdoptingStyleSheets=lj;const mj=Symbol();class Cg{constructor(e,t){if(t!==mj)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(lj?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}var zQ=Cg;Qd.CSSResult=zQ;var EQ=e=>new Cg(String(e),mj);Qd.unsafeCSS=EQ;const VQ=e=>{if(e instanceof Cg)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)};var YQ=(e,...t)=>{const s=t.reduce((t,s,r)=>t+VQ(s)+e[r+1],e[0]);return new Cg(s,mj)};Qd.css=YQ;cm(Qd),(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const cR=e=>e.flat?e.flat(1/0):sz(e);class oj extends xz{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){cR(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow?this.attachShadow({mode:"open"}):this}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?lj?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof Pf&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}oj.finalized=!0,oj.render=Cz;var qz=oj;cf.LitElement=qz;var uj={};Object.defineProperty(uj,"__esModule",{value:!0});class mS extends qz{createRenderRoot(){return this}}var qla=mS;uj.BaseComponent=qla;var fj={};Object.defineProperty(fj,"__esModule",{value:!0});const pz=new WeakMap;var oz=Ja(e=>r=>{if(!("then"in e||"subscribe"in e))throw new Error("subscribableOrPromiseLike must be a subscribable or a promise like");const s=pz.get(r);if(void 0!==s&&e===s.subscribableOrPromiseLike)return;const i=i=>{void 0!==s&&r.value===s.value&&e===s.subscribableOrPromiseLike||(r.setValue(i),r.commit(),pz.set(r,{value:i,subscribableOrPromiseLike:e}))};"then"in e?e.then(i):e.subscribe(i)});fj.subscribe=oz;var JU=oz;fj.async=JU;Object.defineProperty(h,"__esModule",{value:!0}),Ve(uj),Ve(bf),Ve(t),Ve(fj),Ve(cf);function Jj(r){for(;r;){var e=r,o=e.closed,t=e.destination,$=e.isStopped;if(o||$)return!1;r=t&&t instanceof q?t:null}return!0}var X,zW,k,UW=false;function a(t,e){function r(){this.constructor=t}zW(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function bk(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r}function mX(t,e,r,o){var n,a=arguments.length,$=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(t,e,r,o);else for(var x=t.length-1;x>=0;x--)(n=t[x])&&($=(a<3?n($):a>3?n(e,r,$):n(e,r))||$);return a>3&&$&&Object.defineProperty(e,r,$),$}function rX(t,e){return function(r,o){e(r,o,t)}}function aY(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function Tb(t,e,r,o){return new(r||(r=Promise))(function(n,a){function $(t){try{i(o.next(t))}catch(e){a(e)}}function x(t){try{i(o.throw(t))}catch(e){a(e)}}function i(t){t.done?n(t.value):new r(function(e){e(t.value)}).then($,x)}i((o=o.apply(t,e||[])).next())})}function Sb(t,e){var r,o,n,a,$={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function x(a){return function(x){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;$;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return $.label++,{value:a[1],done:!1};case 5:$.label++,o=a[1],a=[0];continue;case 7:a=$.ops.pop(),$.trys.pop();continue;default:if(!(n=(n=$.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){$=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){$.label=a[1];break}if(6===a[0]&&$.label<n[1]){$.label=n[1],n=a;break}if(n&&$.label<n[2]){$.label=n[2],$.ops.push(a);break}n[2]&&$.ops.pop(),$.trys.pop();continue;}a=e.call(t,$)}catch(x){a=[6,x],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,x])}}}function WY(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function jk(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function nz(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var o,n,a=r.call(t),$=[];try{for(;(void 0===e||e-->0)&&!(o=a.next()).done;)$.push(o.value)}catch(x){n={error:x}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return $}function TZ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nz(arguments[e]));return t}function cj(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<r;e++)for(var a=arguments[e],$=0,x=a.length;$<x;$++,n++)o[n]=a[$];return o}function hg(t){return this instanceof hg?(this.v=t,this):new hg(t)}function y_(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(t,e||[]),a=[];return o={},$("next"),$("throw"),$("return"),o[Symbol.asyncIterator]=function(){return this},o;function $(t){n[t]&&(o[t]=function(e){return new Promise(function(r,o){a.push([t,e,r,o])>1||x(t,e)})})}function x(t,e){try{(r=n[t](e)).value instanceof hg?Promise.resolve(r.value.v).then(i,p):_(a[0][2],r)}catch(o){_(a[0][3],o)}var r}function i(t){x("next",t)}function p(t){x("throw",t)}function _(t,e){t(e),a.shift(),a.length&&x(a[0][0],a[0][1])}}function C_(t){var e,r;return e={},o("next"),o("throw",function(t){throw t}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(o,n){e[o]=t[o]?function(e){return(r=!r)?{value:hg(t[o](e)),done:"return"===o}:n?n(e):e}:n}}function R_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof jk?jk(t):t[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(r){e[r]=t[r]&&function(e){return new Promise(function(o,n){(function(t,e,r,o){Promise.resolve(o).then(function(e){t({value:e,done:r})},e)})(o,n,(e=t[r](e)).done,e.value)})}}}function $_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function iba(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function nca(t){return t&&t.__esModule?t:{default:t}}function b(){if(UW)return;UW=true;X={};zW=function(t,e){return(zW=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};X.__extends=a;k=function(){return k=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},X.__assign=k,k.apply(this,arguments)};X.__assign=k,X.__rest=bk,X.__decorate=mX,X.__param=rX,X.__metadata=aY,X.__awaiter=Tb,X.__generator=Sb,X.__exportStar=WY,X.__values=jk,X.__read=nz,X.__spread=TZ,X.__spreadArrays=cj,X.__await=hg,X.__asyncGenerator=y_,X.__asyncDelegator=C_,X.__asyncValues=R_,X.__makeTemplateObject=$_,X.__importStar=iba,X.__importDefault=nca}function Qe(n){return"function"==typeof n}var vda=!1,ab={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&new Error().stack;vda=e},get useDeprecatedSynchronousErrorHandling(){return vda}};function Id(r){setTimeout(function(){throw r},0)}var ui={closed:!0,next:function(r){},error:function(r){if(ab.useDeprecatedSynchronousErrorHandling)throw r;Id(r)},complete:function(){}};var rc=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();function mz(r){return null!==r&&"object"==typeof r}var mea=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,o){return o+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),ri=mea;var V=function(){function r(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var i;return r.prototype.unsubscribe=function(){var i;if(!this.closed){var t=this._parentOrParents,s=this._unsubscribe,n=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof r)t.remove(this);else if(null!==t)for(var e=0;e<t.length;++e){t[e].remove(this)}if(Qe(s))try{s.call(this)}catch(c){i=c instanceof ri?lz(c.errors):[c]}if(rc(n)){e=-1;for(var o=n.length;++e<o;){var u=n[e];if(mz(u))try{u.unsubscribe()}catch(c){i=i||[],c instanceof ri?i=i.concat(lz(c.errors)):i.push(c)}}}if(i)throw new ri(i)}},r.prototype.add=function(i){var t=i;if(!i)return r.EMPTY;switch(typeof i){case"function":t=new r(i);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var s=t;(t=new r)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.");}var n=t._parentOrParents;if(null===n)t._parentOrParents=this;else if(n instanceof r){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[t]:e.push(t),t},r.prototype.remove=function(r){var i=this._subscriptions;if(i){var t=i.indexOf(r);-1!==t&&i.splice(t,1)}},r.EMPTY=((i=new r).closed=!0,i),r}();function lz(r){return r.reduce(function(r,i){return r.concat(i instanceof ri?i.errors:i)},[])}var _h=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();b();var q=function(r){function t(e,i,o){var s=r.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=ui;break;case 1:if(!e){s.destination=ui;break}if("object"==typeof e){e instanceof t?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new kz(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new kz(s,e,i,o);}return s}return a(t,r),t.prototype[_h]=function(){return this},t.create=function(r,e,i){var o=new t(r,e,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(V);var kz=function(r){function t(t,e,i,o){var s,n=r.call(this)||this;n._parentSubscriber=t;var c=n;return Qe(e)?s=e:e&&(s=e.next,i=e.error,o=e.complete,e!==ui&&(c=Object.create(e),Qe(c.unsubscribe)&&n.add(c.unsubscribe.bind(c)),c.unsubscribe=n.unsubscribe.bind(n))),n._context=c,n._next=s,n._error=i,n._complete=o,n}return a(t,r),t.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;ab.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},t.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=ab.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):Id(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;Id(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};ab.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),ab.useDeprecatedSynchronousErrorHandling)throw e;Id(e)}},t.prototype.__tryOrSetError=function(r,t,e){if(!ab.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(i){return ab.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=i,r.syncErrorThrown=!0,!0):(Id(i),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(q);function Pea(r,e,$){if(r){if(r instanceof q)return r;if(r[_h])return r[_h]()}return r||e||$?new q(r,e,$):new q(ui)}var Of=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function efa(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}:ib}function ib(){}var N=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var o=new r;return o.source=this,o.operator=e,o},r.prototype.subscribe=function(r,e,o){var t=this.operator,n=Pea(r,e,o);if(t?n.add(t.call(n,this.source)):n.add(this.source||ab.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),ab.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){ab.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),Jj(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var o=this;return new(e=iz(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(o){t(o),n&&n.unsubscribe()}},t,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[Of]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:efa(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=iz(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},r.create=function(e){return new r(e)},r}();function iz(r){if(r||(r=ab.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var pfa=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),bd=pfa;b();var hz=function(t){function e(e,i){var r=t.call(this)||this;return r.subject=e,r.subscriber=i,r.closed=!1,r}return a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(V);b();var gz=function(r){function t(t){var e=r.call(this,t)||this;return e.destination=t,e}return a(t,r),t}(q);var Ea=function(r){function t(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,r),t.prototype[_h]=function(){return new gz(this)},t.prototype.lift=function(r){var t=new cz(this,this);return t.operator=r,t},t.prototype.next=function(r){if(this.closed)throw new bd;if(!this.isStopped)for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].next(r)},t.prototype.error=function(r){if(this.closed)throw new bd;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new bd;this.isStopped=!0;for(var r=this.observers,t=r.length,e=r.slice(),o=0;o<t;o++)e[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new bd;return r.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(r){if(this.closed)throw new bd;return this.hasError?(r.error(this.thrownError),V.EMPTY):this.isStopped?(r.complete(),V.EMPTY):(this.observers.push(r),new hz(this,r))},t.prototype.asObservable=function(){var r=new N;return r.source=this,r},t.create=function(r,t){return new cz(r,t)},t}(N);var cz=function(r){function t(t,e){var o=r.call(this)||this;return o.destination=t,o.source=e,o}return a(t,r),t.prototype.next=function(r){var t=this.destination;t&&t.next&&t.next(r)},t.prototype.error=function(r){var t=this.destination;t&&t.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):V.EMPTY},t}(Ea);function ega(){return function(n){return n.lift(new fga(n))}}b();var fga=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,e){var t=this.connectable;t._refCount++;var o=new hga(n,t),r=e.subscribe(o);return o.closed||(o.connection=t.connect()),r},n}(),hga=function(n){function e(e,t){var o=n.call(this,e)||this;return o.connectable=t,o}return a(e,n),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._refCount;if(e<=0)this.connection=null;else if(n._refCount=e-1,e>1)this.connection=null;else{var t=this.connection,o=n._connection;this.connection=null,!o||t&&o!==t||o.unsubscribe()}}else this.connection=null},e}(q);b();var kga=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new V).add(this.source.subscribe(new Bha(this.getSubject(),this))),e.closed&&(this._connection=null,e=V.EMPTY)),e},t.prototype.refCount=function(){return ega()(this)},t}(N);var Lpa=function(){var e=kga.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();var Bha=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(gz),Kpa=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new Iha(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),Iha=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(q);b();var Jpa=function(){function t(t,e,r,o){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=o}return t.prototype.call=function(t,e){return e.subscribe(new iia(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),iia=function(t){function e(e,r,o,i,n){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=o,s.durationSelector=i,s.subjectSelector=n,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var o,i=r.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ea,r.set(e,i);var n=new az(e,i,this);if(this.destination.next(n),this.durationSelector){var s=void 0;try{s=this.durationSelector(new az(e,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new pia(e,i,this)))}}i.closed||i.next(o)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(q),pia=function(t){function e(e,r,o){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=o,i}return a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(q),az=function(t){function e(e,r,o){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=o,i}return a(e,t),e.prototype._subscribe=function(t){var e=new V,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&e.add(new Mia(r)),e.add(o.subscribe(t)),e},e}(N);var Mia=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(V);b();var Ipa=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bd;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Ea);b();var Gja=function(r){function t(t,i){return r.call(this)||this}return a(t,r),t.prototype.schedule=function(r,t){return void 0===t&&(t=0),this},t}(V);b();var Gf=function(t){function i(i,e){var n=t.call(this,i,e)||this;return n.scheduler=i,n.work=e,n.pending=!1,n}return a(i,t),i.prototype.schedule=function(t,i){if(void 0===i&&(i=0),this.closed)return this;this.state=t;var e=this.id,n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},i.prototype.requestAsyncId=function(t,i,e){return void 0===e&&(e=0),setInterval(t.flush.bind(t,this),e)},i.prototype.recycleAsyncId=function(t,i,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return i;clearInterval(i)},i.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,i){var e=!1,n=void 0;try{this.work(t)}catch(s){e=!0,n=!!s&&s||new Error(s)}if(e)return this.unsubscribe(),n},i.prototype._unsubscribe=function(){var t=this.id,i=this.scheduler,e=i.actions,n=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&e.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null},i}(Gja);b();var Tja=function(t){function e(e,r){var s=t.call(this,e,r)||this;return s.scheduler=e,s.work=r,s}return a(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,s){return void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,s):e.flush(this)},e}(Gf);var _y=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();b();var Ef=function(e){function t(r,i){void 0===i&&(i=_y.now);var h=e.call(this,r,function(){return t.delegate&&t.delegate!==h?t.delegate.now():i()})||this;return h.actions=[],h.active=!1,h.scheduled=void 0,h}return a(t,e),t.prototype.schedule=function(r,i,h){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,i,h):e.prototype.schedule.call(this,r,i,h)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(_y);b();var yA=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return a(r,e),r}(Ef);var MA=new yA(Tja);var NA,OA;var Yy=new N(function(e){return e.complete()});function XA(e){return e?eB(e):Yy}function eB(e){return new N(function($){return e.schedule(function(){return $.complete()})})}function El(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var $=r[r.length-1];return Hl($)?(r.pop(),Zl(r,$)):yB(r)}function Hl(e){return e&&"function"==typeof e.schedule}function yB(r,e){return e?Zl(r,e):new N(Wy(r))}var Wy=function(r){return function(e){for(var o=0,t=r.length;o<t&&!e.closed;o++)e.next(r[o]);e.complete()}};function Zl(e,r){return new N(function($){var t=new V,c=0;return t.add(r.schedule(function(){c!==e.length?($.next(e[c++]),$.closed||t.add(this.schedule())):$.complete()})),t})}function iD(r,e){return e?new N(function($){return e.schedule(vE,0,{error:r,subscriber:$})}):new N(function(e){return e.error(r)})}function vE(r){var e=r.error;r.subscriber.error(e)}(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(OA||(NA=OA={},NA));var sc=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete();}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r();}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return El(this.value);case"E":return iD(this.error);case"C":return XA();}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();b();var Hpa=function(){function e(e,s){void 0===s&&(s=0),this.scheduler=e,this.delay=s}return e.prototype.call=function(e,s){return s.subscribe(new Qy(e,this.scheduler,this.delay))},e}();var Qy=function(e){function s(s,r,t){void 0===t&&(t=0);var i=e.call(this,s)||this;return i.scheduler=r,i.delay=t,i}return a(s,e),s.dispatch=function(e){var s=e.notification,r=e.destination;s.observe(r),this.unsubscribe()},s.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(s.dispatch,this.delay,new zL(e,this.destination)))},s.prototype._next=function(e){this.scheduleMessage(sc.createNext(e))},s.prototype._error=function(e){this.scheduleMessage(sc.createError(e)),this.unsubscribe()},s.prototype._complete=function(){this.scheduleMessage(sc.createComplete()),this.unsubscribe()},s}(q);var zL=function(){return function(e,s){this.notification=e,this.destination=s}}();b();var Gpa=function(e){function t(t,r,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new JL(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,o=i.length;if(this.closed)throw new bd;if(this.isStopped||this.hasError?t=V.EMPTY:(this.observers.push(e),t=new hz(this,e)),n&&e.add(e=new Qy(e,n)),r)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||MA).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(e-i[o].time<r);)o++;return n>t&&(o=Math.max(o,n-t)),o>0&&i.splice(0,o),i},t}(Ea);var JL=function(){return function(e,t){this.time=e,this.value=t}}();b();var Hh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),V.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),V.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ea);var YL=1,rM=function(){return Promise.resolve()}(),qm={};function Py(e){return e in qm&&(delete qm[e],!0)}var Ny={setImmediate:function(e){var $=YL++;return qm[$]=!0,rM.then(function(){return Py($)&&e()}),$},clearImmediate:function(e){Py(e)}};b();var DM=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return a(t,e),t.prototype.requestAsyncId=function(t,r,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t.scheduled||(t.scheduled=Ny.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,i);0===t.actions.length&&(Ny.clearImmediate(r),t.scheduled=void 0)},t}(Gf);b();var GM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,c=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++c<i&&(e=r.shift()));if(this.active=!1,t){for(;++c<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(Ef);var ym=new GM(DM);var Bm=new Ef(Gf);b();var NM=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(Gf);b();var SM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,i=this.actions,r=-1,o=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=i.shift()));if(this.active=!1,t){for(;++r<o&&(e=i.shift());)e.unsubscribe();throw t}},t}(Ef);var Fpa=new SM(NM);b();var Epa=function(e){function t(t,r){void 0===t&&(t=eN),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return a(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,i=this.maxFrames;(t=r[0])&&t.delay<=i&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(Ef);var eN=function(e){function t(t,r,i){void 0===i&&(i=t.index+=1);var u=e.call(this,t,r)||this;return u.scheduler=t,u.work=r,u.index=i,u.active=!0,u.index=t.index=i,u}return a(t,e),t.prototype.schedule=function(r,i){if(void 0===i&&(i=0),!this.id)return e.prototype.schedule.call(this,r,i);this.active=!1;var u=new t(this.scheduler,this.work);return this.add(u),u.schedule(r,i)},t.prototype.requestAsyncId=function(e,r,i){void 0===i&&(i=0),this.delay=e.frame+i;var u=e.actions;return u.push(this),u.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Gf);function Ly(e){return!!e&&(e instanceof N||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var hN=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),Qm=hN;var kN=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),oN=kN;var Dpa=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();function uN(r,e,t){if(e){if(!Hl(e))return function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return uN(r,t).apply(void 0,c).pipe(gb(function(r){return rc(r)?e.apply(void 0,r):e(r)}))};t=e}return function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];var a,l=this,$={context:l,subject:a,callbackFunc:r,scheduler:t};return new N(function(c){if(t){var n={args:e,subscriber:c,params:$};return t.schedule(wN,0,n)}if(!a){a=new Hh;try{r.apply(l,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];a.next(r.length<=1?r[0]:r),a.complete()}]))}catch(i){Jj(a)?a.error(i):console.warn(i)}}return a.subscribe(c)})}}function wN(r){var e=this,t=r.args,c=r.subscriber,a=r.params,l=a.callbackFunc,$=a.context,n=a.scheduler,i=a.subject;if(!i){i=a.subject=new Hh;try{l.apply($,t.concat([function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var c=r.length<=1?r[0]:r;e.add(n.schedule(xN,0,{value:c,subject:i}))}]))}catch(u){i.error(u)}}this.add(i.subscribe(c))}function xN(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function gb(r,t){return function(e){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new CN(r,t))}}b();var CN=function(){function r(r,t){this.project=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new DN(r,this.project,this.thisArg))},r}();var DN=function(r){function t(t,e,o){var i=r.call(this,t)||this;return i.project=e,i.count=0,i.thisArg=o||i,i}return a(t,r),t.prototype._next=function(r){var t;try{t=this.project.call(this.thisArg,r,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(q);function FN(r,e,a){if(e){if(!Hl(e))return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];return FN(r,a).apply(void 0,t).pipe(gb(function(r){return rc(r)?e.apply(void 0,r):e(r)}))};a=e}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var u={subject:void 0,args:e,callbackFunc:r,scheduler:a,context:this};return new N(function(t){var c=u.context,$=u.subject;if(a)return a.schedule(HN,0,{params:u,subscriber:t,context:c});if(!$){$=u.subject=new Hh;try{r.apply(c,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var a=r.shift();a?$.error(a):($.next(r.length<=1?r[0]:r),$.complete())}]))}catch(i){Jj($)?$.error(i):console.warn(i)}}return $.subscribe(t)})}}function HN(r){var e=this,a=r.params,t=r.subscriber,u=r.context,c=a.callbackFunc,$=a.args,i=a.scheduler,n=a.subject;if(!n){n=a.subject=new Hh;try{c.apply(u,$.concat([function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var t=r.shift();if(t)e.add(i.schedule(Ky,0,{err:t,subject:n}));else{var u=r.length<=1?r[0]:r;e.add(i.schedule(IN,0,{value:u,subject:n}))}}]))}catch(o){this.add(i.schedule(Ky,0,{err:o,subject:n}))}}this.add(n.subscribe(t))}function IN(r){var e=r.value,a=r.subject;a.next(e),a.complete()}function Ky(r){var e=r.err;r.subject.error(e)}b();var K=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t,r){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(q);function B(e,r,$,s,b){if(void 0===b&&(b=new ec(e,$,s)),!b.closed)return r instanceof N?r.subscribe(b):Fy(r)(b)}b();var ec=function(r){function t(t,e,i){var n=r.call(this)||this;return n.parent=t,n.outerValue=e,n.outerIndex=i,n.index=0,n}return a(t,r),t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(q);var gO=function(r){return function(e){return r.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Id),e}};function lO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var gc=lO();var xO=function(r){return function(e){for(var t=r[gc]();;){var o=t.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof t.return&&e.add(function(){t.return&&t.return()}),e}};var CO=function(e){return function(r){var b=e[Of]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(r)}};var Jy=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function Gy(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Fy=function(r){if(r&&"function"==typeof r[Of])return CO(r);if(Jy(r))return Wy(r);if(Gy(r))return gO(r);if(r&&"function"==typeof r[gc])return xO(r);var e=mz(r)?"an invalid object":"'"+r+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};b();var Cy={};var Cpa=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new eP(t,this.resultSelector))},t}();var eP=function(t){function e(e,r){var o=t.call(this,e)||this;return o.resultSelector=r,o.active=0,o.values=[],o.observables=[],o}return a(e,t),e.prototype._next=function(t){this.values.push(Cy),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var o=t[r];this.add(B(this,o,o,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){var s=this.values,c=s[r],$=this.toRespond?c===Cy?--this.toRespond:this.toRespond:0;s[r]=e,0===$&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(K);function mP(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(mP(function(r,n){return ah(e(r,n)).pipe(gb(function(e,i){return t(r,e,n,i)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new sQ(e,r))})}function ah(e,r){return r?sP(e,r):e instanceof N?e:new N(Fy(e))}function sP(e,r){if(null!=e){if(jQ(e))return tP(e,r);if(Gy(e))return bQ(e,r);if(Jy(e))return Zl(e,r);if(oQ(e)||"string"==typeof e)return cQ(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function tP(e,r){return new N(function(l){var n=new V;return n.add(r.schedule(function(){var t=e[Of]();n.add(t.subscribe({next:function(e){n.add(r.schedule(function(){return l.next(e)}))},error:function(e){n.add(r.schedule(function(){return l.error(e)}))},complete:function(){n.add(r.schedule(function(){return l.complete()}))}}))})),n})}function bQ(e,r){return new N(function(n){var t=new V;return t.add(r.schedule(function(){return e.then(function(e){t.add(r.schedule(function(){n.next(e),t.add(r.schedule(function(){return n.complete()}))}))},function(e){t.add(r.schedule(function(){return n.error(e)}))})})),t})}function cQ(e,r){if(!e)throw new Error("Iterable cannot be null");return new N(function(t){var n,o=new V;return o.add(function(){n&&"function"==typeof n.return&&n.return()}),o.add(r.schedule(function(){n=e[gc](),o.add(r.schedule(function(){if(!t.closed){var e,r;try{var o=n.next();e=o.value,r=o.done}catch($){return void t.error($)}r?t.complete():(t.next(e),this.schedule())}}))})),o})}function jQ(e){return e&&"function"==typeof e[Of]}function oQ(r){return r&&"function"==typeof r[gc]}b();var sQ=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new wQ(e,this.project,this.concurrent))},e}();var wQ=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new ec(this,t,r),i=this.destination;i.add(n);var s=B(this,e,void 0,void 0,n);s!==n&&i.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(K);var Bpa=function(){return Object.prototype.toString}();function BQ(e,t,r,n){return Qe(r)&&(n=r,r=void 0),n?BQ(e,t,r).pipe(gb(function(e){return rc(e)?n.apply(void 0,e):n(e)})):new N(function(n){By(e,t,function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)},n,r)})}function By(e,t,r,n,i){var o;if(MQ(e)){var $=e;e.addEventListener(t,r,i),o=function(){return $.removeEventListener(t,r,i)}}else if(LQ(e)){var Z=e;e.on(t,r),o=function(){return Z.off(t,r)}}else if(HQ(e)){var u=e;e.addListener(t,r),o=function(){return u.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var v=0,a=e.length;v<a;v++)By(e[v],t,r,n,i)}n.add(o)}function HQ(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function LQ(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function MQ(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function RQ(r,e,t){return t?RQ(r,e).pipe(gb(function(r){return rc(r)?t.apply(void 0,r):t(r)})):new N(function(t){var $,n=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.next(1===r.length?r[0]:r)};try{$=r(n)}catch(o){return void t.error(o)}if(Qe(e))return function(){return e(n,$)}})}function wy(r,e){return void 0===r&&(r=0),void 0===e&&(e=Bm),(!ty(r)||r<0)&&(r=0),e&&"function"==typeof e.schedule||(e=Bm),new N(function($){return $.add(e.schedule(XQ,r,{subscriber:$,counter:0,period:r})),$})}function XQ(r){var e=r.subscriber,$=r.counter,i=r.period;e.next($),this.schedule({subscriber:e,counter:$+1,period:i},i)}function ty(r){return!rc(r)&&r-parseFloat(r)+1>=0}var Apa=new N(ib);function sy(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(0===r.length)return Yy;var $=r[0],o=r.slice(1);return 1===r.length&&rc($)?sy.apply(void 0,$):new N(function(r){var e=function(){return r.add(sy.apply(void 0,o).subscribe(r))};return ah($).subscribe({next:function(e){r.next(e)},error:e,complete:e})})}b();var zpa=function(){function r(r,t){this.predicate=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new gR(r,this.predicate,this.thisArg))},r}(),gR=function(r){function t(t,i,e){var n=r.call(this,t)||this;return n.predicate=i,n.thisArg=e,n.count=0,n}return a(t,r),t.prototype._next=function(r){var t;try{t=this.predicate.call(this.thisArg,r,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(r)},t}(q);b();var ypa=function(){function r(){}return r.prototype.call=function(r,t){return t.subscribe(new iR(r))},r}();var iR=function(r){function t(t){var e=r.call(this,t)||this;return e.hasFirst=!1,e.observables=[],e.subscriptions=[],e}return a(t,r),t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,t=r.length;if(0===t)this.destination.complete();else{for(var e=0;e<t&&!this.hasFirst;e++){var s=r[e],i=B(this,s,s,e);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(r,t,e,s,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==e){var b=this.subscriptions[o];b.unsubscribe(),this.remove(b)}this.subscriptions=null}this.destination.next(t)},t}(K);b();var xpa=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new pR(t,this.resultSelector))},t}();var pR=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof r?r:null,o.values=i,o}return a(e,t),e.prototype._next=function(t){var e=this.iterators;rc(t)?e.push(new vR(t)):"function"==typeof t[gc]?e.push(new qR(t[gc]())):e.push(new IR(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var i=t[r];if(i.stillUnsubscribed)this.destination.add(i.subscribe(i,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){if("function"==typeof(s=t[i]).hasValue&&!s.hasValue())return}var o=!1,n=[];for(i=0;i<e;i++){var s,f=(s=t[i]).next();if(s.hasCompleted()&&(o=!0),f.done)return void r.complete();n.push(f.value)}this.resultSelector?this._tryresultSelector(n):r.next(n),o&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(q);var qR=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),vR=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[gc]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),IR=function(t){function e(e,r,i){var o=t.call(this,e)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return a(e,t),e.prototype[gc]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return B(this,this.observable,this,e)},e}(K);b();var wpa=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,r){return r.subscribe(new LR(t,this.durationSelector))},t}(),LR=function(t){function r(r,e){var i=t.call(this,r)||this;return i.durationSelector=e,i.hasValue=!1,i}return a(r,t),r.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var r=void 0;try{r=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var e=B(this,r);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},r.prototype.clearThrottle=function(){var t=this.value,r=this.hasValue,e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},r.prototype.notifyNext=function(t,r,e,i){this.clearThrottle()},r.prototype.notifyComplete=function(){this.clearThrottle()},r}(K);b();var vpa=function(){function r(r){this.closingNotifier=r}return r.prototype.call=function(r,e){return e.subscribe(new TR(r,this.closingNotifier))},r}(),TR=function(r){function e(e,t){var i=r.call(this,e)||this;return i.buffer=[],i.add(B(i,t)),i}return a(e,r),e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(r,e,t,i,u){var b=this.buffer;this.buffer=[],this.destination.next(b)},e}(K);b();var upa=function(){function t(t,r){this.bufferSize=t,this.startBufferEvery=r,this.subscriberClass=r&&t!==r?dS:$R}return t.prototype.call=function(t,r){return r.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),$R=function(t){function r(r,e){var f=t.call(this,r)||this;return f.bufferSize=e,f.buffer=[],f}return a(r,t),r.prototype._next=function(t){var r=this.buffer;r.push(t),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},r.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},r}(q),dS=function(t){function r(r,e,f){var i=t.call(this,r)||this;return i.bufferSize=e,i.startBufferEvery=f,i.buffers=[],i.count=0,i}return a(r,t),r.prototype._next=function(t){var r=this.bufferSize,e=this.startBufferEvery,f=this.buffers,i=this.count;this.count++,i%e==0&&f.push([]);for(var u=f.length;u--;){var n=f[u];n.push(t),n.length===r&&(f.splice(u,1),this.destination.next(n))}},r.prototype._complete=function(){for(var r=this.buffers,e=this.destination;r.length>0;){var f=r.shift();f.length>0&&e.next(f)}t.prototype._complete.call(this)},r}(q);b();var tpa=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new BS(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),nS=function(){return function(){this.buffer=[]}}(),BS=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=n,o.maxBufferSize=i,o.scheduler=s,o.contexts=[];var u=o.openContext();if(o.timespanOnly=null==n||n<0,o.timespanOnly){var c={subscriber:o,context:u,bufferTimeSpan:r};o.add(u.closeAction=s.schedule(ny,r,c))}else{var f={subscriber:o,context:u},a={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:o,scheduler:s};o.add(u.closeAction=s.schedule(my,r,f)),o.add(s.schedule(DS,n,a))}return o}return a(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var s=r[i],o=s.buffer;o.push(e),o.length==this.maxBufferSize&&(t=s)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(ny,r,n))}},t.prototype.openContext=function(){var e=new nS;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(q);function ny(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function DS(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,s=n.openContext();n.closed||(n.add(s.closeAction=i.schedule(my,r,{subscriber:n,context:s})),this.schedule(e,t))}function my(e){var t=e.subscriber,r=e.context;t.closeContext(r)}b();var spa=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new $S(t,this.openings,this.closingSelector))},t}(),$S=function(t){function e(e,r,o){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=o,i.contexts=[],i.add(B(i,r)),i}return a(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,o=0;o<r;o++)e[o].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var o=r.shift();o.subscription.unsubscribe(),o.buffer=null,o.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,o,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(r){this._error(r)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,o=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new V,o={buffer:[],subscription:r};e.push(o);var i=B(this,t,o);!i||i.closed?this.closeBuffer(o):(i.context=o,this.add(i),r.add(i))},e}(K);b();var rpa=function(){function r(r){this.closingSelector=r}return r.prototype.call=function(r,t){return t.subscribe(new gT(r,this.closingSelector))},r}(),gT=function(r){function t(t,e){var i=r.call(this,t)||this;return i.closingSelector=e,i.subscribing=!1,i.openBuffer(),i}return a(t,r),t.prototype._next=function(r){this.buffer.push(r)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(r,t,e,i,n){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var t,e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];try{t=(0,this.closingSelector)()}catch(i){return this.error(i)}r=new V,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(B(this,t)),this.subscribing=!1},t}(K);b();var qpa=function(){function r(r){this.selector=r}return r.prototype.call=function(r,t){return t.subscribe(new iT(r,this.selector,this.caught))},r}(),iT=function(r){function t(t,e,o){var i=r.call(this,t)||this;return i.selector=e,i.caught=o,i}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(c){return void r.prototype.error.call(this,c)}this._unsubscribeAndRecycle();var o=new ec(this,void 0,void 0);this.add(o);var i=B(this,e,void 0,void 0,o);i!==o&&this.add(i)}},t}(K);b();var ppa=function(){function t(t,r){this.predicate=t,this.source=r}return t.prototype.call=function(t,r){return r.subscribe(new rT(t,this.predicate,this.source))},t}(),rT=function(t){function r(r,n,e){var i=t.call(this,r)||this;return i.predicate=n,i.source=e,i.count=0,i.index=0,i}return a(r,t),r.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},r.prototype._tryPredicate=function(t){var r;try{r=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}r&&this.count++},r.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},r}(q);b();var opa=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new zT(t,this.durationSelector))},t}(),zT=function(t){function e(e,r){var i=t.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i.durationSubscription=null,i}return a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=B(this,e))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,i,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(K);b();var npa=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new bU(e,this.dueTime,this.scheduler))},e}(),bU=function(e){function t(t,i,u){var r=e.call(this,t)||this;return r.dueTime=i,r.scheduler=u,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(mU,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(q);function mU(e){e.debouncedNext()}b();var mpa=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new IU(t,this.defaultValue))},t}(),IU=function(t){function e(e,r){var i=t.call(this,e)||this;return i.defaultValue=r,i.isEmpty=!0,i}return a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(q);function ky(e,t){void 0===t&&(t=Bm);var i=WU(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new XU(i,t))}}function WU(r){return r instanceof Date&&!isNaN(+r)}b();var XU=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new uV(e,this.delay,this.scheduler))},e}(),uV=function(e){function t(t,i,r){var s=e.call(this,t)||this;return s.delay=i,s.scheduler=r,s.queue=[],s.active=!1,s.errored=!1,s}return a(t,e),t.dispatch=function(e){for(var t=e.source,i=t.queue,r=e.scheduler,s=e.destination;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var o=Math.max(0,i[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,i=new vV(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(sc.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(sc.createComplete()),this.unsubscribe()},t}(q),vV=function(){return function(e,t){this.time=e,this.notification=t}}();b();var lpa=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new yV(e,this.delayDurationSelector))},e}(),yV=function(e){function t(t,i){var r=e.call(this,t)||this;return r.delayDurationSelector=i,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return a(t,e),t.prototype.notifyNext=function(e,t,i,r,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var i=this.delayDurationSelector(e,t);i&&this.tryDelay(i,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var i=B(this,e,t);i&&!i.closed&&(this.destination.add(i),this.delayNotifierSubscriptions.push(i))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(K),kpa=function(e){function t(t,i){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=i,r}return a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new JV(e,this.source))},t}(N),JV=function(e){function t(t,i){var r=e.call(this)||this;return r.parent=t,r.source=i,r.sourceSubscribed=!1,r}return a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(q);b();var jpa=function(){function e(){}return e.prototype.call=function(e,r){return r.subscribe(new YV(e))},e}(),YV=function(e){function r(r){return e.call(this,r)||this}return a(r,e),r.prototype._next=function(e){e.observe(this.destination)},r}(q);b();var ipa=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new aW(t,this.keySelector,this.flushes))},t}(),aW=function(t){function e(e,r,i){var s=t.call(this,e)||this;return s.keySelector=r,s.values=new Set,i&&s.add(B(s,i)),s}return a(e,t),e.prototype.notifyNext=function(t,e,r,i,s){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(i){return void r.error(i)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(K);b();var hpa=function(){function t(t,r){this.compare=t,this.keySelector=r}return t.prototype.call=function(t,r){return r.subscribe(new iW(t,this.compare,this.keySelector))},t}(),iW=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof e&&(n.compare=e),n}return a(r,t),r.prototype.compare=function(t,r){return t===r},r.prototype._next=function(t){var r;try{var e=this.keySelector;r=e?e(t):t}catch(n){return this.destination.error(n)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,r)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=r,this.destination.next(t))},r}(q);b();var gpa=function(){function r(r){this.errorFactory=r}return r.prototype.call=function(r,t){return t.subscribe(new oW(r,this.errorFactory))},r}(),oW=function(r){function t(t,e){var o=r.call(this,t)||this;return o.errorFactory=e,o.hasValue=!1,o}return a(t,r),t.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(t){r=t}this.destination.error(r)},t}(q);b();var fpa=function(){function t(t){if(this.total=t,this.total<0)throw new Qm}return t.prototype.call=function(t,r){return r.subscribe(new AW(t,this.total))},t}(),AW=function(t){function r(r,e){var $=t.call(this,r)||this;return $.total=e,$.count=0,$}return a(r,t),r.prototype._next=function(t){var r=this.total,e=++this.count;e<=r&&(this.destination.next(t),e===r&&(this.destination.complete(),this.unsubscribe()))},r}(q);b();var epa=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new KW(e,this.predicate,this.thisArg,this.source))},e}(),KW=function(e){function t(t,r,i,n){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=i,o.source=n,o.index=0,o.thisArg=i||o,o}return a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(r){return void this.destination.error(r)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(q);b();var dpa=function(){function t(){}return t.prototype.call=function(t,i){return i.subscribe(new $W(t))},t}(),$W=function(t){function i(i){var r=t.call(this,i)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return a(i,t),i.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(B(this,t)))},i.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},i.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},i}(K);function _W(t,r){return r?function(e){return e.pipe(_W(function(e,i){return ah(t(e,i)).pipe(gb(function(t,o){return r(e,t,i,o)}))}))}:function(r){return r.lift(new aX(t))}}b();var aX=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new dX(t,this.project))},t}(),dX=function(t){function r(r,e){var i=t.call(this,r)||this;return i.project=e,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return a(r,t),r.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},r.prototype.tryNext=function(t){var r,e=this.index++;try{r=this.project(t,e)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(r,t,e)},r.prototype._innerSub=function(t,r,e){var i=new ec(this,r,e),o=this.destination;o.add(i);var n=B(this,t,void 0,void 0,i);n!==i&&o.add(n)},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r}(K);b();var cpa=function(){function t(t,e,i){this.project=t,this.concurrent=e,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new iX(t,this.project,this.concurrent,this.scheduler))},t}();var iX=function(t){function e(e,i,r,s){var c=t.call(this,e)||this;return c.project=i,c.concurrent=r,c.scheduler=s,c.index=0,c.active=0,c.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(c.buffer=[]),c}return a(e,t),e.dispatch=function(t){var e=t.subscriber,i=t.result,r=t.value,s=t.index;e.subscribeToProjection(i,r,s)},e.prototype._next=function(t){var i=this.destination;if(i.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){i.next(t);try{var s=(0,this.project)(t,r);if(this.scheduler){var c={subscriber:this,result:s,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,c))}else this.subscribeToProjection(s,t,r)}catch(o){i.error(o)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,i){this.active++,this.destination.add(B(this,t,e,i))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,i,r,s){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(K);b();var bpa=function(){function r(r){this.callback=r}return r.prototype.call=function(r,i){return i.subscribe(new kX(r,this.callback))},r}(),kX=function(r){function i(i,u){var $=r.call(this,i)||this;return $.add(new V(u)),$}return a(i,r),i}(q);b();var apa=function(){function t(t,r,e,i){this.predicate=t,this.source=r,this.yieldIndex=e,this.thisArg=i}return t.prototype.call=function(t,r){return r.subscribe(new pX(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();var pX=function(t){function r(r,e,i,n,o){var s=t.call(this,r)||this;return s.predicate=e,s.source=i,s.yieldIndex=n,s.thisArg=o,s.index=0,s}return a(r,t),r.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete(),this.unsubscribe()},r.prototype._next=function(t){var r=this.predicate,e=this.thisArg,i=this.index++;try{r.call(e||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(n){this.destination.error(n)}},r.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},r}(q);b();var _oa=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new DX(r))},r}(),DX=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return a(e,r),e.prototype._next=function(r){},e}(q);b();var $oa=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new OX(t))},t}(),OX=function(t){function r(r){return t.call(this,r)||this}return a(r,t),r.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete()},r.prototype._next=function(t){this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(q);b();var Zoa=function(){function t(t){if(this.total=t,this.total<0)throw new Qm}return t.prototype.call=function(t,r){return r.subscribe(new bY(t,this.total))},t}(),bY=function(t){function r(r,e){var i=t.call(this,r)||this;return i.total=e,i.ring=new Array,i.count=0,i}return a(r,t),r.prototype._next=function(t){var r=this.ring,e=this.total,i=this.count++;r.length<e?r.push(t):r[i%e]=t},r.prototype._complete=function(){var t=this.destination,r=this.count;if(r>0)for(var e=this.count>=this.total?this.total:this.count,i=this.ring,n=0;n<e;n++){var a=r++%e;t.next(i[a])}t.complete()},r}(q);b();var Yoa=function(){function r(r){this.value=r}return r.prototype.call=function(r,t){return t.subscribe(new qY(r,this.value))},r}(),qY=function(r){function t(t,e){var $=r.call(this,t)||this;return $.value=e,$}return a(t,r),t.prototype._next=function(r){this.destination.next(this.value)},t}(q);b();var Xoa=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new yY(t))},t}(),yY=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype._next=function(t){this.destination.next(sc.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(sc.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(sc.createComplete()),t.complete()},e}(q);function GY(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new IY(t,e,r))}}b();var IY=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new JY(t,this.accumulator,this.seed,this.hasSeed))},t}(),JY=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=i,s.hasSeed=n,s.index=0,s}return a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(q);b();var Woa=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new PY(e,this.accumulator,this.seed,this.concurrent))},e}();var PY=function(e){function t(t,r,i,n){var s=e.call(this,t)||this;return s.accumulator=r,s.acc=i,s.concurrent=n,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(n){return r.error(n)}this.active++,this._innerSub(i,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){var i=new ec(this,t,r),n=this.destination;n.add(i);var s=B(this,e,void 0,void 0,i);s!==i&&n.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,i,n){var s=this.destination;this.acc=t,this.hasValue=!0,s.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(K);var Voa=function(){function t(t,r){this.subjectFactory=t,this.selector=r}return t.prototype.call=function(t,r){var e=this.selector,o=this.subjectFactory(),c=e(o).subscribe(t);return c.add(r.subscribe(o)),c},t}();b();var Uoa=function(){function r(r){this.nextSources=r}return r.prototype.call=function(r,e){return e.subscribe(new VY(r,this.nextSources))},r}(),VY=function(r){function e(e,t){var o=r.call(this,e)||this;return o.destination=e,o.nextSources=t,o}return a(e,r),e.prototype.notifyError=function(r,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(r){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var e=new ec(this,void 0,void 0),t=this.destination;t.add(e);var o=B(this,r,void 0,void 0,e);o!==e&&t.add(o)}else this.destination.complete()},e}(K);b();var Toa=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new XY(r))},r}(),XY=function(r){function e(e){var i=r.call(this,e)||this;return i.hasPrev=!1,i}return a(e,r),e.prototype._next=function(r){var e;this.hasPrev?e=[this.prev,r]:this.hasPrev=!0,this.prev=r,e&&this.destination.next(e)},e}(q);b();var Soa=function(){function e(e,r){this.count=e,this.source=r}return e.prototype.call=function(e,r){return r.subscribe(new aZ(e,this.count,this.source))},e}(),aZ=function(e){function r(r,t,i){var $=e.call(this,r)||this;return $.count=t,$.source=i,$}return a(r,e),r.prototype.complete=function(){if(!this.isStopped){var r=this.source,t=this.count;if(0===t)return e.prototype.complete.call(this);t>-1&&(this.count=t-1),r.subscribe(this._unsubscribeAndRecycle())}},r}(q);b();var Roa=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new jZ(t,this.notifier,e))},t}(),jZ=function(t){function e(e,i,r){var s=t.call(this,e)||this;return s.notifier=i,s.source=r,s.sourceIsBeingSubscribedTo=!0,s}return a(e,t),e.prototype.notifyNext=function(t,e,i,r,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new Ea;try{e=(0,this.notifier)(this.notifications)}catch(i){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=B(this,e)},e}(K);b();var Qoa=function(){function r(r,t){this.count=r,this.source=t}return r.prototype.call=function(r,t){return t.subscribe(new lZ(r,this.count,this.source))},r}(),lZ=function(r){function t(t,e,i){var o=r.call(this,t)||this;return o.count=e,o.source=i,o}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=this.source,i=this.count;if(0===i)return r.prototype.error.call(this,t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}},t}(q);b();var Poa=function(){function r(r,e){this.notifier=r,this.source=e}return r.prototype.call=function(r,e){return e.subscribe(new yZ(r,this.notifier,this.source))},r}(),yZ=function(r){function e(e,t,i){var s=r.call(this,e)||this;return s.notifier=t,s.source=i,s}return a(e,r),e.prototype.error=function(e){if(!this.isStopped){var t=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{t=new Ea;try{i=(0,this.notifier)(t)}catch(u){return r.prototype.error.call(this,u)}s=B(this,i)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=s,t.next(e)}},e.prototype._unsubscribe=function(){var r=this.errors,e=this.retriesSubscription;r&&(r.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(r,e,t,i,s){var u=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=u,this.source.subscribe(this)},e}(K);b();var Ooa=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new OZ(t),o=e.subscribe(r);return o.add(B(r,this.notifier)),o},t}(),OZ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,o,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(K);b();var Noa=function(){function e(e,r){this.period=e,this.scheduler=r}return e.prototype.call=function(e,r){return r.subscribe(new XZ(e,this.period,this.scheduler))},e}(),XZ=function(e){function r(r,i,t){var n=e.call(this,r)||this;return n.period=i,n.scheduler=t,n.hasValue=!1,n.add(t.schedule(j$,i,{subscriber:n,period:i})),n}return a(r,e),r.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},r.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},r}(q);function j$(e){var r=e.subscriber,i=e.period;r.notifyNext(),this.schedule(e,i)}b();var Moa=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new w$(e,this.compareTo,this.comparator))},e}();var w$=function(e){function t(t,r,o){var i=e.call(this,t)||this;return i.compareTo=r,i.comparator=o,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new E$(t,i))),i}return a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;e.length>0&&t.length>0;){var o=e.shift(),i=t.shift(),n=!1;try{n=r?r(o,i):o===i}catch(s){this.destination.error(s)}n||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(q);var E$=function(e){function t(t,r){var o=e.call(this,t)||this;return o.parent=r,o}return a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(q);b();var Loa=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new R$(e,this.predicate,this.source))},e}(),R$=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new oN)},t}(q);b();var Koa=function(){function t(t){this.total=t}return t.prototype.call=function(t,r){return r.subscribe(new n_(t,this.total))},t}(),n_=function(t){function r(r,i){var e=t.call(this,r)||this;return e.total=i,e.count=0,e}return a(r,t),r.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},r}(q);b();var Joa=function(){function i(i){if(this._skipCount=i,this._skipCount<0)throw new Qm}return i.prototype.call=function(i,r){return 0===this._skipCount?r.subscribe(new q(i)):r.subscribe(new A_(i,this._skipCount))},i}(),A_=function(i){function r(r,t){var n=i.call(this,r)||this;return n._skipCount=t,n._count=0,n._ring=new Array(t),n}return a(r,i),r.prototype._next=function(i){var r=this._skipCount,t=this._count++;if(t<r)this._ring[t]=i;else{var n=t%r,e=this._ring,s=e[n];e[n]=i,this.destination.next(s)}},r}(q);b();var Ioa=function(){function r(r){this.notifier=r}return r.prototype.call=function(r,i){return i.subscribe(new J_(r,this.notifier))},r}(),J_=function(r){function i(i,t){var e=r.call(this,i)||this;e.hasValue=!1;var n=new ec(e,void 0,void 0);e.add(n),e.innerSubscription=n;var s=B(e,t,void 0,void 0,n);return s!==n&&(e.add(s),e.innerSubscription=s),e}return a(i,r),i.prototype._next=function(i){this.hasValue&&r.prototype._next.call(this,i)},i.prototype.notifyNext=function(r,i,t,e,n){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},i.prototype.notifyComplete=function(){},i}(K);b();var Hoa=function(){function i(i){this.predicate=i}return i.prototype.call=function(i,r){return r.subscribe(new U_(i,this.predicate))},i}(),U_=function(i){function r(r,t){var e=i.call(this,r)||this;return e.predicate=t,e.skipping=!0,e.index=0,e}return a(r,i),r.prototype._next=function(i){var r=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||r.next(i)},r.prototype.tryCallPredicate=function(i){try{var r=this.predicate(i,this.index++);this.skipping=Boolean(r)}catch(t){this.destination.error(t)}},r}(q);b();var V_=function(r){function e(e,i,s){void 0===i&&(i=0),void 0===s&&(s=ym);var t=r.call(this)||this;return t.source=e,t.delayTime=i,t.scheduler=s,(!ty(i)||i<0)&&(t.delayTime=0),s&&"function"==typeof s.schedule||(t.scheduler=ym),t}return a(e,r),e.create=function(r,i,s){return void 0===i&&(i=0),void 0===s&&(s=ym),new e(r,i,s)},e.dispatch=function(r){var e=r.source,i=r.subscriber;return this.add(e.subscribe(i))},e.prototype._subscribe=function(r){var i=this.delayTime,s=this.source;return this.scheduler.schedule(e.dispatch,i,{source:s,subscriber:r})},e}(N);var Goa=function(){function r(r,e){this.scheduler=r,this.delay=e}return r.prototype.call=function(r,e){return new V_(e,this.delay,this.scheduler).subscribe(r)},r}();function baa(t,r){return"function"==typeof r?function(i){return i.pipe(baa(function(i,e){return ah(t(i,e)).pipe(gb(function(t,n){return r(i,t,e,n)}))}))}:function(r){return r.lift(new kaa(t))}}b();var kaa=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new laa(t,this.project))},t}(),laa=function(t){function r(r,i){var e=t.call(this,r)||this;return e.project=i,e.index=0,e}return a(r,t),r.prototype._next=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(e){return void this.destination.error(e)}this._innerSub(r,t,i)},r.prototype._innerSub=function(t,r,i){var e=this.innerSubscription;e&&e.unsubscribe();var n=new ec(this,r,i),o=this.destination;o.add(n),this.innerSubscription=B(this,t,void 0,void 0,n),this.innerSubscription!==n&&o.add(this.innerSubscription)},r.prototype._complete=function(){var r=this.innerSubscription;r&&!r.closed||t.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=null},r.prototype.notifyComplete=function(r){this.destination.remove(r),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},r.prototype.notifyNext=function(t,r,i,e,n){this.destination.next(r)},r}(K);b();var Foa=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new qaa(e),i=B(r,this.notifier);return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r},e}(),qaa=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return a(t,e),t.prototype.notifyNext=function(e,t,r,i,n){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(K);b();var Doa=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new Baa(e,this.predicate,this.inclusive))},e}(),Baa=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.predicate=r,n.inclusive=i,n.index=0,n}return a(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(q);b();var Boa=function(){function t(t,r,o){this.nextOrObserver=t,this.error=r,this.complete=o}return t.prototype.call=function(t,r){return r.subscribe(new Paa(t,this.nextOrObserver,this.error,this.complete))},t}(),Paa=function(t){function r(r,o,e,i){var n=t.call(this,r)||this;return n._tapNext=ib,n._tapError=ib,n._tapComplete=ib,n._tapError=e||ib,n._tapComplete=i||ib,Qe(o)?(n._context=n,n._tapNext=o):o&&(n._context=o,n._tapNext=o.next||ib,n._tapError=o.error||ib,n._tapComplete=o.complete||ib),n}return a(r,t),r.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.next(t)},r.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},r}(q);b();var zoa=function(){function t(t,o,r){this.durationSelector=t,this.leading=o,this.trailing=r}return t.prototype.call=function(t,o){return o.subscribe(new kba(t,this.durationSelector,this.leading,this.trailing))},t}(),kba=function(t){function o(o,r,e,i){var n=t.call(this,o)||this;return n.destination=o,n.durationSelector=r,n._leading=e,n._trailing=i,n._hasValue=!1,n}return a(o,t),o.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},o.prototype.send=function(){var t=this._hasValue,o=this._sendValue;t&&(this.destination.next(o),this.throttle(o)),this._hasValue=!1,this._sendValue=null},o.prototype.throttle=function(t){var o=this.tryDurationSelector(t);o&&this.add(this._throttled=B(this,o))},o.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(o){return this.destination.error(o),null}},o.prototype.throttlingDone=function(){var t=this._throttled,o=this._trailing;t&&t.unsubscribe(),this._throttled=null,o&&this.send()},o.prototype.notifyNext=function(t,o,r,e,i){this.throttlingDone()},o.prototype.notifyComplete=function(){this.throttlingDone()},o}(K);b();var yoa=function(){function t(t,i,e,r){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new Cba(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Cba=function(t){function i(i,e,r,l,n){var a=t.call(this,i)||this;return a.duration=e,a.scheduler=r,a.leading=l,a.trailing=n,a._hasTrailingValue=!1,a._trailingValue=null,a}return a(i,t),i.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Hba,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},i.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},i.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},i}(q);function Hba(t){t.subscriber.clearThrottle()}var xoa=function(){return function(r,e){this.value=r,this.interval=e}}();b();var woa=function(){function t(t,e,i,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new Oba(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Oba=function(t){function e(e,i,r,u,s){var o=t.call(this,e)||this;return o.absoluteTimeout=i,o.waitFor=r,o.withObservable=u,o.scheduler=s,o.action=null,o.scheduleTimeout(),o}return a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(B(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(K);var voa=function(){return function(p,t){this.value=p,this.timestamp=t}}();b();var toa=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,o){var r=new Uba(t),e=o.subscribe(r);return e.closed||r.add(B(r,this.windowBoundaries)),e},t}(),Uba=function(t){function o(o){var r=t.call(this,o)||this;return r.window=new Ea,o.next(r.window),r}return a(o,t),o.prototype.notifyNext=function(t,o,r,e,i){this.openWindow()},o.prototype.notifyError=function(t,o){this._error(t)},o.prototype.notifyComplete=function(t){this._complete()},o.prototype._next=function(t){this.window.next(t)},o.prototype._error=function(t){this.window.error(t),this.destination.error(t)},o.prototype._complete=function(){this.window.complete(),this.destination.complete()},o.prototype._unsubscribe=function(){this.window=null},o.prototype.openWindow=function(){var t=this.window;t&&t.complete();var o=this.destination,r=this.window=new Ea;o.next(r)},o}(K);b();var roa=function(){function t(t,i){this.windowSize=t,this.startWindowEvery=i}return t.prototype.call=function(t,i){return i.subscribe(new Yba(t,this.windowSize,this.startWindowEvery))},t}(),Yba=function(t){function i(i,o,n){var r=t.call(this,i)||this;return r.destination=i,r.windowSize=o,r.startWindowEvery=n,r.windows=[new Ea],r.count=0,i.next(r.windows[0]),r}return a(i,t),i.prototype._next=function(t){for(var i=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,o=this.destination,n=this.windowSize,r=this.windows,e=r.length,s=0;s<e&&!this.closed;s++)r[s].next(t);var u=this.count-n+1;if(u>=0&&u%i==0&&!this.closed&&r.shift().complete(),++this.count%i==0&&!this.closed){var w=new Ea;r.push(w),o.next(w)}},i.prototype._error=function(t){var i=this.windows;if(i)for(;i.length>0&&!this.closed;)i.shift().error(t);this.destination.error(t)},i.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},i.prototype._unsubscribe=function(){this.count=0,this.windows=null},i}(q);b();var ooa=function(){function e(e,i,s,n){this.windowTimeSpan=e,this.windowCreationInterval=i,this.maxWindowSize=s,this.scheduler=n}return e.prototype.call=function(e,i){return i.subscribe(new fca(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),bca=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._numberOfNextedValues=0,i}return a(i,e),i.prototype.next=function(i){this._numberOfNextedValues++,e.prototype.next.call(this,i)},Object.defineProperty(i.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),i}(Ea),fca=function(e){function i(i,s,n,r,t){var o=e.call(this,i)||this;o.destination=i,o.windowTimeSpan=s,o.windowCreationInterval=n,o.maxWindowSize=r,o.scheduler=t,o.windows=[];var d=o.openWindow();if(null!==n&&n>=0){var u={subscriber:o,window:d,context:null},c={windowTimeSpan:s,windowCreationInterval:n,subscriber:o,scheduler:t};o.add(t.schedule(Zx,s,u)),o.add(t.schedule(kca,n,c))}else{var a={subscriber:o,window:d,windowTimeSpan:s};o.add(t.schedule(ica,s,a))}return o}return a(i,e),i.prototype._next=function(e){for(var i=this.windows,s=i.length,n=0;n<s;n++){var r=i[n];r.closed||(r.next(e),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},i.prototype._error=function(e){for(var i=this.windows;i.length>0;)i.shift().error(e);this.destination.error(e)},i.prototype._complete=function(){for(var e=this.windows;e.length>0;){var i=e.shift();i.closed||i.complete()}this.destination.complete()},i.prototype.openWindow=function(){var e=new bca;return this.windows.push(e),this.destination.next(e),e},i.prototype.closeWindow=function(e){e.complete();var i=this.windows;i.splice(i.indexOf(e),1)},i}(q);function ica(e){var i=e.subscriber,s=e.windowTimeSpan,n=e.window;n&&i.closeWindow(n),e.window=i.openWindow(),this.schedule(e,s)}function kca(e){var i=e.windowTimeSpan,s=e.subscriber,n=e.scheduler,r=e.windowCreationInterval,t=s.openWindow(),o={action:this,subscription:null},d={subscriber:s,window:t,context:o};o.subscription=n.schedule(Zx,i,d),this.add(o.subscription),this.schedule(e,r)}function Zx(e){var i=e.subscriber,s=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),i.closeWindow(s)}b();var loa=function(){function t(t,i){this.openings=t,this.closingSelector=i}return t.prototype.call=function(t,i){return i.subscribe(new Aca(t,this.openings,this.closingSelector))},t}(),Aca=function(t){function i(i,o,e){var r=t.call(this,i)||this;return r.openings=o,r.closingSelector=e,r.contexts=[],r.add(r.openSubscription=B(r,o,o)),r}return a(i,t),i.prototype._next=function(t){var i=this.contexts;if(i)for(var o=i.length,e=0;e<o;e++)i[e].window.next(t)},i.prototype._error=function(i){var o=this.contexts;if(this.contexts=null,o)for(var e=o.length,r=-1;++r<e;){var n=o[r];n.window.error(i),n.subscription.unsubscribe()}t.prototype._error.call(this,i)},i.prototype._complete=function(){var i=this.contexts;if(this.contexts=null,i)for(var o=i.length,e=-1;++e<o;){var r=i[e];r.window.complete(),r.subscription.unsubscribe()}t.prototype._complete.call(this)},i.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var i=t.length,o=-1;++o<i;){var e=t[o];e.window.unsubscribe(),e.subscription.unsubscribe()}},i.prototype.notifyNext=function(t,i,o,e,r){if(t===this.openings){var n=void 0;try{n=(0,this.closingSelector)(i)}catch(l){return this.error(l)}var s=new Ea,c=new V,u={window:s,subscription:c};this.contexts.push(u);var p=B(this,n,u);p.closed?this.closeWindow(this.contexts.length-1):(p.context=u,c.add(p)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},i.prototype.notifyError=function(t){this.error(t)},i.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},i.prototype.closeWindow=function(t){if(-1!==t){var i=this.contexts,o=i[t],e=o.window,r=o.subscription;i.splice(t,1),e.complete(),r.unsubscribe()}},i}(K);b();var koa=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,i){return i.subscribe(new Kca(t,this.closingSelector))},t}(),Kca=function(t){function i(i,o){var n=t.call(this,i)||this;return n.destination=i,n.closingSelector=o,n.openWindow(),n}return a(i,t),i.prototype.notifyNext=function(t,i,o,n,r){this.openWindow(r)},i.prototype.notifyError=function(t,i){this._error(t)},i.prototype.notifyComplete=function(t){this.openWindow(t)},i.prototype._next=function(t){this.window.next(t)},i.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},i.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},i.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},i.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var i=this.window;i&&i.complete();var o,n=this.window=new Ea;this.destination.next(n);try{o=(0,this.closingSelector)()}catch(r){return this.destination.error(r),void this.window.error(r)}this.add(this.closingNotification=B(this,o))},i}(K);b();var ioa=function(){function t(t,r){this.observables=t,this.project=r}return t.prototype.call=function(t,r){return r.subscribe(new Pca(t,this.observables,this.project))},t}(),Pca=function(t){function r(r,e,o){var i=t.call(this,r)||this;i.observables=e,i.project=o,i.toRespond=[];var s=e.length;i.values=new Array(s);for(var n=0;n<s;n++)i.toRespond.push(n);for(n=0;n<s;n++){var a=e[n];i.add(B(i,a,a,n))}return i}return a(r,t),r.prototype.notifyNext=function(t,r,e,o,i){this.values[e]=r;var s=this.toRespond;if(s.length>0){var n=s.indexOf(e);-1!==n&&s.splice(n,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(t){if(0===this.toRespond.length){var r=[t].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},r.prototype._tryProject=function(t){var r;try{r=this.project.apply(this,t)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(K);var $a={},vk=$a&&$a.__decorate||function(r,e,t,$){var o,a=arguments.length,c=a<3?e:null===$?$=Object.getOwnPropertyDescriptor(e,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,e,t,$);else for(var p=r.length-1;p>=0;p--)(o=r[p])&&(c=(a<3?o(c):a>3?o(e,t,c):o(e,t))||c);return a>3&&c&&Object.defineProperty(e,t,c),c},mda=$a&&$a.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},Yx=$a&&$a.__awaiter||function(r,e,t,$){return new(t||(t=Promise))(function(o,a){function c(r){try{n($.next(r))}catch(e){a(e)}}function p(r){try{n($.throw(r))}catch(e){a(e)}}function n(r){var e;r.done?o(r.value):(e=r.value,e instanceof t?e:new t(function(r){r(e)})).then(c,p)}n(($=$.apply(r,e||[])).next())})};Object.defineProperty($a,"__esModule",{value:!0});var Uc={},Bda=Uc&&Uc.__awaiter||function(t,e,r,$){return new(r||(r=Promise))(function(n,o){function u(t){try{a($.next(t))}catch(e){o(e)}}function i(t){try{a($.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(u,i)}a(($=$.apply(t,e||[])).next())})};Object.defineProperty(Uc,"__esModule",{value:!0});var Kg={config:{uri:"https://countries.trevorblades.com/",pubsub:"wss://pubsub.youvolio.com/subscriptions",onRequest(){return Bda(this,void 0,void 0,function*(){return new Headers})}},defaults:{error:t=>h.html`
        <p style="color: black">
          ${t}
        </p>
      `,loading:()=>h.html`
        <div style="text-align: center;">
          <rx-loading palette="danger"></rx-loading>
        </div>
      `}};function Tda(t){return Kg=t,Uc.GraphqlSettings=Kg}Uc.GraphqlSettings=Kg;var Ux=Tda;Uc.setConfig=Ux;var Jk={},aea=Jk&&Jk.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{s(n.next(t))}catch(e){o(e)}}function $(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,$)}s((n=n.apply(t,e||[])).next())})};Object.defineProperty(Jk,"__esModule",{value:!0});Ux({config:{uri:"https://countries.trevorblades.com/",pubsub:"wss://pubsub.youvolio.com/subscriptions",onRequest(){return aea(this,void 0,void 0,function*(){return new Headers})}},defaults:{error:t=>h.html`
        <p style="color: black">
          ${t}
        </p>
      `,loading:()=>h.html`
        <div style="text-align: center;">
          <rx-loading palette="danger"></rx-loading>
        </div>
      `}});var Kk={};function Rx(e){for(var r in e)Kk.hasOwnProperty(r)||(Kk[r]=e[r])}function Pk(r){for(;r;){var e=r,o=e.closed,c=e.destination,t=e.isStopped;if(o||t)return!1;r=c&&c instanceof u?c:null}return!0}function He(n){return"function"==typeof n}var Cea=!1,Xa={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&new Error().stack;Cea=e},get useDeprecatedSynchronousErrorHandling(){return Cea}};function Be(r){setTimeout(function(){throw r},0)}var Qi={closed:!0,next:function(r){},error:function(r){if(Xa.useDeprecatedSynchronousErrorHandling)throw r;Be(r)},complete:function(){}};var Dc=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();function Qx(t){return null!==t&&"object"==typeof t}var Wea=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,o){return o+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),Ii=Wea;var U=function(){function r(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var i;return r.prototype.unsubscribe=function(){var i;if(!this.closed){var t=this._parentOrParents,s=this._unsubscribe,n=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof r)t.remove(this);else if(null!==t)for(var e=0;e<t.length;++e){t[e].remove(this)}if(He(s))try{s.call(this)}catch(c){i=c instanceof Ii?Ox(c.errors):[c]}if(Dc(n)){e=-1;for(var o=n.length;++e<o;){var u=n[e];if(Qx(u))try{u.unsubscribe()}catch(c){i=i||[],c instanceof Ii?i=i.concat(Ox(c.errors)):i.push(c)}}}if(i)throw new Ii(i)}},r.prototype.add=function(i){var t=i;if(!i)return r.EMPTY;switch(typeof i){case"function":t=new r(i);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var s=t;(t=new r)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.");}var n=t._parentOrParents;if(null===n)t._parentOrParents=this;else if(n instanceof r){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[t]:e.push(t),t},r.prototype.remove=function(r){var i=this._subscriptions;if(i){var t=i.indexOf(r);-1!==t&&i.splice(t,1)}},r.EMPTY=((i=new r).closed=!0,i),r}();function Ox(r){return r.reduce(function(r,i){return r.concat(i instanceof Ii?i.errors:i)},[])}var Ai=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();b();var u=function(r){function t(e,i,o){var s=r.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Qi;break;case 1:if(!e){s.destination=Qi;break}if("object"==typeof e){e instanceof t?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new Lx(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new Lx(s,e,i,o);}return s}return a(t,r),t.prototype[Ai]=function(){return this},t.create=function(r,e,i){var o=new t(r,e,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(U);var Lx=function(r){function t(t,e,i,o){var s,n=r.call(this)||this;n._parentSubscriber=t;var p=n;return He(e)?s=e:e&&(s=e.next,i=e.error,o=e.complete,e!==Qi&&(p=Object.create(e),He(p.unsubscribe)&&n.add(p.unsubscribe.bind(p)),p.unsubscribe=n.unsubscribe.bind(n))),n._context=p,n._next=s,n._error=i,n._complete=o,n}return a(t,r),t.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Xa.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},t.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=Xa.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):Be(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;Be(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};Xa.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),Xa.useDeprecatedSynchronousErrorHandling)throw e;Be(e)}},t.prototype.__tryOrSetError=function(r,t,e){if(!Xa.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(i){return Xa.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=i,r.syncErrorThrown=!0,!0):(Be(i),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(u);function sfa(r,e,$){if(r){if(r instanceof u)return r;if(r[Ai])return r[Ai]()}return r||e||$?new u(r,e,$):new u(Qi)}var sg=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function yfa(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}:mb}function mb(){}var R=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var o=new r;return o.source=this,o.operator=e,o},r.prototype.subscribe=function(r,e,o){var t=this.operator,i=sfa(r,e,o);if(t?i.add(t.call(i,this.source)):i.add(this.source||Xa.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Xa.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){Xa.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),Pk(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var o=this;return new(e=Kx(e))(function(e,t){var i;i=o.subscribe(function(e){try{r(e)}catch(o){t(o),i&&i.unsubscribe()}},t,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[sg]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:yfa(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=Kx(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},r.create=function(e){return new r(e)},r}();function Kx(r){if(r||(r=Xa.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var Vfa=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),Rc=Vfa;b();var Jx=function(i){function t(t,e){var r=i.call(this)||this;return r.subject=t,r.subscriber=e,r.closed=!1,r}return a(t,i),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var i=this.subject,t=i.observers;if(this.subject=null,t&&0!==t.length&&!i.isStopped&&!i.closed){var e=t.indexOf(this.subscriber);-1!==e&&t.splice(e,1)}}},t}(U);b();var Ix=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return a(r,t),r}(u);var Ba=function(t){function r(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return a(r,t),r.prototype[Ai]=function(){return new Ix(this)},r.prototype.lift=function(t){var r=new Hx(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new Rc;if(!this.isStopped)for(var r=this.observers,e=r.length,o=r.slice(),i=0;i<e;i++)o[i].next(t)},r.prototype.error=function(t){if(this.closed)throw new Rc;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,o=r.slice(),i=0;i<e;i++)o[i].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new Rc;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),o=0;o<r;o++)e[o].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new Rc;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new Rc;return this.hasError?(t.error(this.thrownError),U.EMPTY):this.isStopped?(t.complete(),U.EMPTY):(this.observers.push(t),new Jx(this,t))},r.prototype.asObservable=function(){var t=new R;return t.source=this,t},r.create=function(t,r){return new Hx(t,r)},r}(R);var Hx=function(t){function r(r,e){var o=t.call(this)||this;return o.destination=r,o.source=e,o}return a(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):U.EMPTY},r}(Ba);function nga(){return function(n){return n.lift(new pga(n))}}b();var pga=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,e){var t=this.connectable;t._refCount++;var r=new rga(n,t),o=e.subscribe(r);return r.closed||(r.connection=t.connect()),o},n}(),rga=function(n){function e(e,t){var r=n.call(this,e)||this;return r.connectable=t,r}return a(e,n),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._refCount;if(e<=0)this.connection=null;else if(n._refCount=e-1,e>1)this.connection=null;else{var t=this.connection,r=n._connection;this.connection=null,!r||t&&r!==t||r.unsubscribe()}}else this.connection=null},e}(u);b();var tga=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new U).add(this.source.subscribe(new yga(this.getSubject(),this))),t.closed&&(this._connection=null,t=U.EMPTY)),t},e.prototype.refCount=function(){return nga()(this)},e}(R);var goa=function(){var t=tga.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}();var yga=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(Ix),foa=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new Gga(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),Gga=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(u);b();var eoa=function(){function t(t,e,r,o){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=o}return t.prototype.call=function(t,e){return e.subscribe(new Qga(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Qga=function(t){function e(e,r,o,i,n){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=o,s.durationSelector=i,s.subjectSelector=n,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var o,i=r.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ba,r.set(e,i);var n=new Gx(e,i,this);if(this.destination.next(n),this.durationSelector){var s=void 0;try{s=this.durationSelector(new Gx(e,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new Wga(e,i,this)))}}i.closed||i.next(o)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(u),Wga=function(t){function e(e,r,o){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=o,i}return a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(u),Gx=function(t){function e(e,r,o){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=o,i}return a(e,t),e.prototype._subscribe=function(t){var e=new U,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&e.add(new iha(r)),e.add(o.subscribe(t)),e},e}(R);var iha=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(U);b();var pha=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Rc;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Ba);b();var sha=function(t){function r(r,i){return t.call(this)||this}return a(r,t),r.prototype.schedule=function(t,r){return void 0===r&&(r=0),this},r}(U);b();var _f=function(t){function i(i,e){var n=t.call(this,i,e)||this;return n.scheduler=i,n.work=e,n.pending=!1,n}return a(i,t),i.prototype.schedule=function(t,i){if(void 0===i&&(i=0),this.closed)return this;this.state=t;var e=this.id,n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},i.prototype.requestAsyncId=function(t,i,e){return void 0===e&&(e=0),setInterval(t.flush.bind(t,this),e)},i.prototype.recycleAsyncId=function(t,i,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return i;clearInterval(i)},i.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,i){var e=!1,n=void 0;try{this.work(t)}catch(s){e=!0,n=!!s&&s||new Error(s)}if(e)return this.unsubscribe(),n},i.prototype._unsubscribe=function(){var t=this.id,i=this.scheduler,e=i.actions,n=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&e.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null},i}(sha);b();var Cha=function(t){function e(e,r){var s=t.call(this,e,r)||this;return s.scheduler=e,s.work=r,s}return a(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,s){return void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,s):e.flush(this)},e}(_f);var zx=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();b();var yf=function(e){function t(r,o){void 0===o&&(o=zx.now);var i=e.call(this,r,function(){return t.delegate&&t.delegate!==i?t.delegate.now():o()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return a(t,e),t.prototype.schedule=function(r,o,i){return void 0===o&&(o=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,o,i):e.prototype.schedule.call(this,r,o,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(zx);b();var Kha=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return a(r,e),r}(yf);var Rha=new Kha(Cha);var Sha,Wha;var yx=new R(function(e){return e.complete()});function aia(e){return e?bia(e):yx}function bia(e){return new R(function($){return e.schedule(function(){return $.complete()})})}function hia(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var $=r[r.length-1];return Fl($)?(r.pop(),Kl(r,$)):oia(r)}function Fl(e){return e&&"function"==typeof e.schedule}function oia(r,e){return e?Kl(r,e):new R(xx(r))}var xx=function(r){return function(t){for(var e=0,o=r.length;e<o&&!t.closed;e++)t.next(r[e]);t.complete()}};function Kl(e,r){return new R(function($){var t=new U,c=0;return t.add(r.schedule(function(){c!==e.length?($.next(e[c++]),$.closed||t.add(this.schedule())):$.complete()})),t})}function uia(r,e){return e?new R(function($){return e.schedule(Fia,0,{error:r,subscriber:$})}):new R(function(e){return e.error(r)})}function Fia(r){var e=r.error;r.subscriber.error(e)}(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(Wha||(Sha=Wha={},Sha));var tc=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete();}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r();}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return hia(this.value);case"E":return uia(this.error);case"C":return aia();}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();b();var doa=function(){function e(e,r){void 0===r&&(r=0),this.scheduler=e,this.delay=r}return e.prototype.call=function(e,r){return r.subscribe(new vx(e,this.scheduler,this.delay))},e}();var vx=function(e){function r(r,t,s){void 0===s&&(s=0);var i=e.call(this,r)||this;return i.scheduler=t,i.delay=s,i}return a(r,e),r.dispatch=function(e){var r=e.notification,t=e.destination;r.observe(t),this.unsubscribe()},r.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(r.dispatch,this.delay,new lja(e,this.destination)))},r.prototype._next=function(e){this.scheduleMessage(tc.createNext(e))},r.prototype._error=function(e){this.scheduleMessage(tc.createError(e)),this.unsubscribe()},r.prototype._complete=function(){this.scheduleMessage(tc.createComplete()),this.unsubscribe()},r}(u);var lja=function(){return function(e,r){this.notification=e,this.destination=r}}();b();var boa=function(e){function t(t,r,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new Eja(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,o=i.length;if(this.closed)throw new Rc;if(this.isStopped||this.hasError?t=U.EMPTY:(this.observers.push(e),t=new Jx(this,e)),n&&e.add(e=new vx(e,n)),r)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||Rha).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(e-i[o].time<r);)o++;return n>t&&(o=Math.max(o,n-t)),o>0&&i.splice(0,o),i},t}(Ba);var Eja=function(){return function(e,t){this.time=e,this.value=t}}();b();var Vg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),U.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),U.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ba);var Jja=1,$l={};function Rja(e){var $=$l[e];$&&$()}var sx={setImmediate:function(e){var $=Jja++;return $l[$]=e,Promise.resolve().then(function(){return Rja($)}),$},clearImmediate:function(e){delete $l[e]}};b();var Uja=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return a(t,e),t.prototype.requestAsyncId=function(t,i,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,i,r):(t.actions.push(this),t.scheduled||(t.scheduled=sx.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,i,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,i,r);0===t.actions.length&&(sx.clearImmediate(i),t.scheduled=void 0)},t}(_f);b();var Wja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,i=-1,s=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<s&&(e=r.shift()));if(this.active=!1,t){for(;++i<s&&(e=r.shift());)e.unsubscribe();throw t}},t}(yf);var dm=new Wja(Uja);var _na=new yf(_f);b();var nka=function(t){function e(e,n){var c=t.call(this,e,n)||this;return c.scheduler=e,c.work=n,c}return a(e,t),e.prototype.requestAsyncId=function(e,n,c){return void 0===c&&(c=0),null!==c&&c>0?t.prototype.requestAsyncId.call(this,e,n,c):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,c){if(void 0===c&&(c=0),null!==c&&c>0||null===c&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,c);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(_f);b();var tka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,i=this.actions,r=-1,n=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<n&&(e=i.shift()));if(this.active=!1,t){for(;++r<n&&(e=i.shift());)e.unsubscribe();throw t}},t}(yf);var $na=new tka(nka);b();var Zna=function(e){function t(t,i){void 0===t&&(t=Eka),void 0===i&&(i=Number.POSITIVE_INFINITY);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=i,r.frame=0,r.index=-1,r}return a(t,e),t.prototype.flush=function(){for(var e,t,i=this.actions,r=this.maxFrames;(t=i[0])&&t.delay<=r&&(i.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=i.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(yf);var Eka=function(e){function t(t,i,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,i)||this;return o.scheduler=t,o.work=i,o.index=r,o.active=!0,o.index=t.index=r,o}return a(t,e),t.prototype.schedule=function(i,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,i,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(i,r)},t.prototype.requestAsyncId=function(e,i,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,i){void 0===i&&(i=0)},t.prototype._execute=function(t,i){if(!0===this.active)return e.prototype._execute.call(this,t,i)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(_f);var Qka=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),fm=Qka;var ela=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),lla=ela;var Xna=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();function nla(r,e,t){if(e){if(!Fl(e))return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return nla(r,t).apply(void 0,u).pipe(wc(function(r){return Dc(r)?e.apply(void 0,r):e(r)}))};t=e}return function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];var c,a=this,$={context:a,subject:c,callbackFunc:r,scheduler:t};return new R(function(u){if(t){var n={args:e,subscriber:u,params:$};return t.schedule(wA,0,n)}if(!c){c=new Vg;try{r.apply(a,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];c.next(r.length<=1?r[0]:r),c.complete()}]))}catch(i){Pk(c)?c.error(i):console.warn(i)}}return c.subscribe(u)})}}function wA(r){var e=this,t=r.args,u=r.subscriber,c=r.params,a=c.callbackFunc,$=c.context,n=c.scheduler,i=c.subject;if(!i){i=c.subject=new Vg;try{a.apply($,t.concat([function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var u=r.length<=1?r[0]:r;e.add(n.schedule(xA,0,{value:u,subject:i}))}]))}catch(o){i.error(o)}}this.add(i.subscribe(u))}function xA(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function wc(r,t){return function(e){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new AA(r,t))}}b();var AA=function(){function r(r,t){this.project=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new BA(r,this.project,this.thisArg))},r}();var BA=function(r){function t(t,e,o){var i=r.call(this,t)||this;return i.project=e,i.count=0,i.thisArg=o||i,i}return a(t,r),t.prototype._next=function(r){var t;try{t=this.project.call(this.thisArg,r,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(u);function FA(r,e,a){if(e){if(!Fl(e))return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return FA(r,a).apply(void 0,t).pipe(wc(function(r){return Dc(r)?e.apply(void 0,r):e(r)}))};a=e}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o={subject:void 0,args:e,callbackFunc:r,scheduler:a,context:this};return new R(function(t){var c=o.context,p=o.subject;if(a)return a.schedule(HA,0,{params:o,subscriber:t,context:c});if(!p){p=o.subject=new Vg;try{r.apply(c,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var a=r.shift();a?p.error(a):(p.next(r.length<=1?r[0]:r),p.complete())}]))}catch($){Pk(p)?p.error($):console.warn($)}}return p.subscribe(t)})}}function HA(r){var e=this,a=r.params,t=r.subscriber,o=r.context,c=a.callbackFunc,p=a.args,$=a.scheduler,i=a.subject;if(!i){i=a.subject=new Vg;try{c.apply(o,p.concat([function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var t=r.shift();if(t)e.add($.schedule(px,0,{err:t,subject:i}));else{var o=r.length<=1?r[0]:r;e.add($.schedule(KA,0,{value:o,subject:i}))}}]))}catch(n){this.add($.schedule(px,0,{err:n,subject:i}))}}this.add(i.subscribe(t))}function KA(r){var e=r.value,a=r.subject;a.next(e),a.complete()}function px(r){var e=r.err;r.subject.error(e)}b();var H=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return a(t,r),t.prototype.notifyNext=function(r,t,e,i,o){this.destination.next(t)},t.prototype.notifyError=function(r,t){this.destination.error(r)},t.prototype.notifyComplete=function(r){this.destination.complete()},t}(u);function C(e,r,$,s,b){if(void 0===b&&(b=new Ac(e,$,s)),!b.closed)return r instanceof R?r.subscribe(b):mx(r)(b)}b();var Ac=function(t){function r(r,e,i){var n=t.call(this)||this;return n.parent=r,n.outerValue=e,n.outerIndex=i,n.index=0,n}return a(r,t),r.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},r.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(u);var UA=function(r){return function(t){return r.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Be),t}};function VA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Bc=VA();var aB=function(r){return function(e){for(var t=r[Bc]();;){var o=t.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof t.return&&e.add(function(){t.return&&t.return()}),e}};var bB=function(e){return function(r){var b=e[sg]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(r)}};var ox=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function nx(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var mx=function(r){if(r&&"function"==typeof r[sg])return bB(r);if(ox(r))return xx(r);if(nx(r))return UA(r);if(r&&"function"==typeof r[Bc])return aB(r);var e=Qx(r)?"an invalid object":"'"+r+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};b();var lx={};var Wna=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new BB(t,this.resultSelector))},t}();var BB=function(t){function e(e,r){var s=t.call(this,e)||this;return s.resultSelector=r,s.active=0,s.values=[],s.observables=[],s}return a(e,t),e.prototype._next=function(t){this.values.push(lx),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var s=t[r];this.add(C(this,s,s,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,s,i){var o=this.values,$=o[r],n=this.toRespond?$===lx?--this.toRespond:this.toRespond:0;o[r]=e,0===n&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(H);function HB(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(HB(function(r,i){return kh(e(r,i)).pipe(wc(function(e,o){return t(r,e,i,o)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new mC(e,r))})}function kh(e,r){return r?TB(e,r):e instanceof R?e:new R(mx(e))}function TB(e,r){if(null!=e){if(iC(e))return XB(e,r);if(nx(e))return aC(e,r);if(ox(e))return Kl(e,r);if(jC(e)||"string"==typeof e)return eC(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function XB(e,r){return new R(function(n){var t=new U;return t.add(r.schedule(function(){var u=e[sg]();t.add(u.subscribe({next:function(e){t.add(r.schedule(function(){return n.next(e)}))},error:function(e){t.add(r.schedule(function(){return n.error(e)}))},complete:function(){t.add(r.schedule(function(){return n.complete()}))}}))})),t})}function aC(e,r){return new R(function(n){var t=new U;return t.add(r.schedule(function(){return e.then(function(e){t.add(r.schedule(function(){n.next(e),t.add(r.schedule(function(){return n.complete()}))}))},function(e){t.add(r.schedule(function(){return n.error(e)}))})})),t})}function eC(e,r){if(!e)throw new Error("Iterable cannot be null");return new R(function(t){var a,n=new U;return n.add(function(){a&&"function"==typeof a.return&&a.return()}),n.add(r.schedule(function(){a=e[Bc](),n.add(r.schedule(function(){if(!t.closed){var e,r;try{var n=a.next();e=n.value,r=n.done}catch(o){return void t.error(o)}r?t.complete():(t.next(e),this.schedule())}}))})),n})}function iC(e){return e&&"function"==typeof e[sg]}function jC(r){return r&&"function"==typeof r[Bc]}b();var mC=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new sC(e,this.project,this.concurrent))},e}();var sC=function(e){function t(t,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var i=new Ac(this,void 0,void 0);this.destination.add(i),C(this,e,t,r,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,i,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(H);var Una=function(){return Object.prototype.toString}();function EC(e,t,r,n){return He(r)&&(n=r,r=void 0),n?EC(e,t,r).pipe(wc(function(e){return Dc(e)?n.apply(void 0,e):n(e)})):new R(function(n){jx(e,t,function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)},n,r)})}function jx(e,t,r,n,i){var o;if(QC(e)){var $=e;e.addEventListener(t,r,i),o=function(){return $.removeEventListener(t,r,i)}}else if(PC(e)){var p=e;e.on(t,r),o=function(){return p.off(t,r)}}else if(MC(e)){var u=e;e.addListener(t,r),o=function(){return u.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var v=0,a=e.length;v<a;v++)jx(e[v],t,r,n,i)}n.add(o)}function MC(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function PC(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function QC(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function WC(r,e,t){return t?WC(r,e).pipe(wc(function(r){return Dc(r)?t.apply(void 0,r):t(r)})):new R(function(t){var $,n=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.next(1===r.length?r[0]:r)};try{$=r(n)}catch(o){return void t.error(o)}if(He(e))return function(){return e(n,$)}})}function ZC(r){return!Dc(r)&&r-parseFloat(r)+1>=0}var Sna=new R(mb);function hx(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(0===r.length)return yx;var $=r[0],o=r.slice(1);return 1===r.length&&Dc($)?hx.apply(void 0,$):new R(function(r){var e=function(){return r.add(hx.apply(void 0,o).subscribe(r))};return kh($).subscribe({next:function(e){r.next(e)},error:e,complete:e})})}b();var Qna=function(){function r(r,t){this.predicate=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new mD(r,this.predicate,this.thisArg))},r}(),mD=function(r){function t(t,i,e){var n=r.call(this,t)||this;return n.predicate=i,n.thisArg=e,n.count=0,n}return a(t,r),t.prototype._next=function(r){var t;try{t=this.predicate.call(this.thisArg,r,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(r)},t}(u);b();var Ona=function(){function e(){}return e.prototype.call=function(e,r){return r.subscribe(new uD(e))},e}();var uD=function(e){function r(r){var t=e.call(this,r)||this;return t.hasFirst=!1,t.observables=[],t.subscriptions=[],t}return a(r,e),r.prototype._next=function(e){this.observables.push(e)},r.prototype._complete=function(){var e=this.observables,r=e.length;if(0===r)this.destination.complete();else{for(var t=0;t<r&&!this.hasFirst;t++){var s=e[t],i=C(this,s,s,t);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},r.prototype.notifyNext=function(e,r,t,s,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==t){var $=this.subscriptions[o];$.unsubscribe(),this.remove($)}this.subscriptions=null}this.destination.next(r)},r}(H);b();var Mna=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new yD(t,this.resultSelector))},t}();var yD=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof r?r:null,o.values=i,o}return a(e,t),e.prototype._next=function(t){var e=this.iterators;Dc(t)?e.push(new GD(t)):"function"==typeof t[Bc]?e.push(new ED(t[Bc]())):e.push(new LD(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var i=t[r];if(i.stillUnsubscribed)this.destination.add(i.subscribe(i,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){if("function"==typeof(s=t[i]).hasValue&&!s.hasValue())return}var o=!1,n=[];for(i=0;i<e;i++){var s,u=(s=t[i]).next();if(s.hasCompleted()&&(o=!0),u.done)return void r.complete();n.push(u.value)}this.resultSelector?this._tryresultSelector(n):r.next(n),o&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(u);var ED=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),GD=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Bc]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),LD=function(t){function e(e,r,i){var o=t.call(this,e)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return a(e,t),e.prototype[Bc]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return C(this,this.observable,this,e)},e}(H);b();var Lna=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,r){return r.subscribe(new PD(t,this.durationSelector))},t}(),PD=function(t){function r(r,e){var i=t.call(this,r)||this;return i.durationSelector=e,i.hasValue=!1,i}return a(r,t),r.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var r=void 0;try{r=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var e=C(this,r);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},r.prototype.clearThrottle=function(){var t=this.value,r=this.hasValue,e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},r.prototype.notifyNext=function(t,r,e,i){this.clearThrottle()},r.prototype.notifyComplete=function(){this.clearThrottle()},r}(H);b();var Jna=function(){function r(r){this.closingNotifier=r}return r.prototype.call=function(r,e){return e.subscribe(new ZD(r,this.closingNotifier))},r}(),ZD=function(r){function e(e,t){var i=r.call(this,e)||this;return i.buffer=[],i.add(C(i,t)),i}return a(e,r),e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(r,e,t,i,u){var $=this.buffer;this.buffer=[],this.destination.next($)},e}(H);b();var Ina=function(){function t(t,r){this.bufferSize=t,this.startBufferEvery=r,this.subscriberClass=r&&t!==r?lE:jE}return t.prototype.call=function(t,r){return r.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),jE=function(t){function r(r,e){var i=t.call(this,r)||this;return i.bufferSize=e,i.buffer=[],i}return a(r,t),r.prototype._next=function(t){var r=this.buffer;r.push(t),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},r.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},r}(u),lE=function(t){function r(r,e,i){var u=t.call(this,r)||this;return u.bufferSize=e,u.startBufferEvery=i,u.buffers=[],u.count=0,u}return a(r,t),r.prototype._next=function(t){var r=this.bufferSize,e=this.startBufferEvery,i=this.buffers,u=this.count;this.count++,u%e==0&&i.push([]);for(var n=i.length;n--;){var f=i[n];f.push(t),f.length===r&&(i.splice(n,1),this.destination.next(f))}},r.prototype._complete=function(){for(var r=this.buffers,e=this.destination;r.length>0;){var i=r.shift();i.length>0&&e.next(i)}t.prototype._complete.call(this)},r}(u);b();var Gna=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new pE(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),nE=function(){return function(){this.buffer=[]}}(),pE=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=n,o.maxBufferSize=i,o.scheduler=s,o.contexts=[];var a=o.openContext();if(o.timespanOnly=null==n||n<0,o.timespanOnly){var u={subscriber:o,context:a,bufferTimeSpan:r};o.add(a.closeAction=s.schedule(gx,r,u))}else{var c={subscriber:o,context:a},f={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:o,scheduler:s};o.add(a.closeAction=s.schedule(fx,r,c)),o.add(s.schedule(xE,n,f))}return o}return a(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var s=r[i],o=s.buffer;o.push(e),o.length==this.maxBufferSize&&(t=s)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(gx,r,n))}},t.prototype.openContext=function(){var e=new nE;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(u);function gx(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function xE(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,s=n.openContext();n.closed||(n.add(s.closeAction=i.schedule(fx,r,{subscriber:n,context:s})),this.schedule(e,t))}function fx(e){var t=e.subscriber,r=e.context;t.closeContext(r)}b();var Ena=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new BE(t,this.openings,this.closingSelector))},t}(),BE=function(t){function e(e,r,o){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=o,i.contexts=[],i.add(C(i,r)),i}return a(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,o=0;o<r;o++)e[o].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var o=r.shift();o.subscription.unsubscribe(),o.buffer=null,o.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,o,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(r){this._error(r)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,o=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new U,o={buffer:[],subscription:r};e.push(o);var i=C(this,t,o);!i||i.closed?this.closeBuffer(o):(i.context=o,this.add(i),r.add(i))},e}(H);b();var Cna=function(){function r(r){this.closingSelector=r}return r.prototype.call=function(r,t){return t.subscribe(new FE(r,this.closingSelector))},r}(),FE=function(r){function t(t,e){var i=r.call(this,t)||this;return i.closingSelector=e,i.subscribing=!1,i.openBuffer(),i}return a(t,r),t.prototype._next=function(r){this.buffer.push(r)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(r,t,e,i,n){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var t,e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];try{t=(0,this.closingSelector)()}catch(i){return this.error(i)}r=new U,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(C(this,t)),this.subscribing=!1},t}(H);b();var Ana=function(){function r(r){this.selector=r}return r.prototype.call=function(r,t){return t.subscribe(new PE(r,this.selector,this.caught))},r}(),PE=function(r){function t(t,e,i){var c=r.call(this,t)||this;return c.selector=e,c.caught=i,c}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(c){return void r.prototype.error.call(this,c)}this._unsubscribeAndRecycle();var i=new Ac(this,void 0,void 0);this.add(i),C(this,e,void 0,void 0,i)}},t}(H);b();var Mpa=function(){function t(t,r){this.predicate=t,this.source=r}return t.prototype.call=function(t,r){return r.subscribe(new _E(t,this.predicate,this.source))},t}(),_E=function(t){function r(r,i,e){var n=t.call(this,r)||this;return n.predicate=i,n.source=e,n.count=0,n.index=0,n}return a(r,t),r.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},r.prototype._tryPredicate=function(t){var r;try{r=this.predicate(t,this.index++,this.source)}catch(i){return void this.destination.error(i)}r&&this.count++},r.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},r}(u);b();var wna=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new dF(t,this.durationSelector))},t}(),dF=function(t){function e(e,r){var o=t.call(this,e)||this;return o.durationSelector=r,o.hasValue=!1,o.durationSubscription=null,o}return a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=C(this,e))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,o,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(H);b();var una=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new pF(e,this.dueTime,this.scheduler))},e}(),pF=function(e){function t(t,u,i){var s=e.call(this,t)||this;return s.dueTime=u,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(vF,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(u);function vF(e){e.debouncedNext()}b();var rna=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new zF(t,this.defaultValue))},t}(),zF=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(u);b();var pna=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new DF(e,this.delay,this.scheduler))},e}(),DF=function(e){function t(t,i,r){var s=e.call(this,t)||this;return s.delay=i,s.scheduler=r,s.queue=[],s.active=!1,s.errored=!1,s}return a(t,e),t.dispatch=function(e){for(var t=e.source,i=t.queue,r=e.scheduler,s=e.destination;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var o=Math.max(0,i[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,i=new HF(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(tc.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(tc.createComplete()),this.unsubscribe()},t}(u),HF=function(){return function(e,t){this.time=e,this.notification=t}}();b();var nna=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new NF(e,this.delayDurationSelector))},e}(),NF=function(e){function t(t,i){var r=e.call(this,t)||this;return r.delayDurationSelector=i,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return a(t,e),t.prototype.notifyNext=function(e,t,i,r,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var i=this.delayDurationSelector(e,t);i&&this.tryDelay(i,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var i=C(this,e,t);i&&!i.closed&&(this.destination.add(i),this.delayNotifierSubscriptions.push(i))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(H),lna=function(e){function t(t,i){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=i,r}return a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new PF(e,this.source))},t}(R),PF=function(e){function t(t,i){var r=e.call(this)||this;return r.parent=t,r.source=i,r.sourceSubscribed=!1,r}return a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(u);b();var jna=function(){function e(){}return e.prototype.call=function(e,r){return r.subscribe(new VF(e))},e}(),VF=function(e){function r(r){return e.call(this,r)||this}return a(r,e),r.prototype._next=function(e){e.observe(this.destination)},r}(u);b();var hna=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new YF(t,this.keySelector,this.flushes))},t}(),YF=function(t){function e(e,r,i){var s=t.call(this,e)||this;return s.keySelector=r,s.values=new Set,i&&s.add(C(s,i)),s}return a(e,t),e.prototype.notifyNext=function(t,e,r,i,s){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(i){return void r.error(i)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(H);b();var fna=function(){function t(t,r){this.compare=t,this.keySelector=r}return t.prototype.call=function(t,r){return r.subscribe(new _F(t,this.compare,this.keySelector))},t}(),_F=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof e&&(n.compare=e),n}return a(r,t),r.prototype.compare=function(t,r){return t===r},r.prototype._next=function(t){var r;try{var e=this.keySelector;r=e?e(t):t}catch(n){return this.destination.error(n)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,r)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=r,this.destination.next(t))},r}(u);b();var dna=function(){function r(r){this.errorFactory=r}return r.prototype.call=function(r,t){return t.subscribe(new bG(r,this.errorFactory))},r}(),bG=function(r){function t(t,e){var o=r.call(this,t)||this;return o.errorFactory=e,o.hasValue=!1,o}return a(t,r),t.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(t){r=t}this.destination.error(r)},t}(u);b();var bna=function(){function t(t){if(this.total=t,this.total<0)throw new fm}return t.prototype.call=function(t,r){return r.subscribe(new lG(t,this.total))},t}(),lG=function(t){function r(r,e){var $=t.call(this,r)||this;return $.total=e,$.count=0,$}return a(r,t),r.prototype._next=function(t){var r=this.total,e=++this.count;e<=r&&(this.destination.next(t),e===r&&(this.destination.complete(),this.unsubscribe()))},r}(u);b();var _ma=function(){function t(t,r,e){this.predicate=t,this.thisArg=r,this.source=e}return t.prototype.call=function(t,r){return r.subscribe(new tG(t,this.predicate,this.thisArg,this.source))},t}(),tG=function(t){function r(r,e,i,o){var n=t.call(this,r)||this;return n.predicate=e,n.thisArg=i,n.source=o,n.index=0,n.thisArg=i||n,n}return a(r,t),r.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},r.prototype._next=function(t){var r=!1;try{r=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(e){return void this.destination.error(e)}r||this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(u);b();var Zma=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new CG(t))},t}(),CG=function(t){function r(r){var i=t.call(this,r)||this;return i.hasCompleted=!1,i.hasSubscription=!1,i}return a(r,t),r.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(C(this,t)))},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},r.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r}(H);function GG(t,r){return r?function(e){return e.pipe(GG(function(e,i){return kh(t(e,i)).pipe(wc(function(t,o){return r(e,t,i,o)}))}))}:function(r){return r.lift(new KG(t))}}b();var KG=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new OG(t,this.project))},t}(),OG=function(t){function r(r,e){var i=t.call(this,r)||this;return i.project=e,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return a(r,t),r.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},r.prototype.tryNext=function(t){var r,e=this.index++;try{r=this.project(t,e)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(r,t,e)},r.prototype._innerSub=function(t,r,e){var i=new Ac(this,void 0,void 0);this.destination.add(i),C(this,t,r,e,i)},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r}(H);b();var Yma=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new UG(t,this.project,this.concurrent,this.scheduler))},t}();var UG=function(t){function e(e,r,i,s){var o=t.call(this,e)||this;return o.project=r,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return a(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,s=t.index;e.subscribeToProjection(r,i,s)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){r.next(t);try{var s=(0,this.project)(t,i);if(this.scheduler){var o={subscriber:this,result:s,value:t,index:i};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(s,t,i)}catch(n){r.error(n)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add(C(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,s){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(H);b();var Xma=function(){function r(r){this.callback=r}return r.prototype.call=function(r,i){return i.subscribe(new eH(r,this.callback))},r}(),eH=function(r){function i(i,$){var e=r.call(this,i)||this;return e.add(new U($)),e}return a(i,r),i}(u);b();var Wma=function(){function t(t,e,i,r){this.predicate=t,this.source=e,this.yieldIndex=i,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new qH(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();var qH=function(t){function e(e,i,r,n,o){var s=t.call(this,e)||this;return s.predicate=i,s.source=r,s.yieldIndex=n,s.thisArg=o,s.index=0,s}return a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,i=this.thisArg,r=this.index++;try{e.call(i||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(u);b();var Uma=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new zH(r))},r}(),zH=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return a(e,r),e.prototype._next=function(r){},e}(u);b();var Sma=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new BH(t))},t}(),BH=function(t){function r(r){return t.call(this,r)||this}return a(r,t),r.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete()},r.prototype._next=function(t){this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(u);b();var Qma=function(){function t(t){if(this.total=t,this.total<0)throw new fm}return t.prototype.call=function(t,r){return r.subscribe(new JH(t,this.total))},t}(),JH=function(t){function r(r,e){var i=t.call(this,r)||this;return i.total=e,i.ring=new Array,i.count=0,i}return a(r,t),r.prototype._next=function(t){var r=this.ring,e=this.total,i=this.count++;r.length<e?r.push(t):r[i%e]=t},r.prototype._complete=function(){var t=this.destination,r=this.count;if(r>0)for(var e=this.count>=this.total?this.total:this.count,i=this.ring,n=0;n<e;n++){var a=r++%e;t.next(i[a])}t.complete()},r}(u);b();var Oma=function(){function r(r){this.value=r}return r.prototype.call=function(r,t){return t.subscribe(new UH(r,this.value))},r}(),UH=function(r){function t(t,e){var $=r.call(this,t)||this;return $.value=e,$}return a(t,r),t.prototype._next=function(r){this.destination.next(this.value)},t}(u);b();var Mma=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new eI(t))},t}(),eI=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype._next=function(t){this.destination.next(tc.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(tc.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(tc.createComplete()),t.complete()},e}(u);b();var Kma=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new qI(t,this.accumulator,this.seed,this.hasSeed))},t}(),qI=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=i,s.hasSeed=n,s.index=0,s}return a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(u);b();var Ima=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new xI(t,this.accumulator,this.seed,this.concurrent))},t}();var xI=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s.acc=i,s.concurrent=n,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,t,e)}catch(n){return r.error(n)}this.active++,this._innerSub(i,t,e)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){var i=new Ac(this,void 0,void 0);this.destination.add(i),C(this,t,e,r,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,n){var s=this.destination;this.acc=e,this.hasValue=!0,s.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(H);var Gma=function(){function t(t,r){this.subjectFactory=t,this.selector=r}return t.prototype.call=function(t,r){var e=this.selector,o=this.subjectFactory(),c=e(o).subscribe(t);return c.add(r.subscribe(o)),c},t}();b();var Ema=function(){function r(r){this.nextSources=r}return r.prototype.call=function(r,e){return e.subscribe(new KI(r,this.nextSources))},r}(),KI=function(r){function e(e,t){var o=r.call(this,e)||this;return o.destination=e,o.nextSources=t,o}return a(e,r),e.prototype.notifyError=function(r,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(r){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var e=new Ac(this,void 0,void 0);this.destination.add(e),C(this,r,void 0,void 0,e)}else this.destination.complete()},e}(H);b();var Dma=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new RI(r))},r}(),RI=function(r){function e(e){var i=r.call(this,e)||this;return i.hasPrev=!1,i}return a(e,r),e.prototype._next=function(r){var e;this.hasPrev?e=[this.prev,r]:this.hasPrev=!0,this.prev=r,e&&this.destination.next(e)},e}(u);b();var Bma=function(){function e(e,r){this.count=e,this.source=r}return e.prototype.call=function(e,r){return r.subscribe(new bJ(e,this.count,this.source))},e}(),bJ=function(e){function r(r,t,u){var i=e.call(this,r)||this;return i.count=t,i.source=u,i}return a(r,e),r.prototype.complete=function(){if(!this.isStopped){var r=this.source,t=this.count;if(0===t)return e.prototype.complete.call(this);t>-1&&(this.count=t-1),r.subscribe(this._unsubscribeAndRecycle())}},r}(u);b();var zma=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new jJ(t,this.notifier,e))},t}(),jJ=function(t){function e(e,i,r){var s=t.call(this,e)||this;return s.notifier=i,s.source=r,s.sourceIsBeingSubscribedTo=!0,s}return a(e,t),e.prototype.notifyNext=function(t,e,i,r,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new Ba;try{e=(0,this.notifier)(this.notifications)}catch(i){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=C(this,e)},e}(H);b();var yma=function(){function r(r,t){this.count=r,this.source=t}return r.prototype.call=function(r,t){return t.subscribe(new oJ(r,this.count,this.source))},r}(),oJ=function(r){function t(t,i,e){var c=r.call(this,t)||this;return c.count=i,c.source=e,c}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var i=this.source,e=this.count;if(0===e)return r.prototype.error.call(this,t);e>-1&&(this.count=e-1),i.subscribe(this._unsubscribeAndRecycle())}},t}(u);b();var wma=function(){function r(r,e){this.notifier=r,this.source=e}return r.prototype.call=function(r,e){return e.subscribe(new uJ(r,this.notifier,this.source))},r}(),uJ=function(r){function e(e,t,i){var s=r.call(this,e)||this;return s.notifier=t,s.source=i,s}return a(e,r),e.prototype.error=function(e){if(!this.isStopped){var t=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{t=new Ba;try{i=(0,this.notifier)(t)}catch(u){return r.prototype.error.call(this,u)}s=C(this,i)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=s,t.next(e)}},e.prototype._unsubscribe=function(){var r=this.errors,e=this.retriesSubscription;r&&(r.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(r,e,t,i,s){var u=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=u,this.source.subscribe(this)},e}(H);b();var uma=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new yJ(t),i=e.subscribe(r);return i.add(C(r,this.notifier)),i},t}(),yJ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,u){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(H);b();var sma=function(){function e(e,r){this.period=e,this.scheduler=r}return e.prototype.call=function(e,r){return r.subscribe(new GJ(e,this.period,this.scheduler))},e}(),GJ=function(e){function r(r,i,t){var s=e.call(this,r)||this;return s.period=i,s.scheduler=t,s.hasValue=!1,s.add(t.schedule(HJ,i,{subscriber:s,period:i})),s}return a(r,e),r.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},r.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},r}(u);function HJ(e){var r=e.subscriber,i=e.period;r.notifyNext(),this.schedule(e,i)}b();var rma=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new MJ(e,this.compareTo,this.comparator))},e}();var MJ=function(e){function t(t,r,o){var i=e.call(this,t)||this;return i.compareTo=r,i.comparator=o,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new NJ(t,i))),i}return a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;e.length>0&&t.length>0;){var o=e.shift(),i=t.shift(),n=!1;try{n=r?r(o,i):o===i}catch(c){this.destination.error(c)}n||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(u);var NJ=function(e){function t(t,r){var o=e.call(this,t)||this;return o.parent=r,o}return a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(u);b();var qma=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new UJ(e,this.predicate,this.source))},e}(),UJ=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.predicate=r,n.source=i,n.seenValue=!1,n.index=0,n}return a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new lla)},t}(u);b();var pma=function(){function t(t){this.total=t}return t.prototype.call=function(t,i){return i.subscribe(new eK(t,this.total))},t}(),eK=function(t){function i(i,r){var e=t.call(this,i)||this;return e.total=r,e.count=0,e}return a(i,t),i.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},i}(u);b();var nma=function(){function r(r){if(this._skipCount=r,this._skipCount<0)throw new fm}return r.prototype.call=function(r,t){return 0===this._skipCount?t.subscribe(new u(r)):t.subscribe(new oK(r,this._skipCount))},r}(),oK=function(r){function t(t,i){var n=r.call(this,t)||this;return n._skipCount=i,n._count=0,n._ring=new Array(i),n}return a(t,r),t.prototype._next=function(r){var t=this._skipCount,i=this._count++;if(i<t)this._ring[i]=r;else{var n=i%t,e=this._ring,s=e[n];e[n]=r,this.destination.next(s)}},t}(u);b();var lma=function(){function r(r){this.notifier=r}return r.prototype.call=function(r,i){return i.subscribe(new AK(r,this.notifier))},r}(),AK=function(r){function i(i,t){var e=r.call(this,i)||this;e.hasValue=!1;var n=new Ac(e,void 0,void 0);return e.add(n),e.innerSubscription=n,C(e,t,void 0,void 0,n),e}return a(i,r),i.prototype._next=function(i){this.hasValue&&r.prototype._next.call(this,i)},i.prototype.notifyNext=function(r,i,t,e,n){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},i.prototype.notifyComplete=function(){},i}(H);b();var kma=function(){function r(r){this.predicate=r}return r.prototype.call=function(r,i){return i.subscribe(new KK(r,this.predicate))},r}(),KK=function(r){function i(i,t){var e=r.call(this,i)||this;return e.predicate=t,e.skipping=!0,e.index=0,e}return a(i,r),i.prototype._next=function(r){var i=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||i.next(r)},i.prototype.tryCallPredicate=function(r){try{var i=this.predicate(r,this.index++);this.skipping=Boolean(i)}catch(t){this.destination.error(t)}},i}(u);b();var OK=function(e){function r(r,i,s){void 0===i&&(i=0),void 0===s&&(s=dm);var l=e.call(this)||this;return l.source=r,l.delayTime=i,l.scheduler=s,(!ZC(i)||i<0)&&(l.delayTime=0),s&&"function"==typeof s.schedule||(l.scheduler=dm),l}return a(r,e),r.create=function(e,i,s){return void 0===i&&(i=0),void 0===s&&(s=dm),new r(e,i,s)},r.dispatch=function(e){var r=e.source,i=e.subscriber;return this.add(r.subscribe(i))},r.prototype._subscribe=function(e){var i=this.delayTime,s=this.source;return this.scheduler.schedule(r.dispatch,i,{source:s,subscriber:e})},r}(R);var jma=function(){function r(r,e){this.scheduler=r,this.delay=e}return r.prototype.call=function(r,e){return new OK(e,this.delay,this.scheduler).subscribe(r)},r}();function SK(t,r){return"function"==typeof r?function(i){return i.pipe(SK(function(i,e){return kh(t(i,e)).pipe(wc(function(t,n){return r(i,t,e,n)}))}))}:function(r){return r.lift(new TK(t))}}b();var TK=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new UK(t,this.project))},t}(),UK=function(t){function r(r,i){var e=t.call(this,r)||this;return e.project=i,e.index=0,e}return a(r,t),r.prototype._next=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(e){return void this.destination.error(e)}this._innerSub(r,t,i)},r.prototype._innerSub=function(t,r,i){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Ac(this,void 0,void 0);this.destination.add(n),this.innerSubscription=C(this,t,r,i,n)},r.prototype._complete=function(){var r=this.innerSubscription;r&&!r.closed||t.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=null},r.prototype.notifyComplete=function(r){this.destination.remove(r),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},r.prototype.notifyNext=function(t,r,i,e,n){this.destination.next(r)},r}(H);b();var ima=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new ZK(e),i=C(r,this.notifier);return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r},e}(),ZK=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return a(t,e),t.prototype.notifyNext=function(e,t,r,i,n){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(H);b();var hma=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new cL(e,this.predicate,this.inclusive))},e}(),cL=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.predicate=r,n.inclusive=i,n.index=0,n}return a(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(u);b();var fma=function(){function t(t,r,e){this.nextOrObserver=t,this.error=r,this.complete=e}return t.prototype.call=function(t,r){return r.subscribe(new eL(t,this.nextOrObserver,this.error,this.complete))},t}(),eL=function(t){function r(r,e,o,i){var n=t.call(this,r)||this;return n._tapNext=mb,n._tapError=mb,n._tapComplete=mb,n._tapError=o||mb,n._tapComplete=i||mb,He(e)?(n._context=n,n._tapNext=e):e&&(n._context=e,n._tapNext=e.next||mb,n._tapError=e.error||mb,n._tapComplete=e.complete||mb),n}return a(r,t),r.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.next(t)},r.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},r}(u);b();var ema=function(){function t(t,r,e){this.durationSelector=t,this.leading=r,this.trailing=e}return t.prototype.call=function(t,r){return r.subscribe(new jL(t,this.durationSelector,this.leading,this.trailing))},t}(),jL=function(t){function r(r,e,i,o){var n=t.call(this,r)||this;return n.destination=r,n.durationSelector=e,n._leading=i,n._trailing=o,n._hasValue=!1,n}return a(r,t),r.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},r.prototype.send=function(){var t=this._hasValue,r=this._sendValue;t&&(this.destination.next(r),this.throttle(r)),this._hasValue=!1,this._sendValue=null},r.prototype.throttle=function(t){var r=this.tryDurationSelector(t);r&&this.add(this._throttled=C(this,r))},r.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(r){return this.destination.error(r),null}},r.prototype.throttlingDone=function(){var t=this._throttled,r=this._trailing;t&&t.unsubscribe(),this._throttled=null,r&&this.send()},r.prototype.notifyNext=function(t,r,e,i,o){this.throttlingDone()},r.prototype.notifyComplete=function(){this.throttlingDone()},r}(H);b();var cma=function(){function t(t,i,e,r){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new qL(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),qL=function(t){function i(i,e,r,l,n){var a=t.call(this,i)||this;return a.duration=e,a.scheduler=r,a.leading=l,a.trailing=n,a._hasTrailingValue=!1,a._trailingValue=null,a}return a(i,t),i.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(rL,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},i.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},i.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},i}(u);function rL(t){t.subscriber.clearThrottle()}var ama=function(){return function(r,e){this.value=r,this.interval=e}}();b();var $la=function(){function t(t,e,i,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new BL(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),BL=function(t){function e(e,i,r,u,s){var o=t.call(this,e)||this;return o.absoluteTimeout=i,o.waitFor=r,o.withObservable=u,o.scheduler=s,o.action=null,o.scheduleTimeout(),o}return a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(C(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(H);var Zla=function(){return function(t,$){this.value=t,this.timestamp=$}}();b();var Yla=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,o){var r=new IL(t),e=o.subscribe(r);return e.closed||r.add(C(r,this.windowBoundaries)),e},t}(),IL=function(t){function o(o){var r=t.call(this,o)||this;return r.window=new Ba,o.next(r.window),r}return a(o,t),o.prototype.notifyNext=function(t,o,r,e,i){this.openWindow()},o.prototype.notifyError=function(t,o){this._error(t)},o.prototype.notifyComplete=function(t){this._complete()},o.prototype._next=function(t){this.window.next(t)},o.prototype._error=function(t){this.window.error(t),this.destination.error(t)},o.prototype._complete=function(){this.window.complete(),this.destination.complete()},o.prototype._unsubscribe=function(){this.window=null},o.prototype.openWindow=function(){var t=this.window;t&&t.complete();var o=this.destination,r=this.window=new Ba;o.next(r)},o}(H);b();var Xla=function(){function t(t,i){this.windowSize=t,this.startWindowEvery=i}return t.prototype.call=function(t,i){return i.subscribe(new KL(t,this.windowSize,this.startWindowEvery))},t}(),KL=function(t){function i(i,o,n){var r=t.call(this,i)||this;return r.destination=i,r.windowSize=o,r.startWindowEvery=n,r.windows=[new Ba],r.count=0,i.next(r.windows[0]),r}return a(i,t),i.prototype._next=function(t){for(var i=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,o=this.destination,n=this.windowSize,r=this.windows,e=r.length,s=0;s<e&&!this.closed;s++)r[s].next(t);var w=this.count-n+1;if(w>=0&&w%i==0&&!this.closed&&r.shift().complete(),++this.count%i==0&&!this.closed){var u=new Ba;r.push(u),o.next(u)}},i.prototype._error=function(t){var i=this.windows;if(i)for(;i.length>0&&!this.closed;)i.shift().error(t);this.destination.error(t)},i.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},i.prototype._unsubscribe=function(){this.count=0,this.windows=null},i}(u);b();var Wla=function(){function e(e,i,n,r){this.windowTimeSpan=e,this.windowCreationInterval=i,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,i){return i.subscribe(new SL(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),PL=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._numberOfNextedValues=0,i}return a(i,e),i.prototype.next=function(i){this._numberOfNextedValues++,e.prototype.next.call(this,i)},Object.defineProperty(i.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),i}(Ba),SL=function(e){function i(i,n,r,t,o){var u=e.call(this,i)||this;u.destination=i,u.windowTimeSpan=n,u.windowCreationInterval=r,u.maxWindowSize=t,u.scheduler=o,u.windows=[];var s=u.openWindow();if(null!==r&&r>=0){var d={subscriber:u,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:u,scheduler:o};u.add(o.schedule(_w,n,d)),u.add(o.schedule(WL,r,c))}else{var a={subscriber:u,window:s,windowTimeSpan:n};u.add(o.schedule(TL,n,a))}return u}return a(i,e),i.prototype._next=function(e){for(var i=this.windows,n=i.length,r=0;r<n;r++){var t=i[r];t.closed||(t.next(e),t.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(t))}},i.prototype._error=function(e){for(var i=this.windows;i.length>0;)i.shift().error(e);this.destination.error(e)},i.prototype._complete=function(){for(var e=this.windows;e.length>0;){var i=e.shift();i.closed||i.complete()}this.destination.complete()},i.prototype.openWindow=function(){var e=new PL;return this.windows.push(e),this.destination.next(e),e},i.prototype.closeWindow=function(e){e.complete();var i=this.windows;i.splice(i.indexOf(e),1)},i}(u);function TL(e){var i=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&i.closeWindow(r),e.window=i.openWindow(),this.schedule(e,n)}function WL(e){var i=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,t=e.windowCreationInterval,o=n.openWindow(),u={action:this,subscription:null},s={subscriber:n,window:o,context:u};u.subscription=r.schedule(_w,i,s),this.add(u.subscription),this.schedule(e,t)}function _w(e){var i=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),i.closeWindow(n)}b();var Vla=function(){function t(t,n){this.openings=t,this.closingSelector=n}return t.prototype.call=function(t,n){return n.subscribe(new aM(t,this.openings,this.closingSelector))},t}(),aM=function(t){function n(n,o,e){var i=t.call(this,n)||this;return i.openings=o,i.closingSelector=e,i.contexts=[],i.add(i.openSubscription=C(i,o,o)),i}return a(n,t),n.prototype._next=function(t){var n=this.contexts;if(n)for(var o=n.length,e=0;e<o;e++)n[e].window.next(t)},n.prototype._error=function(n){var o=this.contexts;if(this.contexts=null,o)for(var e=o.length,i=-1;++i<e;){var r=o[i];r.window.error(n),r.subscription.unsubscribe()}t.prototype._error.call(this,n)},n.prototype._complete=function(){var n=this.contexts;if(this.contexts=null,n)for(var o=n.length,e=-1;++e<o;){var i=n[e];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},n.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,o=-1;++o<n;){var e=t[o];e.window.unsubscribe(),e.subscription.unsubscribe()}},n.prototype.notifyNext=function(t,n,o,e,i){if(t===this.openings){var r=void 0;try{r=(0,this.closingSelector)(n)}catch(l){return this.error(l)}var s=new Ba,c=new U,u={window:s,subscription:c};this.contexts.push(u);var p=C(this,r,u);p.closed?this.closeWindow(this.contexts.length-1):(p.context=u,c.add(p)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},n.prototype.notifyError=function(t){this.error(t)},n.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},n.prototype.closeWindow=function(t){if(-1!==t){var n=this.contexts,o=n[t],e=o.window,i=o.subscription;n.splice(t,1),e.complete(),i.unsubscribe()}},n}(H);b();var Ula=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,i){return i.subscribe(new jM(t,this.closingSelector))},t}(),jM=function(t){function i(i,r){var o=t.call(this,i)||this;return o.destination=i,o.closingSelector=r,o.openWindow(),o}return a(i,t),i.prototype.notifyNext=function(t,i,r,o,n){this.openWindow(n)},i.prototype.notifyError=function(t,i){this._error(t)},i.prototype.notifyComplete=function(t){this.openWindow(t)},i.prototype._next=function(t){this.window.next(t)},i.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},i.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},i.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},i.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var i=this.window;i&&i.complete();var r,o=this.window=new Ba;this.destination.next(o);try{r=(0,this.closingSelector)()}catch(n){return this.destination.error(n),void this.window.error(n)}this.add(this.closingNotification=C(this,r))},i}(H);b();var Tla=function(){function t(t,r){this.observables=t,this.project=r}return t.prototype.call=function(t,r){return r.subscribe(new pM(t,this.observables,this.project))},t}(),pM=function(t){function r(r,e,o){var i=t.call(this,r)||this;i.observables=e,i.project=o,i.toRespond=[];var s=e.length;i.values=new Array(s);for(var n=0;n<s;n++)i.toRespond.push(n);for(n=0;n<s;n++){var f=e[n];i.add(C(i,f,f,n))}return i}return a(r,t),r.prototype.notifyNext=function(t,r,e,o,i){this.values[e]=r;var s=this.toRespond;if(s.length>0){var n=s.indexOf(e);-1!==n&&s.splice(n,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(t){if(0===this.toRespond.length){var r=[t].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},r.prototype._tryProject=function(t){var r;try{r=this.project.apply(this,t)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(H);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});class sM{constructor(t){this.select=t=>this.state.pipe(wc(t)),this.setState=t=>{this.state.next(Object.assign(Object.assign({},this.state.getValue()),t))},this.getState=()=>this.state.getValue(),this.state=new pha(t||{})}get state$(){return this.state.asObservable()}}var $w=sM;ln.State=$w;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});function AM(e){const{state$:t,setState:$,getState:a}=new $w(e);return[t,$,a]}var BM=AM;pn.useState=BM;Object.defineProperty(Kk,"__esModule",{value:!0}),Rx(ln),Rx(pn);var rn={};function sn(r){for(var e in r)rn.hasOwnProperty(e)||(rn[e]=r[e])}var tn={};function IM(r){for(var e in r)tn.hasOwnProperty(e)||(tn[e]=r[e])}var ed={},of=ed&&ed.__decorate||function(t,e,r,$){var i,o=arguments.length,s=o<3?e:null===$?$=Object.getOwnPropertyDescriptor(e,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,$);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},yh=ed&&ed.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(ed,"__esModule",{value:!0});function RM(t){return function(e){if(!window.customElements.get(t.selector))return h.Component(t)(e)}}let wg=class extends h.LitElement{constructor(){super(...arguments),this.options={state:{},render:t=>h.html`
        ${t}
      `,loading:()=>h.html``,error:()=>h.html``},this.loading=!0,this.error="",this.state={}}OnUpdateFirst(){this.options.state&&(this.isObservable(this.options.state)?this.subscription=this.options.state.subscribe(t=>{this.state=t,this.loading=!1,this.dispatchEvent(new CustomEvent("onData",{detail:t}))},t=>{this.state={},this.error=t,this.loading=!1,this.dispatchEvent(new CustomEvent("onError",{detail:t}))}):(this.loading=!1,this.state=this.options.state))}isObservable(t){return this.isFunction(t.lift)&&this.isFunction(t.subscribe)}isFunction(t){return"function"==typeof t}OnDestroy(){this.subscription&&this.subscription.unsubscribe()}};of([h.property(),yh("design:type",Object)],wg.prototype,"options",void 0),of([h.property({type:Boolean}),yh("design:type",Object)],wg.prototype,"loading",void 0),of([h.property({type:String}),yh("design:type",Object)],wg.prototype,"error",void 0),of([h.property(),yh("design:type",Object)],wg.prototype,"state",void 0);var VM=wg=of([RM({selector:"r-renderer",template(){return h.html`
      ${this.loading?"":this.options.render?this.options.render(this.state,t=>this.state=t):this.state}
      ${this.loading?h.html`
            ${this.isFunction(this.options.error)?this.options.loading():h.html``}
          `:""}
      ${this.error?h.html`
            ${this.isFunction(this.options.error)?this.options.error(this.error):h.html`
                  ${this.error}
                `}
          `:""}
    `}})],wg);ed.Renderer=VM;Object.defineProperty(tn,"__esModule",{value:!0}),IM(ed);var Hc={},Yw=Hc&&Hc.__decorate||function(t,e,r,o){var $,a=arguments.length,l=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,o);else for(var p=t.length-1;p>=0;p--)($=t[p])&&(l=(a<3?$(l):a>3?$(e,r,l):$(e,r))||l);return a>3&&l&&Object.defineProperty(e,r,l),l},dN=Hc&&Hc.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(Hc,"__esModule",{value:!0});let Xw=class extends h.LitElement{constructor(){super(...arguments),this.of=[]}OnUpdate(){const t=this.shadowRoot.querySelector("slot").assignedNodes();if(t.length){const e=t[0].nextSibling;e&&(e.data=this.of)}}};Yw([h.property({type:Array}),dN("design:type",Object)],Xw.prototype,"of",void 0);var fN=Xw=Yw([h.Component({selector:"r-for",template:()=>h.html`
      <slot></slot>
    `})],Xw);Hc.ForOperator=fN;var Ic={},Hn=Ic&&Ic.__decorate||function(t,e,r,a){var $,o=arguments.length,i=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var M=t.length-1;M>=0;M--)($=t[M])&&(i=(o<3?$(i):o>3?$(e,r,i):$(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},Ww=Ic&&Ic.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(Ic,"__esModule",{value:!0});let Kn=class extends h.LitElement{constructor(){super(...arguments),this.data=[],this.item=t=>h.html`
      ${t}
    `}normalizeArray(t){return t&&"string"!=typeof t?"number"==typeof t?Array.from(Array(t),(t,e)=>e):t instanceof Map||t instanceof Set?[...t.entries()]:Array.isArray(t)?t:Object.entries(t):[]}isObservable(t){return this.isFunction(t.lift)&&this.isFunction(t.subscribe)}isFunction(t){return"function"==typeof t}};Hn([h.property({type:Array}),Ww("design:type",Object)],Kn.prototype,"data",void 0),Hn([h.property(),Ww("design:type",Object)],Kn.prototype,"item",void 0);var lN=Kn=Hn([h.Component({selector:"r-let",template(){return h.html`
      ${this.isObservable(this.data)?h.html`
            <r-renderer
              .options=${{state:this.data,render:t=>this.normalizeArray(t).map(this.item)}}
            ></r-renderer>
          `:this.normalizeArray(this.data).map(this.item)}
    `}})],Kn);Ic.LetOperator=lN;var Jc={},Sw=Jc&&Jc.__decorate||function(e,t,r,$){var a,f=arguments.length,o=f<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,$);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(f<3?a(o):f>3?a(t,r,o):a(t,r))||o);return f>3&&o&&Object.defineProperty(t,r,o),o},sN=Jc&&Jc.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Jc,"__esModule",{value:!0});let Rw=class extends h.LitElement{};Sw([h.property({type:Boolean}),sN("design:type",Boolean)],Rw.prototype,"exp",void 0);var vN=Rw=Sw([h.Component({selector:"r-if",template(){return h.html`
      ${this.exp?h.html`
            <slot></slot>
          `:""}
    `}})],Rw);Jc.IfOperator=vN;Object.defineProperty(rn,"__esModule",{value:!0}),sn(Hc),sn(Ic),sn(Jc);var Xn={};function cg(r){for(var e in r)Xn.hasOwnProperty(e)||(Xn[e]=r[e])}var Kc={},bj=Kc&&Kc.__decorate||function(e,t,r,$){var o,a=arguments.length,n=a<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,$);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(n=(a<3?o(n):a>3?o(t,r,n):o(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n},eo=Kc&&Kc.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Kc,"__esModule",{value:!0});let hj=class extends h.LitElement{constructor(){super(...arguments),this.ray=e=>e}};bj([h.property({type:String}),eo("design:type",String)],hj.prototype,"match",void 0),bj([h.property({type:Array}),eo("design:type",Array)],hj.prototype,"get",void 0),bj([h.property({type:Object}),eo("design:type",Function)],hj.prototype,"ray",void 0);var GN=hj=bj([h.Component({selector:"r-lens"})],hj);Kc.LensComponent=GN;var Lc={},Ow=Lc&&Lc.__decorate||function(e,t,r,$){var o,n=arguments.length,a=n<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,$);else for(var v=e.length-1;v>=0;v--)(o=e[v])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},LN=Lc&&Lc.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Lc,"__esModule",{value:!0});let Mw=class extends h.LitElement{};Ow([h.property({type:Object}),LN("design:type",Function)],Mw.prototype,"state",void 0);var ON=Mw=Ow([h.Component({selector:"r-render",template:()=>h.html`
    <slot></slot>
  `})],Mw);Lc.RenderComponent=ON;function to(r){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function fa(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Lw(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},$=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&($=$.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),$.forEach(function(t){fa(r,t,e[t])})}return r}function fO(r){return iO(r)||Jw(r)||rO()}function Kw(r){return hO(r)||Jw(r)||nO()}function hO(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}function iO(r){if(Array.isArray(r))return r}function Jw(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function nO(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function rO(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var sO=function(r){return{get:function(t){return t[r]||"function"!=typeof t.get?t[r]:t.get(r)},mod:function(t){return function(e){var $=arguments;return function(){for(var n=$.length,o=new Array(n>1?n-1:0),x=1;x<n;x++)o[x-1]=$[x];return"function"==typeof e.set?e.set(r,t(e[r]||e.get(r))):Array.isArray(e)?e.slice(0,r).concat(t.apply(void 0,[e[r]].concat(o))).concat(e.slice(r+1)):Lw({},e,fa({},r,t.apply(void 0,[e[r]].concat(o))))}()}},traversal:!1}},Mf=function(r){return r?"function"==typeof r.keys?r.keys():Object.keys(r):[]},uO=function(r){switch(r){case Map:return function(r,t,e){return r.set(t,e),r};case Set:return function(r,t,e){return r.add(e)};case Object:return function(r,t,e){return r[t]=e,r};}},vO=function(r){switch(r){case Map:return function(r,t){return r.get(t)};case Set:return function(r,t){return t};case Object:return function(r,t){return r[t]};}},Zf=function(r){var t=r.native,e=r.overrides;return function(r){for(var $=arguments.length,n=new Array($>1?$-1:0),o=1;o<$;o++)n[o-1]=arguments[o];return function($){var o=yw(r);if(null==$)return $;if("function"==typeof $[t])return $[t].apply($,[o].concat(n));var x=Object.getPrototypeOf($).constructor,u=e[x];return u?u(x,vO(x),uO(x)).apply(void 0,[$,o].concat(n)):void 0}}},Sla=function(){var r,t=function(r,t,e){return function($,n){var o=new r,x=!0,u=!1,a=void 0;try{for(var i,p=Mf($)[Symbol.iterator]();!(x=(i=p.next()).done);x=!0){var A=i.value,f=t($,A);n(f,A)&&e(o,A,f)}}catch(c){u=!0,a=c}finally{try{x||null==p.return||p.return()}finally{if(u)throw a}}return o}};return Zf({native:"filter",overrides:(r={},fa(r,Object,t),fa(r,Map,t),fa(r,Set,t),r)})}(),Go=function(){var r,t=function(r,t,e){return function($,n){var o=new r,x=!0,u=!1,a=void 0;try{for(var i,p=Mf($)[Symbol.iterator]();!(x=(i=p.next()).done);x=!0){var A=i.value;e(o,A,n(t($,A),A))}}catch(f){u=!0,a=f}finally{try{x||null==p.return||p.return()}finally{if(u)throw a}}return o}};return Zf({native:"map",overrides:(r={},fa(r,Object,t),fa(r,Map,t),fa(r,Set,t),fa(r,Promise,function(){return function(r,t){return r.then(t)}}),r)})}(),Qla=function(){var r,t=function(r,t,e){return function(r,e){if(r){var $=!0,n=!1,o=void 0;try{for(var x,u=Mf(r)[Symbol.iterator]();!($=(x=u.next()).done);$=!0){var a=x.value,i=t(r,a);if(e(i,a))return i}}catch(p){n=!0,o=p}finally{try{$||null==u.return||u.return()}finally{if(n)throw o}}}}};return Zf({native:"find",overrides:(r={},fa(r,Object,t),fa(r,Map,t),fa(r,Set,t),r)})}(),Ola=function(){var r,t=function(r,t,e){return function(r,e){var $=!0,n=!1,o=void 0;try{for(var x,u=Mf(r)[Symbol.iterator]();!($=(x=u.next()).done);$=!0){var a=x.value;if(e(t(r,a),a))return!0}}catch(i){n=!0,o=i}finally{try{$||null==u.return||u.return()}finally{if(n)throw o}}return!1}};return Zf({native:"some",overrides:(r={},fa(r,Object,t),fa(r,Map,t),fa(r,Set,t),r)})}(),Gw=function(){var r,t=function(r,t,e){return function(e,$,n){var o=new r,x=!0,u=!1,a=void 0;try{for(var i,p=Mf(e)[Symbol.iterator]();!(x=(i=p.next()).done);x=!0){var A=i.value;$(o,t(e,A),A)}}catch(f){u=!0,a=f}finally{try{x||null==p.return||p.return()}finally{if(u)throw a}}return n}};return Zf({native:"reduce",overrides:(r={},fa(r,Object,t),fa(r,Map,t),fa(r,Set,t),r)})}(),IO=function(r){var t=!0,e=!1,$=void 0;try{for(var n,o=r[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){if(!n.value)return!1}}catch(x){e=!0,$=x}finally{try{t||null==o.return||o.return()}finally{if(e)throw $}}return!0},LO=function(r){return function(t){return Kw(t).concat([r])}},Pg=function(r){return["string","number"].includes(to(r))?sO(r):Lw({traversal:!1,optional:!1},r)},Aw=function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return 1===t.length?Pg(t[0]):{get:function(r){return t.map(Pg).reduce(function(r,t){var e=r.traverser,$=r.state,n=r.shortCircuited,o=n?null:e(t.get)($);return{state:o,traverser:t.traversal?function(r){return Go(e(r))}:e,shortCircuited:n||t.optional&&null==o}},{state:r,traverser:function(r){return r},shortCircuited:!1}).state},mod:function(r){return function(e){for(var $=arguments.length,n=new Array($>1?$-1:0),o=1;o<$;o++)n[o-1]=arguments[o];return function t(e,$){var o,x,u;return x=(o=fO($))[0],0===(u=o.slice(1)).length?x.mod(r).apply(void 0,[e].concat(n)):x.mod(function(r){return t(r,u)}).apply(void 0,[e].concat(n))}(e,t.map(Pg))}}}},fg=function(){return Aw.apply(void 0,arguments).get},YO=function r(t){return function(e){return t&&"object"===to(t)?!!e&&IO(Object.keys(t).map(function($){return r(fg($)(t))(ZO($)(e))})):"function"==typeof t?t(e):t===e}},ZO=function(r){return function(t){var e;return"function"==typeof(e=fg(r)(t))?e.bind(t):e}},yw=function(r){return"function"==typeof r?r:"object"===to(r)?YO(r):fg(r)},_O=function(r){return r};function aP(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function($){return r?aP(r,t,LO($)(e)):t.apply(void 0,Kw(e))}}var Se=function(r){return function(t){var e=yw(t);return function(t,$){return r(t,$,e)}}},hP=Se(function(r,t,e){return e(t)>e(r)?t:r}),iP=Se(function(r,t,e){return e(t)<e(r)?t:r}),kP=Se(function(r,t,e){return e(r)?r:e(t)?t:null}),Mla=Se(function(r,t,e){return e(t)+("number"==typeof r?r:e(r))}),Kla=Se(function(r,t,e){return e(t)*("number"==typeof r?r:e(r))}),oP=function(){return Aw.apply(void 0,arguments).mod},ww=function(){return{get:_O,mod:Go,traversal:!0}},rP=Object.assign(ww,ww()),sj=function(r){return r.of=r,r},tj=function(r){return function(t){return Pg({get:Gw(r(t)),mod:function(e){return function($){var n=Gw(r(t))($);return Go(function(r){return r===n?e(r):r})($)}}})}},Jla=sj(tj(kP)),Ila=sj(tj(hP)),Hla=sj(tj(iP));var Xb={},vw=Xb&&Xb.__decorate||function(e,t,r,n){var a,o=arguments.length,$=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&($=(o<3?a($):o>3?a(t,r,$):a(t,r))||$);return o>3&&$&&Object.defineProperty(t,r,$),$},dQ=Xb&&Xb.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},iQ=Xb&&Xb.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function $(e){try{i(n.next(e))}catch(t){o(t)}}function s(e){try{i(n.throw(e))}catch(t){o(t)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then($,s)}i((n=n.apply(e,t||[])).next())})};Object.defineProperty(Xb,"__esModule",{value:!0});let uw=class extends h.LitElement{OnUpdateFirst(){return iQ(this,void 0,void 0,function*(){const e=this.shadowRoot.querySelector("slot").assignedNodes(),t=this.findNode(e,"r-render"),r=this.findNode(e,"r-fetch"),n=this.findNode(e,"r-state"),a=this.findNode(e,"r-settings"),o=this.findNode(e,"r-lens"),$=this.findNode(e,"script");$&&new Function($.innerHTML).call(this);const s=r?this.applyQueries(r):"";let i=n?yield n.value:null;o&&(i=this.applyLenses(i,o)),this.options={state:i,fetch:s,render:t.state},this.options.settings=a?a.value:null,this.componentToRender=r?h.html`
          <r-graph .options=${this.options}></r-graph>
        `:h.html`
          <r-renderer .options=${this.options}></r-renderer>
        `})}trim(e="",t){if(e.includes(t))return e;return`${t} ${e.trim().replace(/\s/g," ")}`}applyQueries(e){return e.query?this.trim(e.query,"query"):e.subscribe?this.trim(e.subscribe,"subscription"):e.mutate?this.trim(e.mutate,"mutation"):""}applyLenses(e={},t){let r=JSON.parse(JSON.stringify(e));return t.match?r=this.get(r,t.match):t.get?(t.get=t.get.map(e=>"all"===e?rP:e),r=Ly(r)?r.pipe(gb(e=>{const r=fg(...t.get)(e);return r||e})):fg(...t.get)(r),t.ray&&(r=t.ray(r))):t.ray&&(r=Ly(r)?r.pipe(gb(e=>t.ray(e))):t.ray(r)),r}modState(e,t){return new Promise((r,n)=>{try{oP(e[0],e[1],e[2],e[3],e[4])(r)(t)}catch(a){n(a)}})}findNode(e,t){const r=e.find(e=>e&&e.nextSibling&&e.nextSibling.localName===t);return r?r.nextSibling:null}get(e={},t="",r){return t.replace(/\[(.+?)\]/g,".$1").split(".").reduce((e,t)=>e[t],e)||r}};vw([h.property({type:Object}),dQ("design:type",Object)],uw.prototype,"options",void 0);var nQ=uw=vw([h.Component({selector:"r-part",template(){return h.html`
      <slot></slot>
      ${this.options?this.componentToRender:""}
    `}})],uw);Xb.MonadComponent=nQ;var Nc={},tw=Nc&&Nc.__decorate||function(t,e,$,r){var o,n=arguments.length,a=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,$):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,$,r);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(a=(n<3?o(a):n>3?o(e,$,a):o(e,$))||a);return n>3&&a&&Object.defineProperty(e,$,a),a},uQ=Nc&&Nc.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(Nc,"__esModule",{value:!0});let rw=class extends h.LitElement{};tw([h.property({type:Object}),uQ("design:type",Object)],rw.prototype,"value",void 0);var xQ=rw=tw([h.Component({selector:"r-settings"})],rw);Nc.SettingsComponent=xQ;var Oc={},qw=Oc&&Oc.__decorate||function(t,e,r,$){var o,a=arguments.length,n=a<3?e:null===$?$=Object.getOwnPropertyDescriptor(e,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,$);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(n=(a<3?o(n):a>3?o(e,r,n):o(e,r))||n);return a>3&&n&&Object.defineProperty(e,r,n),n},CQ=Oc&&Oc.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(Oc,"__esModule",{value:!0});let nw=class extends h.LitElement{};qw([h.property(),CQ("design:type",Object)],nw.prototype,"value",void 0);var FQ=nw=qw([h.Component({selector:"r-state"})],nw);Oc.StateComponent=FQ;Object.defineProperty(Xn,"__esModule",{value:!0}),cg(Kc),cg(Lc),cg(Xb),cg(Nc),cg(Oc);var Ca={};function Yg(e){for(var r in e)Ca.hasOwnProperty(r)||(Ca[r]=e[r])}var Gd,Ld,ta,Z,Hf,Pc,Sj,lw,eR=false;function Vj(){throw new Error("setTimeout has not been defined")}function Wj(){throw new Error("clearTimeout has not been defined")}function kw($){if(Gd===setTimeout)return setTimeout($,0);if((Gd===Vj||!Gd)&&setTimeout)return Gd=setTimeout,setTimeout($,0);try{return Gd($,0)}catch(e){try{return Gd.call(null,$,0)}catch(e){return Gd.call(this,$,0)}}}function kR($){if(Ld===clearTimeout)return clearTimeout($);if((Ld===Wj||!Ld)&&clearTimeout)return Ld=clearTimeout,clearTimeout($);try{return Ld($)}catch(e){try{return Ld.call(null,$)}catch(e){return Ld.call(this,$)}}}function nR(){Sj&&Hf&&(Sj=!1,Hf.length?Pc=Hf.concat(Pc):lw=-1,Pc.length&&iw())}function iw(){if(!Sj){var $=kw(nR);Sj=!0;for(var e=Pc.length;e;){for(Hf=Pc,Pc=[];++lw<e;)Hf&&Hf[lw].run();lw=-1,e=Pc.length}Hf=null,Sj=!1,kR($)}}function hw($,e){this.fun=$,this.array=e}function Rb(){}function qa(){if(eR)return;eR=true;ta={};Z=ta={};!function(){try{Gd="function"==typeof setTimeout?setTimeout:Vj}catch($){Gd=Vj}try{Ld="function"==typeof clearTimeout?clearTimeout:Wj}catch($){Ld=Wj}}();Pc=[];Sj=!1;lw=-1;Z.nextTick=function($){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Pc.push(new hw($,e)),1!==Pc.length||Sj||kw(iw)},hw.prototype.run=function(){this.fun.apply(null,this.array)},Z.title="browser",Z.env={},Z.argv=[],Z.version="",Z.versions={},Z.on=Rb,Z.addListener=Rb,Z.once=Rb,Z.off=Rb,Z.removeListener=Rb,Z.removeAllListeners=Rb,Z.emit=Rb,Z.prependListener=Rb,Z.prependOnceListener=Rb,Z.listeners=function($){return[]},Z.binding=function($){throw new Error("process.binding is not supported")},Z.cwd=function(){return"/"},Z.chdir=function($){throw new Error("process.chdir is not supported")},Z.umask=function(){return 0}}var wR,ew,JR=false;function dw(){if(JR)return;JR=true;ew=(qa(),ta);!function(t){!function(e){var r="object"==typeof aa?aa:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=o(t);function o(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===r.Reflect?r.Reflect=t:n=o(r.Reflect,n),function(t){var e=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,u={__proto__:[]}instanceof Array,a=!i&&!u,f={create:i?function(){return P(Object.create(null))}:u?function(){return P({__proto__:null})}:function(){return P({})},has:a?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:a?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),s="object"==typeof ew&&ew.env&&!1,p=s||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,i)},e.prototype.entries=function(){return new r(this._keys,this._values,u)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function i(t,e){return e}function u(t,e){return[t,e]}}():Map,h=s||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,y=new(s||"function"!=typeof WeakMap?function(){var t=16,r=f.create(),n=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&f.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?f.get(e,this._key):void 0},t.prototype.set=function(t,e){var r=i(t,!0);return r[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+a()}while(f.has(r,t));return r[t]=!0,t}function i(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:f.create()})}return t[n]}function u(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function a(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):u(new Uint8Array(t),t);return u(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var o=e[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}():WeakMap);function l(t,e,r){var n=y.get(t);if(b(n)){if(!r)return;n=new p,y.set(t,n)}var o=n.get(e);if(b(o)){if(!r)return;o=new p,n.set(e,o)}return o}function v(t,e,r){var n=l(e,r,!1);return!b(n)&&!!n.has(t)}function _(t,e,r){var n=l(e,r,!1);if(!b(n))return n.get(t)}function d(t,e,r,n){var o=l(r,n,!0);o.set(t,e)}function w(t,e){var r=[],n=l(t,e,!1);if(b(n))return r;for(var i=n.keys(),u=function(t){var e=x(t,o);if(!T(e))throw new TypeError;var r=e.call(t);if(!m(r))throw new TypeError;return r}(i),a=0;;){var f=M(u);if(!f)return r.length=a,r;var c=f.value;try{r[a]=c}catch(s){try{A(u)}finally{throw s}}a++}}function g(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6;}}function b(t){return void 0===t}function k(t){return null===t}function m(t){return"object"==typeof t?null!==t:"function"==typeof t}function E(t,e){switch(g(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t;}var r=3===e?"string":5===e?"number":"default",o=x(t,n);if(void 0!==o){var i=o.call(t,r);if(m(i))throw new TypeError;return i}return function(t,e){if("string"===e){var r=t.toString;if(T(r)){var n=r.call(t);if(!m(n))return n}var o=t.valueOf;if(T(o)){var n=o.call(t);if(!m(n))return n}}else{var o=t.valueOf;if(T(o)){var n=o.call(t);if(!m(n))return n}var i=t.toString;if(T(i)){var n=i.call(t);if(!m(n))return n}}throw new TypeError}(t,"default"===r?"number":r)}function $(t){var e=E(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function O(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"function"==typeof t}function j(t){return"function"==typeof t}function x(t,e){var r=t[e];if(null!=r){if(!T(r))throw new TypeError;return r}}function M(t){var e=t.next();return!e.done&&e}function A(t){var e=t.return;e&&e.call(t)}function S(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var o=n.constructor;return"function"!=typeof o?e:o===t?e:o}function P(t){return t.__=void 0,delete t.__,t}t("decorate",function(t,e,r,n){if(b(r)){if(!O(t))throw new TypeError;if(!j(e))throw new TypeError;return function(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],o=n(e);if(!b(o)&&!k(o)){if(!j(o))throw new TypeError;e=o}}return e}(t,e)}if(!O(t))throw new TypeError;if(!m(e))throw new TypeError;if(!m(n)&&!b(n)&&!k(n))throw new TypeError;return k(n)&&(n=void 0),r=$(r),function(t,e,r,n){for(var o=t.length-1;o>=0;--o){var i=t[o],u=i(e,r,n);if(!b(u)&&!k(u)){if(!m(u))throw new TypeError;n=u}}return n}(t,e,r,n)}),t("metadata",function(t,e){return function(r,n){if(!m(r))throw new TypeError;if(!b(n)&&!function(t){switch(g(t)){case 3:case 4:return!0;default:return!1;}}(n))throw new TypeError;d(t,e,r,n)}}),t("defineMetadata",function(t,e,r,n){if(!m(r))throw new TypeError;b(n)||(n=$(n));return d(t,e,r,n)}),t("hasMetadata",function(t,e,r){if(!m(e))throw new TypeError;b(r)||(r=$(r));return function t(e,r,n){var o=v(e,r,n);if(o)return!0;var i=S(r);if(!k(i))return t(e,i,n);return!1}(t,e,r)}),t("hasOwnMetadata",function(t,e,r){if(!m(e))throw new TypeError;b(r)||(r=$(r));return v(t,e,r)}),t("getMetadata",function(t,e,r){if(!m(e))throw new TypeError;b(r)||(r=$(r));return function t(e,r,n){var o=v(e,r,n);if(o)return _(e,r,n);var i=S(r);if(!k(i))return t(e,i,n);return}(t,e,r)}),t("getOwnMetadata",function(t,e,r){if(!m(e))throw new TypeError;b(r)||(r=$(r));return _(t,e,r)}),t("getMetadataKeys",function(t,e){if(!m(t))throw new TypeError;b(e)||(e=$(e));return function t(e,r){var n=w(e,r);var o=S(e);if(null===o)return n;var i=t(o,r);if(i.length<=0)return n;if(n.length<=0)return i;var u=new h;var a=[];for(var f=0,c=n;f<c.length;f++){var s=c[f],p=u.has(s);p||(u.add(s),a.push(s))}for(var y=0,l=i;y<l.length;y++){var s=l[y],p=u.has(s);p||(u.add(s),a.push(s))}return a}(t,e)}),t("getOwnMetadataKeys",function(t,e){if(!m(t))throw new TypeError;b(e)||(e=$(e));return w(t,e)}),t("deleteMetadata",function(t,e,r){if(!m(e))throw new TypeError;b(r)||(r=$(r));var n=l(e,r,!1);if(b(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var o=y.get(e);return o.delete(r),o.size>0||(y.delete(e),!0)})}(n)}()}(wR||(wR={}))}var bg,aw,PR,QR,RR=false;function _v(){if(RR)return;RR=true;bg={};Object.defineProperty(bg,"__esModule",{value:!0});aw=class $v8p8$var$Sha256{hash(t,r){const e=Object.assign({msgFormat:"string",outFormat:"hex"},r);switch(t=p(t),e.msgFormat){default:case"string":t=p(t);break;case"hex-bytes":t=function(t){const r=t.replace(" ","");return""==r?"":r.match(/.{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join("")}(t);}const o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=(t+=String.fromCharCode(128)).length/4+2,n=Math.ceil(a/16),s=new Array(n);for(let R=0;R<n;R++){s[R]=new Array(16);for(let r=0;r<16;r++)s[R][r]=t.charCodeAt(64*R+4*r+0)<<24|t.charCodeAt(64*R+4*r+1)<<16|t.charCodeAt(64*R+4*r+2)<<8|t.charCodeAt(64*R+4*r+3)<<0}const i=8*(t.length-1)/Math.pow(2,32),c=8*(t.length-1)>>>0;s[n-1][14]=Math.floor(i),s[n-1][15]=c;for(let R=0;R<n;R++){const t=new Array(64);for(let o=0;o<16;o++)t[o]=s[R][o];for(let o=16;o<64;o++)t[o]=this.1(t[o-2])+t[o-7]+this.0(t[o-15])+t[o-16]>>>0;let r=h[0],e=h[1],a=h[2],n=h[3],i=h[4],c=h[5],$=h[6],p=h[7];for(let h=0;h<64;h++){const s=p+this.1(i)+this.Ch(i,c,$)+o[h]+t[h],R=this.0(r)+this.Maj(r,e,a);p=$,$=c,c=i,i=n+s>>>0,n=a,a=e,e=r,r=s+R>>>0}h[0]=h[0]+r>>>0,h[1]=h[1]+e>>>0,h[2]=h[2]+a>>>0,h[3]=h[3]+n>>>0,h[4]=h[4]+i>>>0,h[5]=h[5]+c>>>0,h[6]=h[6]+$>>>0,h[7]=h[7]+p>>>0}for(let R=0;R<h.length;R++)h[R]=("00000000"+h[R].toString(16)).slice(-8);const $="hex-w"==e.outFormat?" ":"";return h.join($);function p(t){try{return new TextEncoder().encode(t).reduce((t,r)=>t+String.fromCharCode(r),"")}catch(r){return unescape(encodeURIComponent(t))}}}ROTR(t,r){return r>>>t|r<<32-t}"\u03A30"(t){return this.ROTR(2,t)^this.ROTR(13,t)^this.ROTR(22,t)}"\u03A31"(t){return this.ROTR(6,t)^this.ROTR(11,t)^this.ROTR(25,t)}"\u03C30"(t){return this.ROTR(7,t)^this.ROTR(18,t)^t>>>3}"\u03C31"(t){return this.ROTR(17,t)^this.ROTR(19,t)^t>>>10}Ch(t,r,e){return t&r^~t&e}Maj(t,r,e){return t&r^t&e^r&e}};PR=aw;bg.Sha256=PR;QR=new aw;bg.sha256=QR}var Jg,VR,WR,YR=false;function ZR(e){return VR.sha256.hash(e)}function $v(){if(YR)return;YR=true;Jg={};Object.defineProperty(Jg,"__esModule",{value:!0});VR=(_v(),bg);WR=ZR;Jg.createUniqueHash=WR}var nk,eS,fS,gS=false;function kS(){if(gS)return;gS=true;nk={};Object.defineProperty(nk,"__esModule",{value:!0});eS=class $XLXI$var$MissingProvidedServiceTypeError extends Error{constructor(r){super(`Cannot determine a class of the requesting service '${JSON.stringify(r)}'`),this.name="ServiceNotFoundError",Object.setPrototypeOf(this,MissingProvidedServiceTypeError.prototype)}};fS=eS;nk.MissingProvidedServiceTypeError=fS}var Lb,Zv,oS,uS,vS,zS=false;function pe(){if(zS)return;zS=true;Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});Zv=class $TYvc$var$Token{constructor($){this.name=$}};oS=Zv;Lb.Token=oS;uS=class $TYvc$var$InjectionToken extends Zv{};vS=uS;Lb.InjectionToken=vS}var sk,Yv,ES,FS,IS=false;function KS(){if(IS)return;IS=true;sk={};Object.defineProperty(sk,"__esModule",{value:!0});Yv=(pe(),Lb);ES=class $wh7Q$var$ServiceNotFoundError extends Error{constructor(e){super(),this.name="ServiceNotFoundError","string"==typeof e?this.message=`Service '${e}' was not found, looks like it was not registered in the container. `+`Register it by calling Container.set('${JSON.stringify(e)}', ...) before using service.`:e instanceof Yv.Token&&e.name?this.message=`Service '${e.name}' was not found, looks like it was not registered in the container. `+"Register it by calling Container.set before using service.":e instanceof Yv.Token&&(this.message="Service with a given token was not found, looks like it was not registered in the container. Register it by calling Container.set before using service."),Object.setPrototypeOf(this,ServiceNotFoundError.prototype)}};FS=ES;sk.ServiceNotFoundError=FS}var jg,Xv,OS,QS,SS=false;function Wv(){if(SS)return;SS=true;jg={};Object.defineProperty(jg,"__esModule",{value:!0});Xv=class $BRSC$var$ConstructorWatcherService{constructor(){this._constructors=new Map}getConstructor(t){return this._constructors.get(t)}getByClass(t){return this._constructors.get(t.name).value}createConstructor(t,r){return this._constructors.has(t)?this.getConstructor(t):(this._constructors.set(t,r),this.getConstructor(t))}triggerOnInit(t){const r=this._constructors.get(t.name);r.value&&r.value.OnInit&&r.value.OnInit.bind(r.value)()}};OS=Xv;jg.ConstructorWatcherService=OS;QS=new Xv;jg.constructorWatcherService=QS}var qg,dT=false;function eT(r){for(var e in r)qg.hasOwnProperty(e)||(qg[e]=r[e])}function Vv(){if(dT)return;dT=true;qg={};Object.defineProperty(qg,"__esModule",{value:!0}),eT((Wv(),jg))}var Ah,Gk,Tv,qT,Nh,sT,uT,vT,wT=false;function Sv(){if(wT)return;wT=true;Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});Gk=(qe(),fc);Tv=(kS(),nk);qT=(KS(),sk);Nh=(pe(),Lb);sT=(Vv(),qg);uT=class $u1LW$var$ContainerInstance{constructor(e){this.services=new Map,this.id=e}has(e){return!!this.findService(e)}get(e){const r=Gk.Container.of(void 0),t=r.findService(e),i=this.findService(e);if(t&&!0===t.global)return this.getServiceValue(e,t);if(i)return this.getServiceValue(e,i);if(t&&this!==r){const r=Object.assign({},t);r.value=void 0;const i=this.getServiceValue(e,r);return this.set(e,i),i}return this.getServiceValue(e,t)}getMany(e){return this.filterServices(e).map(r=>this.getServiceValue(e,r))}set(e,r){if(e instanceof Array)return e.forEach(e=>this.set(e)),this;if("string"==typeof e||e instanceof Nh.Token)return this.set({id:e,value:r});if("object"==typeof e&&e.service)return this.set({id:e.service,value:r});if(e instanceof Function)return this.set({type:e,id:e,value:r});const t=e,i=this.services.get(t);return i&&!0!==i.multiple?Object.assign(i,t):this.services.set(t,t),this}remove(...e){return e.forEach(e=>{this.filterServices(e).forEach(e=>{this.services.delete(e)})}),this}reset(){return this.services.clear(),this}filterServices(e){return Array.from(this.services.values()).filter(r=>r.id?r.id===e:!!(r.type&&e instanceof Function)&&(r.type===e||e.prototype instanceof r.type))}findService(e){return Array.from(this.services.values()).find(r=>r.id?e instanceof Object&&r.id instanceof Nh.Token&&e.service instanceof Nh.Token?r.id===e.service:r.id===e:!!(r.type&&e instanceof Function)&&r.type===e)}getServiceValue(e,r){if(r&&void 0!==r.value)return r.value;if(!(r&&r.type||r&&r.factory||!("string"==typeof e||e instanceof Nh.Token)))throw new qT.ServiceNotFoundError(e);let t=void 0;if(r&&r.type?t=r.type:r&&r.id instanceof Function?t=r.id:e instanceof Function&&(t=e),!r){if(!t)throw new Tv.MissingProvidedServiceTypeError(e);r={type:t},this.services.set(r,r)}const i=t&&Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:paramtypes",t):void 0;let n,o=i?this.initializeParams(t,i):[];if(r.factory)o=o.filter(e=>void 0!==e),n=r.factory instanceof Array?this.get(r.factory[0])[r.factory[1]](...o):r.factory(...o,this);else{if(!t)throw new Tv.MissingProvidedServiceTypeError(e);o.unshift(null),o.push(this),t.prototype.OnBefore&&t.prototype.OnBefore.bind(t)(),n=new(t.bind.apply(t,o)),sT.constructorWatcherService.createConstructor(t.name,{type:t,value:n}),n.OnInit&&n.OnInit.bind(n)()}return r&&!r.transient&&n&&(r.value=n),t&&this.applyPropertyHandlers(t,n),n}initializeParams(e,r){return r.map((r,t)=>{const i=Array.from(Gk.Container.handlers.values()).find(r=>r.object===e&&r.index===t);return i?i.value(this):r&&r.name&&!this.isTypePrimitive(r.name)?this.get(r):void 0})}isTypePrimitive(e){return-1!==["string","boolean","number","object"].indexOf(e.toLowerCase())}applyPropertyHandlers(e,r){Gk.Container.handlers.forEach(t=>{"number"!=typeof t.index&&(t.object.constructor===e||e.prototype instanceof t.object.constructor)&&(r[t.propertyName]=t.value(this))})}};vT=uT;Ah.ContainerInstance=vT}var fc,Qv,ai,fU,kU=false;function qe(){if(kU)return;kU=true;fc={};Object.defineProperty(fc,"__esModule",{value:!0});Qv=(Sv(),Ah);ai=class $XLQw$var$Container{static of(t){if(void 0===t)return this.globalInstance;let e=this.instances.get(t);return e||(e=new Qv.ContainerInstance(t),this.instances.set(t,e)),e}static has(t){return this.globalInstance.has(t)}static get(t){return this.globalInstance.get(t)}static getMany(t){return this.globalInstance.getMany(t)}static set(t,e){return this.globalInstance.set(t,e),this}static remove(...t){return this.globalInstance.remove(...t),this}static reset(t){if(t){const e=this.instances.get(t);e&&(e.reset(),this.instances.delete(t))}else this.globalInstance.reset(),Array.from(this.instances.values()).forEach(t=>t.reset());return this}static registerHandler(t){return this.handlers.set(t,t),this}static import(t){return this}};ai.globalInstance=new Qv.ContainerInstance(void 0),ai.instances=new Map,ai.handlers=new Map;fU=ai;fc.Container=fU}var dc,yU,zU,BU,EU,FU=false;function GU(e,t){return r=>{const a=yU.createUniqueHash(`${r}${JSON.stringify(e,null,4)}`);Object.defineProperty(r,"originalName",{value:r.name||r.constructor.name,writable:!1}),Object.defineProperty(r,"name",{value:a,writable:!0});const n=e=>e.charAt(0).toUpperCase()+e.slice(1);r.metadata={moduleName:r.originalName,moduleHash:a,options:e||null,type:t.type,raw:`\n        ---- @${n(t.type)} '${r.name}' metadata----\n        @${n(t.type)}(${JSON.stringify(e,null,4)})\n        ${r.originalName}\n        `};const o={type:r};"string"==typeof e||e instanceof BU.Token?(o.id=e,o.multiple=e.multiple,o.global=e.global||!1,o.transient=e.transient):e&&(o.id=e.id,o.factory=e.factory,o.multiple=e.multiple,o.global=e.global||!1,o.transient=e.transient),zU.Container.set(o)}}function we(){if(FU)return;FU=true;dc={};Object.defineProperty(dc,"__esModule",{value:!0});yU=($v(),Jg);zU=(qe(),fc);BU=(pe(),Lb);EU=GU;dc.ReflectDecorator=EU}var E,NU,OU,PU=false;function UU(e){return NU.ReflectDecorator(e,{type:"service"})}function M(){if(PU)return;PU=true;E={};Object.defineProperty(E,"__esModule",{value:!0});NU=(we(),dc);OU=UU;E.Service=OU}var pa,YU,$U,aV,cV,mV,nV,oV,pV,rV=false;function Ya(){if(rV)return;rV=true;pa={};Object.defineProperty(pa,"__esModule",{value:!0});YU=(M(),E);$U=YU.Service;pa.Injectable=$U;aV=(qe(),fc);cV=aV.Container;pa.Container=cV;mV=(Sv(),Ah);nV=mV.ContainerInstance;pa.ContainerInstance=nV;oV=(pe(),Lb);pV=oV.Token;pa.InjectionToken=pV}var Ye={};function yb(e){for(var r in e)Ye.hasOwnProperty(r)||(Ye[r]=e[r])}var Ag={};function CV(r){for(var e in r)Ag.hasOwnProperty(e)||(Ag[e]=r[e])}var EV,GV=false;function Sc(t){return"function"==typeof t}function lf(){if(GV)return;GV=true;EV={};EV.isFunction=Sc}var KV,UV,Ia,XV=false;function Mg(){if(XV)return;XV=true;KV={};UV=!1;Ia={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&new Error().stack;UV=e},get useDeprecatedSynchronousErrorHandling(){return UV}};KV.config=Ia}var ZV,$V=false;function Tc(r){setTimeout(function(){throw r},0)}function pl(){if($V)return;$V=true;ZV={};ZV.hostReportError=Tc}var eW,qf,hW=false;function Pv(){if(hW)return;hW=true;eW={};Mg(),pl();qf={closed:!0,next:function(r){},error:function(r){if(Ia.useDeprecatedSynchronousErrorHandling)throw r;Tc(r)},complete:function(){}};eW.empty=qf}var lW,ja,nW=false;function Da(){if(nW)return;nW=true;lW={};ja=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();lW.isArray=ja}var sW,wW=false;function Xg(t){return null!==t&&"object"==typeof t}function wl(){if(wW)return;wW=true;sW={};sW.isObject=Xg}var BW,FW,Md,JW=false;function Ov(){if(JW)return;JW=true;BW={};FW=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,o){return o+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}();Md=FW;BW.UnsubscriptionError=Md}var LW,Q,ZW=false;function Nv(r){return r.reduce(function(r,i){return r.concat(i instanceof Md?i.errors:i)},[])}function ia(){if(ZW)return;ZW=true;LW={};Da(),wl(),lf(),Ov();Q=function(){function r(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var i;return r.prototype.unsubscribe=function(){var i;if(!this.closed){var t=this._parentOrParents,s=this._unsubscribe,n=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof r)t.remove(this);else if(null!==t)for(var e=0;e<t.length;++e){t[e].remove(this)}if(Sc(s))try{s.call(this)}catch(u){i=u instanceof Md?Nv(u.errors):[u]}if(ja(n)){e=-1;for(var c=n.length;++e<c;){var o=n[e];if(Xg(o))try{o.unsubscribe()}catch(u){i=i||[],u instanceof Md?i=i.concat(Nv(u.errors)):i.push(u)}}}if(i)throw new Md(i)}},r.prototype.add=function(i){var t=i;if(!i)return r.EMPTY;switch(typeof i){case"function":t=new r(i);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var s=t;(t=new r)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.");}var n=t._parentOrParents;if(null===n)t._parentOrParents=this;else if(n instanceof r){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[t]:e.push(t),t},r.prototype.remove=function(r){var i=this._subscriptions;if(i){var t=i.indexOf(r);-1!==t&&i.splice(t,1)}},r.EMPTY=((i=new r).closed=!0,i),r}();LW.Subscription=Q}var Mv,Td,eX,fX=false;function Il(){if(fX)return;fX=true;Mv={};Td=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();Mv.rxSubscriber=Td;eX=Td;Mv.$$rxSubscriber=eX}var Lv,l,Ol,lX=false;function r(){if(lX)return;lX=true;Lv={};b(),lf(),Pv(),ia(),Il(),Mg(),pl();l=function(r){function t(e,i,o){var s=r.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=qf;break;case 1:if(!e){s.destination=qf;break}if("object"==typeof e){e instanceof t?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new Ol(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new Ol(s,e,i,o);}return s}return a(t,r),t.prototype[Td]=function(){return this},t.create=function(r,e,i){var o=new t(r,e,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(Q);Lv.Subscriber=l;Ol=function(r){function t(t,e,i,o){var s,n=r.call(this)||this;n._parentSubscriber=t;var u=n;return Sc(e)?s=e:e&&(s=e.next,i=e.error,o=e.complete,e!==qf&&(u=Object.create(e),Sc(u.unsubscribe)&&n.add(u.unsubscribe.bind(u)),u.unsubscribe=n.unsubscribe.bind(n))),n._context=u,n._next=s,n._error=i,n._complete=o,n}return a(t,r),t.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Ia.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},t.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=Ia.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):Tc(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;Tc(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};Ia.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),Ia.useDeprecatedSynchronousErrorHandling)throw e;Tc(e)}},t.prototype.__tryOrSetError=function(r,t,e){if(!Ia.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(i){return Ia.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=i,r.syncErrorThrown=!0,!0):(Tc(i),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(l);Lv.SafeSubscriber=Ol}var nX,oX=false;function Lh(r){for(;r;){var e=r,o=e.closed,c=e.destination,t=e.isStopped;if(o||t)return!1;r=c&&c instanceof l?c:null}return!0}function Vl(){if(oX)return;oX=true;nX={};r(),nX.canReportError=Lh}var sX,wX=false;function Iv(r,e,$){if(r){if(r instanceof l)return r;if(r[Td])return r[Td]()}return r||e||$?new l(r,e,$):new l(qf)}function FX(){if(wX)return;wX=true;sX={};r(),Il(),Pv(),sX.toSubscriber=Iv}var GX,Vc,NX=false;function Vd(){if(NX)return;NX=true;GX={};Vc=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();GX.observable=Vc}var UX,VX=false;function Ma(){}function Wh(){if(VX)return;VX=true;UX={};UX.noop=Ma}var Hv,jY=false;function Zh(){for(var p=[],r=0;r<arguments.length;r++)p[r]=arguments[r];return hm(p)}function hm(p){return p?1===p.length?p[0]:function(r){return p.reduce(function(p,r){return r(p)},r)}:Ma}function jm(){if(jY)return;jY=true;Hv={};Wh(),Hv.pipe=Zh,Hv.pipeFromArray=hm}var zY,w,HY=false;function Gv(r){if(r||(r=Ia.Promise||Promise),!r)throw new Error("no Promise impl found");return r}function y(){if(HY)return;HY=true;zY={};Vl(),FX(),Vd(),jm(),Mg();w=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var o=new r;return o.source=this,o.operator=e,o},r.prototype.subscribe=function(r,e,o){var t=this.operator,n=Iv(r,e,o);if(t?n.add(t.call(n,this.source)):n.add(this.source||Ia.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),Ia.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){Ia.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),Lh(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var o=this;return new(e=Gv(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(o){t(o),n&&n.unsubscribe()}},t,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[Vc]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:hm(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=Gv(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},r.create=function(e){return new r(e)},r}();zY.Observable=w}var KY,LY,Eb,OY=false;function gi(){if(OY)return;OY=true;KY={};LY=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();Eb=LY;KY.ObjectUnsubscribedError=Eb}var QY,sm,TY=false;function Cv(){if(TY)return;TY=true;QY={};b(),ia();sm=function(t){function e(e,i){var r=t.call(this)||this;return r.subject=e,r.subscriber=i,r.closed=!1,r}return a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(Q);QY.SubjectSubscription=sm}var wm,xm,ca,zm,ZY=false;function ua(){if(ZY)return;ZY=true;wm={};b(),y(),r(),ia(),gi(),Cv(),Il();xm=function(r){function t(t){var e=r.call(this,t)||this;return e.destination=t,e}return a(t,r),t}(l);wm.SubjectSubscriber=xm;ca=function(r){function t(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,r),t.prototype[Td]=function(){return new xm(this)},t.prototype.lift=function(r){var t=new zm(this,this);return t.operator=r,t},t.prototype.next=function(r){if(this.closed)throw new Eb;if(!this.isStopped)for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].next(r)},t.prototype.error=function(r){if(this.closed)throw new Eb;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Eb;this.isStopped=!0;for(var r=this.observers,t=r.length,e=r.slice(),o=0;o<t;o++)e[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Eb;return r.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(r){if(this.closed)throw new Eb;return this.hasError?(r.error(this.thrownError),Q.EMPTY):this.isStopped?(r.complete(),Q.EMPTY):(this.observers.push(r),new sm(this,r))},t.prototype.asObservable=function(){var r=new w;return r.source=this,r},t.create=function(r,t){return new zm(r,t)},t}(w);wm.Subject=ca;zm=function(r){function t(t,e){var o=r.call(this)||this;return o.destination=t,o.source=e,o}return a(t,r),t.prototype.next=function(r){var t=this.destination;t&&t.next&&t.next(r)},t.prototype.error=function(r){var t=this.destination;t&&t.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):Q.EMPTY},t}(ca);wm.AnonymousSubject=zm}var bZ,dZ,fZ,gZ=false;function Gi(){return function(n){return n.lift(new dZ(n))}}function Fm(){if(gZ)return;gZ=true;bZ={};b(),r(),bZ.refCount=Gi;dZ=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,e){var t=this.connectable;t._refCount++;var r=new fZ(n,t),i=e.subscribe(r);return r.closed||(r.connection=t.connect()),i},n}();fZ=function(n){function e(e,t){var r=n.call(this,e)||this;return r.connectable=t,r}return a(e,n),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._refCount;if(e<=0)this.connection=null;else if(n._refCount=e-1,e>1)this.connection=null;else{var t=this.connection,r=n._connection;this.connection=null,!r||t&&r!==t||r.unsubscribe()}}else this.connection=null},e}(l)}var Bv,Hm,zv,oZ,Gla,tZ,uZ=false;function xv(){if(uZ)return;uZ=true;Bv={};b(),ua(),y(),r(),ia(),Fm();Hm=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new Q).add(this.source.subscribe(new oZ(this.getSubject(),this))),e.closed&&(this._connection=null,e=Q.EMPTY)),e},t.prototype.refCount=function(){return Gi()(this)},t}(w);Bv.ConnectableObservable=Hm;zv=function(){var e=Hm.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();Bv.connectableObservableDescriptor=zv;oZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(xm);Gla=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new tZ(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}();tZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(l)}var wv,GZ,HZ,LZ,Ri,PZ,QZ=false;function vv(t,e,r,o){return function(i){return i.lift(new GZ(t,e,r,o))}}function sv(){if(QZ)return;QZ=true;wv={};b(),r(),ia(),y(),ua(),wv.groupBy=vv;GZ=function(){function t(t,e,r,o){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=o}return t.prototype.call=function(t,e){return e.subscribe(new HZ(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}();HZ=function(t){function e(e,r,o,i,n){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=o,s.durationSelector=i,s.subjectSelector=n,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var o,i=r.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!i){i=this.subjectSelector?this.subjectSelector():new ca,r.set(e,i);var n=new Ri(e,i,this);if(this.destination.next(n),this.durationSelector){var s=void 0;try{s=this.durationSelector(new Ri(e,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new LZ(e,i,this)))}}i.closed||i.next(o)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(l);LZ=function(t){function e(e,r,o){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=o,i}return a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(l);Ri=function(t){function e(e,r,o){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=o,i}return a(e,t),e.prototype._subscribe=function(t){var e=new Q,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&e.add(new PZ(r)),e.add(o.subscribe(t)),e},e}(w);wv.GroupedObservable=Ri;PZ=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(Q)}var i$,Tm,p$=false;function rv(){if(p$)return;p$=true;i$={};b(),ua(),gi();Tm=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Eb;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ca);i$.BehaviorSubject=Tm}var t$,qv,x$=false;function B$(){if(x$)return;x$=true;t$={};b(),ia();qv=function(t){function r(r,c){return t.call(this)||this}return a(r,t),r.prototype.schedule=function(t,r){return void 0===r&&(r=0),this},r}(Q);t$.Action=qv}var D$,je,F$=false;function xg(){if(F$)return;F$=true;D$={};b(),B$();je=function(t){function i(i,e){var n=t.call(this,i,e)||this;return n.scheduler=i,n.work=e,n.pending=!1,n}return a(i,t),i.prototype.schedule=function(t,i){if(void 0===i&&(i=0),this.closed)return this;this.state=t;var e=this.id,n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},i.prototype.requestAsyncId=function(t,i,e){return void 0===e&&(e=0),setInterval(t.flush.bind(t,this),e)},i.prototype.recycleAsyncId=function(t,i,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return i;clearInterval(i)},i.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,i){var e=!1,n=void 0;try{this.work(t)}catch(s){e=!0,n=!!s&&s||new Error(s)}if(e)return this.unsubscribe(),n},i.prototype._unsubscribe=function(){var t=this.id,i=this.scheduler,e=i.actions,n=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&e.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null},i}(qv);D$.AsyncAction=je}var N$,pv,V$=false;function Z$(){if(V$)return;V$=true;N$={};b(),xg();pv=function(t){function e(e,r){var s=t.call(this,e,r)||this;return s.scheduler=e,s.work=r,s}return a(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,s){return void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,s):e.flush(this)},e}(je);N$.QueueAction=pv}var b_,Eg,j_=false;function nv(){if(j_)return;j_=true;b_={};Eg=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();b_.Scheduler=Eg}var w_,me,z_=false;function Te(){if(z_)return;z_=true;w_={};b(),nv();me=function(e){function t(i,r){void 0===r&&(r=Eg.now);var c=e.call(this,i,function(){return t.delegate&&t.delegate!==c?t.delegate.now():r()})||this;return c.actions=[],c.active=!1,c.scheduled=void 0,c}return a(t,e),t.prototype.schedule=function(i,r,c){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(i,r,c):e.prototype.schedule.call(this,i,r,c)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},t}(Eg);w_.AsyncScheduler=me}var B_,lv,D_=false;function E_(){if(D_)return;D_=true;B_={};b(),Te();lv=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return a(r,e),r}(me);B_.QueueScheduler=lv}var I_,mn,K_=false;function kv(){if(K_)return;K_=true;I_={};Z$(),E_();mn=new lv(pv);I_.queue=mn}var jv,Xc,Z_=false;function Yc(t){return t?__(t):Xc}function __(t){return new w(function(e){return t.schedule(function(){return e.complete()})})}function wb(){if(Z_)return;Z_=true;jv={};y();Xc=new w(function(t){return t.complete()});jv.EMPTY=Xc,jv.empty=Yc}var daa,iaa=false;function va(e){return e&&"function"==typeof e.schedule}function tb(){if(iaa)return;iaa=true;daa={};daa.isScheduler=va}var naa,wn,paa=false;function hv(){if(paa)return;paa=true;naa={};wn=function(r){return function(e){for(var o=0,t=r.length;o<t&&!e.closed;o++)e.next(r[o]);e.complete()}};naa.subscribeToArray=wn}var taa,vaa=false;function Tg(e,r){return new w(function($){var a=new Q,t=0;return a.add(r.schedule(function(){t!==e.length?($.next(e[t++]),$.closed||a.add(this.schedule())):$.complete()})),a})}function zn(){if(vaa)return;vaa=true;taa={};y(),ia(),taa.scheduleArray=Tg}var Faa,Jaa=false;function re(r,e){return e?Tg(r,e):new w(wn(r))}function gf(){if(Jaa)return;Jaa=true;Faa={};y(),hv(),zn(),Faa.fromArray=re}var Qaa,Zaa=false;function hf(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var $=r[r.length-1];return va($)?(r.pop(),Tg(r,$)):re(r)}function Zg(){if(Zaa)return;Zaa=true;Qaa={};tb(),gf(),zn(),Qaa.of=hf}var lba,oba=false;function $g(r,o){return o?new w(function(e){return o.schedule(wba,0,{error:r,subscriber:e})}):new w(function(o){return o.error(r)})}function wba(r){var o=r.error;r.subscriber.error(o)}function Fn(){if(oba)return;oba=true;lba={};y(),lba.throwError=$g}var Dba,_g,In,bb,Mba=false;function bh(){if(Mba)return;Mba=true;In={};wb(),Zg(),Fn(),In.NotificationKind=_g,function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(_g||(Dba=_g={},In.NotificationKind=_g,Dba));bb=function(){function t(t,o,e){this.kind=t,this.value=o,this.error=e,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete();}},t.prototype.do=function(t,o,e){switch(this.kind){case"N":return t&&t(this.value);case"E":return o&&o(this.error);case"C":return e&&e();}},t.prototype.accept=function(t,o,e){return t&&"function"==typeof t.next?this.observe(t):this.do(t,o,e)},t.prototype.toObservable=function(){switch(this.kind){case"N":return hf(this.value);case"E":return $g(this.error);case"C":return Yc();}throw new Error("unexpected notification kind value")},t.createNext=function(o){return void 0!==o?new t("N",o):t.undefinedValueNotification},t.createError=function(o){return new t("E",void 0,o)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();In.Notification=bb}var ch,gv,On,fv,Xba=false;function ev(e,s){return void 0===s&&(s=0),function(r){return r.lift(new gv(e,s))}}function dv(){if(Xba)return;Xba=true;ch={};b(),r(),bh(),ch.observeOn=ev;gv=function(){function e(e,s){void 0===s&&(s=0),this.scheduler=e,this.delay=s}return e.prototype.call=function(e,s){return s.subscribe(new On(e,this.scheduler,this.delay))},e}();ch.ObserveOnOperator=gv;On=function(e){function s(s,r,t){void 0===t&&(t=0);var i=e.call(this,s)||this;return i.scheduler=r,i.delay=t,i}return a(s,e),s.dispatch=function(e){var s=e.notification,r=e.destination;s.observe(r),this.unsubscribe()},s.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(s.dispatch,this.delay,new fv(e,this.destination)))},s.prototype._next=function(e){this.scheduleMessage(bb.createNext(e))},s.prototype._error=function(e){this.scheduleMessage(bb.createError(e)),this.unsubscribe()},s.prototype._complete=function(){this.scheduleMessage(bb.createComplete()),this.unsubscribe()},s}(l);ch.ObserveOnSubscriber=On;fv=function(){return function(e,s){this.notification=e,this.destination=s}}();ch.ObserveOnMessage=fv}var aca,eh,dca,eca=false;function Wn(){if(eca)return;eca=true;aca={};b(),ua(),kv(),ia(),dv(),gi(),Cv();eh=function(e){function t(t,r,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new dca(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,o=i.length;if(this.closed)throw new Eb;if(this.isStopped||this.hasError?t=Q.EMPTY:(this.observers.push(e),t=new sm(this,e)),n&&e.add(e=new On(e,n)),r)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||mn).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(e-i[o].time<r);)o++;return n>t&&(o=Math.max(o,n-t)),o>0&&i.splice(0,o),i},t}(ca);aca.ReplaySubject=eh;dca=function(){return function(e,t){this.time=e,this.value=t}}()}var gca,$c,jca=false;function ih(){if(jca)return;jca=true;gca={};b(),ua(),ia();$c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),Q.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Q.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ca);gca.AsyncSubject=$c}var lca,mca,$n,_n,rca=false;function tca(e){var t=$n[e];t&&t()}function vca(){if(rca)return;rca=true;lca={};mca=1;$n={};_n={setImmediate:function(e){var t=mca++;return $n[t]=e,Promise.resolve().then(function(){return tca(t)}),t},clearImmediate:function(e){delete $n[e]}};lca.Immediate=_n}var zca,cv,Bca=false;function Cca(){if(Bca)return;Bca=true;zca={};b(),vca(),xg();cv=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return a(t,e),t.prototype.requestAsyncId=function(t,i,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,i,r):(t.actions.push(this),t.scheduled||(t.scheduled=_n.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,i,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,i,r);0===t.actions.length&&(_n.clearImmediate(i),t.scheduled=void 0)},t}(je);zca.AsapAction=cv}var Dca,bv,Hca=false;function Ica(){if(Hca)return;Hca=true;Dca={};b(),Te();bv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,i=-1,u=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<u&&(e=r.shift()));if(this.active=!1,t){for(;++i<u&&(e=r.shift());)e.unsubscribe();throw t}},t}(me);Dca.AsapScheduler=bv}var Jca,nf,Mca=false;function av(){if(Mca)return;Mca=true;Jca={};Cca(),Ica();nf=new bv(cv);Jca.asap=nf}var Oca,la,Yca=false;function za(){if(Yca)return;Yca=true;Oca={};xg(),Te();la=new me(je);Oca.async=la}var cda,$u,hda=false;function ida(){if(hda)return;hda=true;cda={};b(),xg();$u=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}return a(t,n),t.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&r>0?n.prototype.requestAsyncId.call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)},t}(je);cda.AnimationFrameAction=$u}var lda,Zu,nda=false;function oda(){if(nda)return;nda=true;lda={};b(),Te();Zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,i=this.actions,r=-1,n=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<n&&(e=i.shift()));if(this.active=!1,t){for(;++r<n&&(e=i.shift());)e.unsubscribe();throw t}},t}(me);lda.AnimationFrameScheduler=Zu}var pda,Yu,wda=false;function zda(){if(wda)return;wda=true;pda={};ida(),oda();Yu=new Zu($u);pda.animationFrame=Yu}var Xu,Uu,qo,Hda=false;function Jda(){if(Hda)return;Hda=true;Xu={};b(),xg(),Te();Uu=function(e){function t(t,r){void 0===t&&(t=qo),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return a(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,i=this.maxFrames;(t=r[0])&&t.delay<=i&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(me);Xu.VirtualTimeScheduler=Uu;qo=function(e){function t(t,r,i){void 0===i&&(i=t.index+=1);var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o.index=i,o.active=!0,o.index=t.index=i,o}return a(t,e),t.prototype.schedule=function(r,i){if(void 0===i&&(i=0),!this.id)return e.prototype.schedule.call(this,r,i);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,i)},t.prototype.requestAsyncId=function(e,r,i){void 0===i&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(je);Xu.VirtualAction=qo}var Lda,Rda=false;function zc(t){return t}function ye(){if(Rda)return;Rda=true;Lda={};Lda.identity=zc}var Vda,Wda=false;function Tu(e){return!!e&&(e instanceof w||"function"==typeof e.lift&&"function"==typeof e.subscribe)}function Yda(){if(Wda)return;Wda=true;Vda={};y(),Vda.isObservable=Tu}var Zda,$da,_c,bea=false;function xf(){if(bea)return;bea=true;Zda={};$da=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();_c=$da;Zda.ArgumentOutOfRangeError=_c}var gea,lea,Ee,nea=false;function Af(){if(nea)return;nea=true;gea={};lea=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();Ee=lea;gea.EmptyError=Ee}var sea,wea,Ao,yea=false;function Su(){if(yea)return;yea=true;sea={};wea=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();Ao=wea;sea.TimeoutError=Ao}var Pu,Ou,Iea,Jea=false;function Fa(r,t){return function(e){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new Ou(r,t))}}function La(){if(Jea)return;Jea=true;Pu={};b(),r(),Pu.map=Fa;Ou=function(){function r(r,t){this.project=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new Iea(r,this.project,this.thisArg))},r}();Pu.MapOperator=Ou;Iea=function(r){function t(t,e,o){var i=r.call(this,t)||this;return i.project=e,i.count=0,i.thisArg=o||i,i}return a(t,r),t.prototype._next=function(r){var t;try{t=this.project.call(this.thisArg,r,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(l)}var Mea,Nea=false;function Ko(r,e,t){if(e){if(!va(e))return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return Ko(r,t).apply(void 0,u).pipe(Fa(function(r){return ja(r)?e.apply(void 0,r):e(r)}))};t=e}return function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];var c,a=this,$={context:a,subject:c,callbackFunc:r,scheduler:t};return new w(function(u){if(t){var n={args:e,subscriber:u,params:$};return t.schedule(Qea,0,n)}if(!c){c=new $c;try{r.apply(a,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];c.next(r.length<=1?r[0]:r),c.complete()}]))}catch(i){Lh(c)?c.error(i):console.warn(i)}}return c.subscribe(u)})}}function Qea(r){var e=this,t=r.args,u=r.subscriber,c=r.params,a=c.callbackFunc,$=c.context,n=c.scheduler,i=c.subject;if(!i){i=c.subject=new $c;try{a.apply($,t.concat([function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var u=r.length<=1?r[0]:r;e.add(n.schedule(Rea,0,{value:u,subject:i}))}]))}catch(o){i.error(o)}}this.add(i.subscribe(u))}function Rea(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function Sea(){if(Nea)return;Nea=true;Mea={};y(),ih(),La(),Vl(),Da(),tb(),Mea.bindCallback=Ko}var Uea,Vea=false;function Lo(r,e,t){if(e){if(!va(e))return function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return Lo(r,t).apply(void 0,c).pipe(Fa(function(r){return ja(r)?e.apply(void 0,r):e(r)}))};t=e}return function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];var a={subject:void 0,args:e,callbackFunc:r,scheduler:t,context:this};return new w(function(c){var $=a.context,i=a.subject;if(t)return t.schedule(Xea,0,{params:a,subscriber:c,context:$});if(!i){i=a.subject=new $c;try{r.apply($,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.shift();t?i.error(t):(i.next(r.length<=1?r[0]:r),i.complete())}]))}catch(n){Lh(i)?i.error(n):console.warn(n)}}return i.subscribe(c)})}}function Xea(r){var e=this,t=r.params,c=r.subscriber,a=r.context,$=t.callbackFunc,i=t.args,n=t.scheduler,o=t.subject;if(!o){o=t.subject=new $c;try{$.apply(a,i.concat([function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var c=r.shift();if(c)e.add(n.schedule(Nu,0,{err:c,subject:o}));else{var a=r.length<=1?r[0]:r;e.add(n.schedule(Zea,0,{value:a,subject:o}))}}]))}catch(s){this.add(n.schedule(Nu,0,{err:s,subject:o}))}}this.add(o.subscribe(c))}function Zea(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function Nu(r){var e=r.err;r.subject.error(e)}function bfa(){if(Vea)return;Vea=true;Uea={};y(),ih(),La(),Vl(),tb(),Da(),Uea.bindNodeCallback=Lo}var dfa,D,ffa=false;function F(){if(ffa)return;ffa=true;dfa={};b(),r();D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.notifyNext=function(e,t,r,i,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(l);dfa.OuterSubscriber=D}var kfa,Mb,mfa=false;function oc(){if(mfa)return;mfa=true;kfa={};b(),r();Mb=function(r){function t(t,e,i){var n=r.call(this)||this;return n.parent=t,n.outerValue=e,n.outerIndex=i,n.index=0,n}return a(t,r),t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(l);kfa.InnerSubscriber=Mb}var ofa,Mu,qfa=false;function rfa(){if(qfa)return;qfa=true;ofa={};pl();Mu=function(r){return function(t){return r.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Tc),t}};ofa.subscribeToPromise=Mu}var rj,rb,vfa,xfa=false;function Lu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}function Lf(){if(xfa)return;xfa=true;rj={};rj.getSymbolIterator=Lu;rb=Lu();rj.iterator=rb;vfa=rb;rj.$$iterator=vfa}var Bfa,Iu,Ffa=false;function Gfa(){if(Ffa)return;Ffa=true;Bfa={};Lf();Iu=function(r){return function(e){for(var t=r[rb]();;){var o=t.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof t.return&&e.add(function(){t.return&&t.return()}),e}};Bfa.subscribeToIterable=Iu}var Hfa,Gu,Jfa=false;function Lfa(){if(Jfa)return;Jfa=true;Hfa={};Vd();Gu=function(e){return function(r){var b=e[Vc]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(r)}};Hfa.subscribeToObservable=Gu}var Qfa,xj,Xfa=false;function Fu(){if(Xfa)return;Xfa=true;Qfa={};xj=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};Qfa.isArrayLike=xj}var bga,cga=false;function zj(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function uA(){if(cga)return;cga=true;bga={};bga.isPromise=zj}var gga,Qf,iga=false;function Cj(){if(iga)return;iga=true;gga={};hv(),rfa(),Gfa(),Lfa(),Fu(),uA(),wl(),Lf(),Vd();Qf=function(r){if(r&&"function"==typeof r[Vc])return Gu(r);if(xj(r))return wn(r);if(zj(r))return Mu(r);if(r&&"function"==typeof r[rb])return Iu(r);var e=Xg(r)?"an invalid object":"'"+r+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};gga.subscribeTo=Qf}var lga,mga=false;function z(e,r,$,s,b){if(void 0===b&&(b=new Mb(e,$,s)),!b.closed)return r instanceof w?r.subscribe(b):Qf(r)(b)}function G(){if(mga)return;mga=true;lga={};oc(),Cj(),y(),lga.subscribeToResult=z}var Fj,Cu,di,Bu,zga=false;function Au(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null,i=null;return va(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&ja(t[0])&&(t=t[0]),re(t,i).lift(new di(r))}function Kj(){if(zga)return;zga=true;Fj={};b(),tb(),Da(),F(),G(),gf();Cu={};Fj.combineLatest=Au;di=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Bu(t,this.resultSelector))},t}();Fj.CombineLatestOperator=di;Bu=function(t){function e(e,r){var i=t.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return a(e,t),e.prototype._next=function(t){this.values.push(Cu),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var i=t[r];this.add(z(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,o){var s=this.values,$=s[r],n=this.toRespond?$===Cu?--this.toRespond:this.toRespond:0;s[r]=e,0===n&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(D);Fj.CombineLatestSubscriber=Bu}var Hga,Kga=false;function zu(e,r){return new w(function(n){var t=new Q;return t.add(r.schedule(function(){var u=e[Vc]();t.add(u.subscribe({next:function(e){t.add(r.schedule(function(){return n.next(e)}))},error:function(e){t.add(r.schedule(function(){return n.error(e)}))},complete:function(){t.add(r.schedule(function(){return n.complete()}))}}))})),t})}function Nga(){if(Kga)return;Kga=true;Hga={};y(),ia(),Vd(),Hga.scheduleObservable=zu}var Oga,Pga=false;function yu(e,r){return new w(function(n){var t=new Q;return t.add(r.schedule(function(){return e.then(function(e){t.add(r.schedule(function(){n.next(e),t.add(r.schedule(function(){return n.complete()}))}))},function(e){t.add(r.schedule(function(){return n.error(e)}))})})),t})}function Sga(){if(Pga)return;Pga=true;Oga={};y(),ia(),Oga.schedulePromise=yu}var Tga,Vga=false;function xu(e,r){if(!e)throw new Error("Iterable cannot be null");return new w(function(t){var c,n=new Q;return n.add(function(){c&&"function"==typeof c.return&&c.return()}),n.add(r.schedule(function(){c=e[rb](),n.add(r.schedule(function(){if(!t.closed){var e,r;try{var n=c.next();e=n.value,r=n.done}catch(o){return void t.error(o)}r?t.complete():(t.next(e),this.schedule())}}))})),n})}function Xga(){if(Vga)return;Vga=true;Tga={};y(),ia(),Lf(),Tga.scheduleIterable=xu}var Zga,$ga=false;function wu(e){return e&&"function"==typeof e[Vc]}function cha(){if($ga)return;$ga=true;Zga={};Vd(),Zga.isInteropObservable=wu}var fha,hha=false;function vu(e){return e&&"function"==typeof e[rb]}function kha(){if(hha)return;hha=true;fha={};Lf(),fha.isIterable=vu}var lha,mha=false;function Qj(e,r){if(null!=e){if(wu(e))return zu(e,r);if(zj(e))return yu(e,r);if(xj(e))return Tg(e,r);if(vu(e)||"string"==typeof e)return xu(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function uu(){if(mha)return;mha=true;lha={};Nga(),Sga(),zn(),Xga(),cha(),uA(),Fu(),kha(),lha.scheduled=Qj}var wha,zha=false;function Za(e,r){return r?Qj(e,r):e instanceof w?e:new w(Qf(e))}function qb(){if(zha)return;zha=true;wha={};y(),Cj(),uu(),wha.from=Za}var Uj,su,qu,Nha=false;function pc(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(pc(function(r,i){return Za(e(r,i)).pipe(Fa(function(e,o){return t(r,e,i,o)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new su(e,r))})}function Re(){if(Nha)return;Nha=true;Uj={};b(),G(),F(),oc(),La(),qb(),Uj.mergeMap=pc;su=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new qu(e,this.project,this.concurrent))},e}();Uj.MergeMapOperator=su;qu=function(e){function t(t,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var i=new Mb(this,void 0,void 0);this.destination.add(i),z(this,e,t,r,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,i,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(D);Uj.MergeMapSubscriber=qu}var Uha,Vha=false;function Fi(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),pc(zc,e)}function $j(){if(Vha)return;Vha=true;Uha={};Re(),ye(),Uha.mergeAll=Fi}var Zha,$ha=false;function _j(){return Fi(1)}function pu(){if($ha)return;$ha=true;Zha={};$j(),Zha.concatAll=_j}var fia,gia=false;function Kd(){for(var $=[],r=0;r<arguments.length;r++)$[r]=arguments[r];return _j()(hf.apply(void 0,$))}function Ji(){if(gia)return;gia=true;fia={};Zg(),pu(),fia.concat=Kd}var kia,nia=false;function Ki(r){return new w(function(e){var $;try{$=r()}catch(f){return void e.error(f)}return($?Za($):Yc()).subscribe(e)})}function ek(){if(nia)return;nia=true;kia={};y(),qb(),wb(),kia.defer=Ki}var ria,sia=false;function mu(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(1===r.length){var n=r[0];if(ja(n))return Oi(n,null);if(Xg(n)&&Object.getPrototypeOf(n)===Object.prototype){var t=Object.keys(n);return Oi(t.map(function(r){return n[r]}),t)}}if("function"==typeof r[r.length-1]){var o=r.pop();return Oi(r=1===r.length&&ja(r[0])?r[0]:r,null).pipe(Fa(function(r){return o.apply(void 0,r)}))}return Oi(r,null)}function Oi(r,e){return new w(function(n){var t=r.length;if(0!==t)for(var o=new Array(t),$=0,p=0,i=function(i){var a=Za(r[i]),u=!1;n.add(a.subscribe({next:function(r){u||(u=!0,p++),o[i]=r},error:function(r){return n.error(r)},complete:function(){++$!==t&&u||(p===t&&n.next(e?e.reduce(function(r,e,n){return r[e]=o[n],r},{}):o),n.complete())}}))},a=0;a<t;a++)i(a);else n.complete()})}function wia(){if(sia)return;sia=true;ria={};y(),Da(),La(),wl(),qb(),ria.forkJoin=mu}var xia,Fla,Gia=false;function ik(e,t,r,n){return Sc(r)&&(n=r,r=void 0),n?ik(e,t,r).pipe(Fa(function(e){return ja(e)?n.apply(void 0,e):n(e)})):new w(function(n){ju(e,t,function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)},n,r)})}function ju(e,t,r,n,i){var o;if(Via(e)){var $=e;e.addEventListener(t,r,i),o=function(){return $.removeEventListener(t,r,i)}}else if(Tia(e)){var u=e;e.on(t,r),o=function(){return u.off(t,r)}}else if(Sia(e)){var v=e;e.addListener(t,r),o=function(){return v.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,f=e.length;a<f;a++)ju(e[a],t,r,n,i)}n.add(o)}function Sia(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function Tia(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function Via(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function Wia(){if(Gia)return;Gia=true;xia={};y(),Da(),lf(),La();Fla=function(){return Object.prototype.toString}();xia.fromEvent=ik}var aja,eja=false;function kk(r,e,t){return t?kk(r,e).pipe(Fa(function(r){return ja(r)?t.apply(void 0,r):t(r)})):new w(function(t){var $,n=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.next(1===r.length?r[0]:r)};try{$=r(n)}catch(o){return void t.error(o)}if(Sc(e))return function(){return e(n,$)}})}function gja(){if(eja)return;eja=true;aja={};y(),Da(),lf(),La(),aja.fromEventPattern=kk}var jja,kja=false;function iu(e,r,t,i,c){var o,a;if(1==arguments.length){var n=e;a=n.initialState,r=n.condition,t=n.iterate,o=n.resultSelector||zc,c=n.scheduler}else void 0===i||va(i)?(a=e,o=zc,c=i):(a=e,o=i);return new w(function(e){var i=a;if(c)return c.schedule(rja,0,{subscriber:e,iterate:t,condition:r,resultSelector:o,state:i});for(;;){if(r){var n=void 0;try{n=r(i)}catch(d){return void e.error(d)}if(!n){e.complete();break}}var $=void 0;try{$=o(i)}catch(d){return void e.error(d)}if(e.next($),e.closed)break;try{i=t(i)}catch(d){return void e.error(d)}}})}function rja(e){var r=e.subscriber,t=e.condition;if(!r.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void r.error(o)}else e.needIterate=!0;if(t){var i=void 0;try{i=t(e.state)}catch(o){return void r.error(o)}if(!i)return void r.complete();if(r.closed)return}var c;try{c=e.resultSelector(e.state)}catch(o){return void r.error(o)}if(!r.closed&&(r.next(c),!r.closed))return this.schedule(e)}}function wja(){if(kja)return;kja=true;jja={};y(),ye(),tb(),jja.generate=iu}var xja,yja=false;function hu($,r,e){return void 0===r&&(r=Xc),void 0===e&&(e=Xc),Ki(function(){return $()?r:e})}function Bja(){if(yja)return;yja=true;xja={};ek(),wb(),xja.iif=hu}var Cja,Dja=false;function gd(r){return!ja(r)&&r-parseFloat(r)+1>=0}function Yi(){if(Dja)return;Dja=true;Cja={};Da(),Cja.isNumeric=gd}var Hja,Ija=false;function gu(r,e){return void 0===r&&(r=0),void 0===e&&(e=la),(!gd(r)||r<0)&&(r=0),e&&"function"==typeof e.schedule||(e=la),new w(function($){return $.add(e.schedule(Kja,r,{subscriber:$,counter:0,period:r})),$})}function Kja(r){var e=r.subscriber,$=r.counter,i=r.period;e.next($),this.schedule({subscriber:e,counter:$+1,period:i},i)}function Lja(){if(Ija)return;Ija=true;Hja={};y(),za(),Yi(),Hja.interval=gu}var Nja,Pja=false;function qk(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var $=Number.POSITIVE_INFINITY,u=null,l=e[e.length-1];return va(l)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&($=e.pop())):"number"==typeof l&&($=e.pop()),null===u&&1===e.length&&e[0]instanceof w?e[0]:Fi($)(re(e,u))}function fu(){if(Pja)return;Pja=true;Nja={};y(),tb(),$j(),gf(),Nja.merge=qk}var eu,tk,Vja=false;function du(){return tk}function cu(){if(Vja)return;Vja=true;eu={};y(),Wh();tk=new w(Ma);eu.NEVER=tk,eu.never=du}var cka,eka=false;function gj(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(0===e.length)return Xc;var $=e[0],o=e.slice(1);return 1===e.length&&ja($)?gj.apply(void 0,$):new w(function(e){var r=function(){return e.add(gj.apply(void 0,o).subscribe(e))};return Za($).subscribe({next:function(r){e.next(r)},error:r,complete:r})})}function lka(){if(eka)return;eka=true;cka={};y(),qb(),Da(),wb(),cka.onErrorResumeNext=gj}var au,oka=false;function $t(e,r){return r?new w(function(s){var t=Object.keys(e),i=new Q;return i.add(r.schedule(Zt,0,{keys:t,index:0,subscriber:s,subscription:i,obj:e})),i}):new w(function(r){for(var s=Object.keys(e),t=0;t<s.length&&!r.closed;t++){var i=s[t];e.hasOwnProperty(i)&&r.next([i,e[i]])}r.complete()})}function Zt(e){var r=e.keys,s=e.index,t=e.subscriber,i=e.subscription,$=e.obj;if(!t.closed)if(s<r.length){var o=r[s];t.next([o,$[o]]),i.add(this.schedule({keys:r,index:s+1,subscriber:t,subscription:i,obj:$}))}else t.complete()}function xka(){if(oka)return;oka=true;au={};y(),ia(),au.pairs=$t,au.dispatch=Zt}var zka,Aka=false;function Ak(p,r){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=p,t.thisArg=r,t}function Xt(){if(Aka)return;Aka=true;zka={};zka.not=Ak}var Fka,Jka,Lka,Nka=false;function Wb(r,t){return function(i){return i.lift(new Jka(r,t))}}function Pd(){if(Nka)return;Nka=true;Fka={};b(),r(),Fka.filter=Wb;Jka=function(){function r(r,t){this.predicate=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new Lka(r,this.predicate,this.thisArg))},r}();Lka=function(r){function t(t,i,e){var u=r.call(this,t)||this;return u.predicate=i,u.thisArg=e,u.count=0,u}return a(t,r),t.prototype._next=function(r){var t;try{t=this.predicate.call(this.thisArg,r,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(r)},t}(l)}var Zka,ala=false;function Ut(r,$,o){return[Wb($,o)(new w(Qf(r))),Wb(Ak($,o))(new w(Qf(r)))]}function kla(){if(ala)return;ala=true;Zka={};Xt(),Cj(),Pd(),y(),Zka.partition=Ut}var Fk,Tt,Qt,vA=false;function Ik(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(1===r.length){if(!ja(r[0]))return r[0];r=r[0]}return re(r,void 0).lift(new Tt)}function Pt(){if(vA)return;vA=true;Fk={};b(),Da(),gf(),F(),G(),Fk.race=Ik;Tt=function(){function r(){}return r.prototype.call=function(r,t){return t.subscribe(new Qt(r))},r}();Fk.RaceOperator=Tt;Qt=function(r){function t(t){var e=r.call(this,t)||this;return e.hasFirst=!1,e.observables=[],e.subscriptions=[],e}return a(t,r),t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,t=r.length;if(0===t)this.destination.complete();else{for(var e=0;e<t&&!this.hasFirst;e++){var s=r[e],i=z(this,s,s,e);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(r,t,e,s,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==e){var $=this.subscriptions[o];$.unsubscribe(),this.remove($)}this.subscriptions=null}this.destination.next(t)},t}(D);Fk.RaceSubscriber=Qt}var Nt,zA=false;function Mt(e,r,t){return void 0===e&&(e=0),new w(function($){void 0===r&&(r=e,e=0);var o=0,s=e;if(t)return t.schedule(Lt,0,{index:o,count:r,start:e,subscriber:$});for(;;){if(o++>=r){$.complete();break}if($.next(s++),$.closed)break}})}function Lt(e){var r=e.start,t=e.index,$=e.count,o=e.subscriber;t>=$?o.complete():(o.next(r),o.closed||(e.index=t+1,e.start=r+1,this.schedule(e)))}function CA(){if(zA)return;zA=true;Nt={};y(),Nt.range=Mt,Nt.dispatch=Lt}var DA,EA=false;function Nk(e,r,$){void 0===e&&(e=0);var i=-1;return gd(r)?i=Number(r)<1?1:Number(r):va(r)&&($=r),va($)||($=la),new w(function(r){var t=gd(e)?e:+e-$.now();return $.schedule(GA,t,{index:0,period:i,subscriber:r})})}function GA(e){var r=e.index,$=e.period,i=e.subscriber;if(i.next(r),!i.closed){if(-1===$)return i.complete();e.index=r+1,this.schedule(e,$)}}function Dt(){if(EA)return;EA=true;DA={};y(),za(),Yi(),tb(),DA.timer=Nk}var IA,JA=false;function zt(r,e){return new w(function($){var t,u;try{t=r()}catch(n){return void $.error(n)}try{u=e(t)}catch(n){return void $.error(n)}var i=(u?Za(u):Xc).subscribe($);return function(){i.unsubscribe(),t&&t.unsubscribe()}})}function LA(){if(JA)return;JA=true;IA={};y(),qb(),wb(),IA.using=zt}var Qk,Rk,xt,PA,QA,RA,SA=false;function Tk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),re(t,void 0).lift(new Rk(r))}function Uk(){if(SA)return;SA=true;Qk={};b(),gf(),Da(),r(),F(),G(),Lf(),Qk.zip=Tk;Rk=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new xt(t,this.resultSelector))},t}();Qk.ZipOperator=Rk;xt=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof r?r:null,o.values=i,o}return a(e,t),e.prototype._next=function(t){var e=this.iterators;ja(t)?e.push(new QA(t)):"function"==typeof t[rb]?e.push(new PA(t[rb]())):e.push(new RA(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var i=t[r];if(i.stillUnsubscribed)this.destination.add(i.subscribe(i,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){if("function"==typeof(p=t[i]).hasValue&&!p.hasValue())return}var o=!1,n=[];for(i=0;i<e;i++){var p,s=(p=t[i]).next();if(p.hasCompleted()&&(o=!0),s.done)return void r.complete();n.push(s.value)}this.resultSelector?this._tryresultSelector(n):r.next(n),o&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(l);Qk.ZipSubscriber=xt;PA=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}();QA=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[rb]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}();RA=function(t){function e(e,r,i){var o=t.call(this,e)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return a(e,t),e.prototype[rb]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return z(this,this.observable,this,e)},e}(D)}var e,WA=false;function ka(){if(WA)return;WA=true;e={};y(),xv(),sv(),Vd(),ua(),rv(),Wn(),ih(),av(),za(),kv(),zda(),Jda(),nv(),ia(),r(),bh(),jm(),Wh(),ye(),Yda(),xf(),Af(),gi(),Ov(),Su(),Sea(),bfa(),Kj(),Ji(),ek(),wb(),wia(),qb(),Wia(),gja(),wja(),Bja(),Lja(),fu(),cu(),Zg(),lka(),xka(),kla(),Pt(),CA(),Fn(),Dt(),LA(),Uk(),uu(),wb(),cu(),Mg(),e.Observable=w,e.ConnectableObservable=Hm,e.GroupedObservable=Ri,e.observable=Vc,e.Subject=ca,e.BehaviorSubject=Tm,e.ReplaySubject=eh,e.AsyncSubject=$c,e.asapScheduler=nf,e.asyncScheduler=la,e.queueScheduler=mn,e.animationFrameScheduler=Yu,e.VirtualAction=qo,e.VirtualTimeScheduler=Uu,e.Scheduler=Eg,e.Subscription=Q,e.Subscriber=l,e.NotificationKind=_g,e.Notification=bb,e.pipe=Zh,e.noop=Ma,e.identity=zc,e.isObservable=Tu,e.ArgumentOutOfRangeError=_c,e.EmptyError=Ee,e.ObjectUnsubscribedError=Eb,e.UnsubscriptionError=Md,e.TimeoutError=Ao,e.bindCallback=Ko,e.bindNodeCallback=Lo,e.combineLatest=Au,e.concat=Kd,e.defer=Ki,e.empty=Yc,e.forkJoin=mu,e.from=Za,e.fromEvent=ik,e.fromEventPattern=kk,e.generate=iu,e.iif=hu,e.interval=gu,e.merge=qk,e.never=du,e.of=hf,e.onErrorResumeNext=gj,e.pairs=$t,e.partition=Ut,e.race=Ik,e.range=Mt,e.throwError=$g,e.timer=Nk,e.using=zt,e.zip=Tk,e.scheduled=Qj,e.EMPTY=Xc,e.NEVER=tk,e.config=Ia}var YA,ZA,$A,_A=false;function Xk(t){return function(r){return r.lift(new ZA(t))}}function wt(){if(_A)return;_A=true;YA={};b(),F(),G(),YA.audit=Xk;ZA=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,r){return r.subscribe(new $A(t,this.durationSelector))},t}();$A=function(t){function r(r,e){var i=t.call(this,r)||this;return i.durationSelector=e,i.hasValue=!1,i}return a(r,t),r.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var r=void 0;try{r=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var e=z(this,r);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},r.prototype.clearThrottle=function(){var t=this.value,r=this.hasValue,e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},r.prototype.notifyNext=function(t,r,e,i){this.clearThrottle()},r.prototype.notifyComplete=function(){this.clearThrottle()},r}(D)}var cB,dB=false;function vt(r,$){return void 0===$&&($=la),Xk(function(){return Nk(r,$)})}function fB(){if(dB)return;dB=true;cB={};za(),wt(),Dt(),cB.auditTime=vt}var gB,hB,iB,jB=false;function ut(e){return function(r){return r.lift(new hB(e))}}function lB(){if(jB)return;jB=true;gB={};b(),F(),G(),gB.buffer=ut;hB=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,r){return r.subscribe(new iB(e,this.closingNotifier))},e}();iB=function(e){function r(r,t){var f=e.call(this,r)||this;return f.buffer=[],f.add(z(f,t)),f}return a(r,e),r.prototype._next=function(e){this.buffer.push(e)},r.prototype.notifyNext=function(e,r,t,f,i){var u=this.buffer;this.buffer=[],this.destination.next(u)},r}(D)}var mB,nB,oB,pB,qB=false;function tt(t,r){return void 0===r&&(r=null),function(e){return e.lift(new nB(t,r))}}function sB(){if(qB)return;qB=true;mB={};b(),r(),mB.bufferCount=tt;nB=function(){function t(t,r){this.bufferSize=t,this.startBufferEvery=r,this.subscriberClass=r&&t!==r?pB:oB}return t.prototype.call=function(t,r){return r.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}();oB=function(t){function r(r,e){var i=t.call(this,r)||this;return i.bufferSize=e,i.buffer=[],i}return a(r,t),r.prototype._next=function(t){var r=this.buffer;r.push(t),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},r.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},r}(l);pB=function(t){function r(r,e,i){var u=t.call(this,r)||this;return u.bufferSize=e,u.startBufferEvery=i,u.buffers=[],u.count=0,u}return a(r,t),r.prototype._next=function(t){var r=this.bufferSize,e=this.startBufferEvery,i=this.buffers,u=this.count;this.count++,u%e==0&&i.push([]);for(var n=i.length;n--;){var f=i[n];f.push(t),f.length===r&&(i.splice(n,1),this.destination.next(f))}},r.prototype._complete=function(){for(var r=this.buffers,e=this.destination;r.length>0;){var i=r.shift();i.length>0&&e.next(i)}t.prototype._complete.call(this)},r}(l)}var tB,uB,vB,wB,xB=false;function st(e){var t=arguments.length,r=la;va(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new uB(e,n,i,r))}}function rt(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function AB(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,s=n.openContext();n.closed||(n.add(s.closeAction=i.schedule(qt,r,{subscriber:n,context:s})),this.schedule(e,t))}function qt(e){var t=e.subscriber,r=e.context;t.closeContext(r)}function CB(){if(xB)return;xB=true;tB={};b(),za(),r(),tb(),tB.bufferTime=st;uB=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new wB(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}();vB=function(){return function(){this.buffer=[]}}();wB=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=n,o.maxBufferSize=i,o.scheduler=s,o.contexts=[];var a=o.openContext();if(o.timespanOnly=null==n||n<0,o.timespanOnly){var u={subscriber:o,context:a,bufferTimeSpan:r};o.add(a.closeAction=s.schedule(rt,r,u))}else{var c={subscriber:o,context:a},f={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:o,scheduler:s};o.add(a.closeAction=s.schedule(qt,r,c)),o.add(s.schedule(AB,n,f))}return o}return a(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var s=r[i],o=s.buffer;o.push(e),o.length==this.maxBufferSize&&(t=s)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(rt,r,n))}},t.prototype.openContext=function(){var e=new vB;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(l)}var DB,EB,FB,GB=false;function pt(t,e){return function(r){return r.lift(new EB(t,e))}}function IB(){if(GB)return;GB=true;DB={};b(),ia(),G(),F(),DB.bufferToggle=pt;EB=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new FB(t,this.openings,this.closingSelector))},t}();FB=function(t){function e(e,r,o){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=o,i.contexts=[],i.add(z(i,r)),i}return a(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,o=0;o<r;o++)e[o].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var o=r.shift();o.subscription.unsubscribe(),o.buffer=null,o.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,o,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(r){this._error(r)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,o=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new Q,o={buffer:[],subscription:r};e.push(o);var i=z(this,t,o);!i||i.closed?this.closeBuffer(o):(i.context=o,this.add(i),r.add(i))},e}(D)}var JB,KB,LB,MB=false;function ot(r){return function(t){return t.lift(new KB(r))}}function OB(){if(MB)return;MB=true;JB={};b(),ia(),F(),G(),JB.bufferWhen=ot;KB=function(){function r(r){this.closingSelector=r}return r.prototype.call=function(r,t){return t.subscribe(new LB(r,this.closingSelector))},r}();LB=function(r){function t(t,e){var i=r.call(this,t)||this;return i.closingSelector=e,i.subscribing=!1,i.openBuffer(),i}return a(t,r),t.prototype._next=function(r){this.buffer.push(r)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(r,t,e,i,u){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var t,e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];try{t=(0,this.closingSelector)()}catch(i){return this.error(i)}r=new Q,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(z(this,t)),this.subscribing=!1},t}(D)}var PB,QB,RB,SB=false;function nt(r){return function(t){var e=new QB(r),i=t.lift(e);return e.caught=i}}function UB(){if(SB)return;SB=true;PB={};b(),F(),oc(),G(),PB.catchError=nt;QB=function(){function r(r){this.selector=r}return r.prototype.call=function(r,t){return t.subscribe(new RB(r,this.selector,this.caught))},r}();RB=function(r){function t(t,e,i){var c=r.call(this,t)||this;return c.selector=e,c.caught=i,c}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(c){return void r.prototype.error.call(this,c)}this._unsubscribeAndRecycle();var i=new Mb(this,void 0,void 0);this.add(i),z(this,e,void 0,void 0,i)}},t}(D)}var VB,WB=false;function mt(e){return function(r){return r.lift(new di(e))}}function YB(){if(WB)return;WB=true;VB={};Kj(),VB.combineAll=mt}var ZB,Ela,_B=false;function lt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&ja(e[0])&&(e=e[0].slice()),function(r){return r.lift.call(Za([r].concat(e)),new di(t))}}function bC(){if(_B)return;_B=true;ZB={};Da(),Kj(),qb();Ela={};ZB.combineLatest=lt}var cC,dC=false;function jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Kd.apply(void 0,[e].concat(t)))}}function fC(){if(dC)return;dC=true;cC={};Ji(),cC.concat=jt}var gC,hC=false;function jl($,r){return pc($,r,1)}function ht(){if(hC)return;hC=true;gC={};Re(),gC.concatMap=jl}var kC,lC=false;function et(p,o){return jl(function(){return p},o)}function nC(){if(lC)return;lC=true;kC={};ht(),kC.concatMapTo=et}var oC,pC,qC,rC=false;function dt(t){return function(r){return r.lift(new pC(t,r))}}function tC(){if(rC)return;rC=true;oC={};b(),r(),oC.count=dt;pC=function(){function t(t,r){this.predicate=t,this.source=r}return t.prototype.call=function(t,r){return r.subscribe(new qC(t,this.predicate,this.source))},t}();qC=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.predicate=e,n.source=i,n.count=0,n.index=0,n}return a(r,t),r.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},r.prototype._tryPredicate=function(t){var r;try{r=this.predicate(t,this.index++,this.source)}catch(e){return void this.destination.error(e)}r&&this.count++},r.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},r}(l)}var uC,vC,wC,xC=false;function ct(t){return function(e){return e.lift(new vC(t))}}function zC(){if(xC)return;xC=true;uC={};b(),F(),G(),uC.debounce=ct;vC=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new wC(t,this.durationSelector))},t}();wC=function(t){function e(e,r){var i=t.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i.durationSubscription=null,i}return a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=z(this,e))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,i,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(D)}var AC,BC,CC,DC=false;function bt(e,t){return void 0===t&&(t=la),function(i){return i.lift(new BC(e,t))}}function FC(e){e.debouncedNext()}function GC(){if(DC)return;DC=true;AC={};b(),r(),za(),AC.debounceTime=bt;BC=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new CC(e,this.dueTime,this.scheduler))},e}();CC=function(e){function t(t,i,u){var r=e.call(this,t)||this;return r.dueTime=i,r.scheduler=u,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(FC,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(l)}var HC,IC,JC,KC=false;function be(t){return void 0===t&&(t=null),function(e){return e.lift(new IC(t))}}function $e(){if(KC)return;KC=true;HC={};b(),r(),HC.defaultIfEmpty=be;IC=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new JC(t,this.defaultValue))},t}();JC=function(t){function e(e,r){var a=t.call(this,e)||this;return a.defaultValue=r,a.isEmpty=!0,a}return a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(l)}var NC,OC=false;function rl(t){return t instanceof Date&&!isNaN(+t)}function $s(){if(OC)return;OC=true;NC={};NC.isDate=rl}var RC,SC,TC,UC,VC=false;function Ws(e,t){void 0===t&&(t=la);var i=rl(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new SC(i,t))}}function XC(){if(VC)return;VC=true;RC={};b(),za(),$s(),r(),bh(),RC.delay=Ws;SC=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new TC(e,this.delay,this.scheduler))},e}();TC=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r.delay=i,r.scheduler=n,r.queue=[],r.active=!1,r.errored=!1,r}return a(t,e),t.dispatch=function(e){for(var t=e.source,i=t.queue,n=e.scheduler,r=e.destination;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(r);if(i.length>0){var s=Math.max(0,i[0].time-n.now());this.schedule(e,s)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,i=new UC(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(bb.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(bb.createComplete()),this.unsubscribe()},t}(l);UC=function(){return function(e,t){this.time=e,this.notification=t}}()}var YC,Vs,$C,_C,aD,bD=false;function Us(e,t){return t?function(r){return new _C(r,t).lift(new Vs(e))}:function(t){return t.lift(new Vs(e))}}function dD(){if(bD)return;bD=true;YC={};b(),r(),y(),F(),G(),YC.delayWhen=Us;Vs=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new $C(e,this.delayDurationSelector))},e}();$C=function(e){function t(t,r){var i=e.call(this,t)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return a(t,e),t.prototype.notifyNext=function(e,t,r,i,n){this.destination.next(e),this.removeSubscription(n),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var r=this.delayDurationSelector(e,t);r&&this.tryDelay(r,e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var r=z(this,e,t);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(D);_C=function(e){function t(t,r){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=r,i}return a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new aD(e,this.source))},t}(w);aD=function(e){function t(t,r){var i=e.call(this)||this;return i.parent=t,i.source=r,i.sourceSubscribed=!1,i}return a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(l)}var eD,fD,gD,hD=false;function Ts(){return function(e){return e.lift(new fD)}}function jD(){if(hD)return;hD=true;eD={};b(),r(),eD.dematerialize=Ts;fD=function(){function e(){}return e.prototype.call=function(e,r){return r.subscribe(new gD(e))},e}();gD=function(e){function r(r){return e.call(this,r)||this}return a(r,e),r.prototype._next=function(e){e.observe(this.destination)},r}(l)}var Ss,lD,Rs,nD=false;function Qs(t,e){return function(r){return r.lift(new lD(t,e))}}function pD(){if(nD)return;nD=true;Ss={};b(),F(),G(),Ss.distinct=Qs;lD=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Rs(t,this.keySelector,this.flushes))},t}();Rs=function(t){function e(e,r,i){var s=t.call(this,e)||this;return s.keySelector=r,s.values=new Set,i&&s.add(z(s,i)),s}return a(e,t),e.prototype.notifyNext=function(t,e,r,i,s){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(i){return void r.error(i)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(D);Ss.DistinctSubscriber=Rs}var qD,rD,sD,tD=false;function Al(t,r){return function(e){return e.lift(new rD(t,r))}}function Ps(){if(tD)return;tD=true;qD={};b(),r(),qD.distinctUntilChanged=Al;rD=function(){function t(t,r){this.compare=t,this.keySelector=r}return t.prototype.call=function(t,r){return r.subscribe(new sD(t,this.compare,this.keySelector))},t}();sD=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof e&&(n.compare=e),n}return a(r,t),r.prototype.compare=function(t,r){return t===r},r.prototype._next=function(t){var r;try{var e=this.keySelector;r=e?e(t):t}catch(n){return this.destination.error(n)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,r)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=r,this.destination.next(t))},r}(l)}var wD,xD=false;function Ms(n,t){return Al(function(i,e){return t?t(i[n],e[n]):i[n]===e[n]})}function zD(){if(xD)return;xD=true;wD={};Ps(),wD.distinctUntilKeyChanged=Ms}var AD,BD,CD,DD=false;function jf(r){return void 0===r&&(r=FD),function(t){return t.lift(new BD(r))}}function FD(){return new Ee}function gh(){if(DD)return;DD=true;AD={};b(),Af(),r(),AD.throwIfEmpty=jf;BD=function(){function r(r){this.errorFactory=r}return r.prototype.call=function(r,t){return t.subscribe(new CD(r,this.errorFactory))},r}();CD=function(r){function t(t,e){var o=r.call(this,t)||this;return o.errorFactory=e,o.hasValue=!1,o}return a(t,r),t.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(t){r=t}this.destination.error(r)},t}(l)}var HD,ID,JD,KD=false;function hh(t){return function(r){return 0===t?Yc():r.lift(new ID(t))}}function Gl(){if(KD)return;KD=true;HD={};b(),r(),xf(),wb(),HD.take=hh;ID=function(){function t(t){if(this.total=t,this.total<0)throw new _c}return t.prototype.call=function(t,r){return r.subscribe(new JD(t,this.total))},t}();JD=function(t){function r(r,e){var n=t.call(this,r)||this;return n.total=e,n.count=0,n}return a(r,t),r.prototype._next=function(t){var r=this.total,e=++this.count;e<=r&&(this.destination.next(t),e===r&&(this.destination.complete(),this.unsubscribe()))},r}(l)}var ND,OD=false;function Ks(r,e){if(r<0)throw new _c;var t=arguments.length>=2;return function($){return $.pipe(Wb(function(e,t){return t===r}),hh(1),t?be(e):jf(function(){return new _c}))}}function QD(){if(OD)return;OD=true;ND={};xf(),Pd(),gh(),$e(),Gl(),ND.elementAt=Ks}var RD,SD=false;function Fs(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){return Kd(e,hf.apply(void 0,r))}}function UD(){if(SD)return;SD=true;RD={};Ji(),Zg(),RD.endWith=Fs}var VD,WD,XD,YD=false;function Ds(t,r){return function(e){return e.lift(new WD(t,r,e))}}function $D(){if(YD)return;YD=true;VD={};b(),r(),VD.every=Ds;WD=function(){function t(t,r,e){this.predicate=t,this.thisArg=r,this.source=e}return t.prototype.call=function(t,r){return r.subscribe(new XD(t,this.predicate,this.thisArg,this.source))},t}();XD=function(t){function r(r,e,i,n){var o=t.call(this,r)||this;return o.predicate=e,o.thisArg=i,o.source=n,o.index=0,o.thisArg=i||o,o}return a(r,t),r.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},r.prototype._next=function(t){var r=!1;try{r=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(e){return void this.destination.error(e)}r||this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(l)}var _D,aE,bE,cE=false;function As(){return function(t){return t.lift(new aE)}}function eE(){if(cE)return;cE=true;_D={};b(),F(),G(),_D.exhaust=As;aE=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new bE(t))},t}();bE=function(t){function e(e){var r=t.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return a(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(z(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(D)}var fE,gE,hE,iE=false;function Ll(t,r){return r?function(e){return e.pipe(Ll(function(e,i){return Za(t(e,i)).pipe(Fa(function(t,o){return r(e,t,i,o)}))}))}:function(r){return r.lift(new gE(t))}}function kE(){if(iE)return;iE=true;fE={};b(),F(),oc(),G(),La(),qb(),fE.exhaustMap=Ll;gE=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new hE(t,this.project))},t}();hE=function(t){function r(r,e){var i=t.call(this,r)||this;return i.project=e,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return a(r,t),r.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},r.prototype.tryNext=function(t){var r,e=this.index++;try{r=this.project(t,e)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(r,t,e)},r.prototype._innerSub=function(t,r,e){var i=new Mb(this,void 0,void 0);this.destination.add(i),z(this,t,r,e,i)},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r}(D)}var Ml,zs,ys,oE=false;function ws(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(i){return i.lift(new zs(t,e,r))}}function qE(){if(oE)return;oE=true;Ml={};b(),F(),G(),Ml.expand=ws;zs=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ys(t,this.project,this.concurrent,this.scheduler))},t}();Ml.ExpandOperator=zs;ys=function(t){function e(e,r,i,o){var s=t.call(this,e)||this;return s.project=r,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return a(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,o=t.index;e.subscribeToProjection(r,i,o)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){r.next(t);try{var o=(0,this.project)(t,i);if(this.scheduler){var s={subscriber:this,result:o,value:t,index:i};this.destination.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(o,t,i)}catch(n){r.error(n)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add(z(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,o){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(D);Ml.ExpandSubscriber=ys}var rE,sE,tE,uE=false;function vs(r){return function(i){return i.lift(new sE(r))}}function wE(){if(uE)return;uE=true;rE={};b(),r(),ia(),rE.finalize=vs;sE=function(){function r(r){this.callback=r}return r.prototype.call=function(r,i){return i.subscribe(new tE(r,this.callback))},r}();tE=function(r){function i(i,$){var e=r.call(this,i)||this;return e.add(new Q($)),e}return a(i,r),i}(l)}var Rl,Sl,us,AE=false;function rs(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(i){return i.lift(new Sl(t,i,!1,e))}}function ps(){if(AE)return;AE=true;Rl={};b(),r(),Rl.find=rs;Sl=function(){function t(t,e,i,r){this.predicate=t,this.source=e,this.yieldIndex=i,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new us(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();Rl.FindValueOperator=Sl;us=function(t){function e(e,i,r,n,o){var s=t.call(this,e)||this;return s.predicate=i,s.source=r,s.yieldIndex=n,s.thisArg=o,s.index=0,s}return a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,i=this.thisArg,r=this.index++;try{e.call(i||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(l);Rl.FindValueSubscriber=us}var DE,EE=false;function ns(r,e){return function(n){return n.lift(new Sl(r,n,!0,e))}}function GE(){if(EE)return;EE=true;DE={};ps(),DE.findIndex=ns}var HE,IE=false;function js(r,t){var $=arguments.length>=2;return function(e){return e.pipe(r?Wb(function(t,$){return r(t,$,e)}):zc,hh(1),$?be(t):jf(function(){return new Ee}))}}function KE(){if(IE)return;IE=true;HE={};Af(),Pd(),Gl(),$e(),gh(),ye(),HE.first=js}var LE,ME,NE,OE=false;function is(){return function(n){return n.lift(new ME)}}function QE(){if(OE)return;OE=true;LE={};b(),r(),LE.ignoreElements=is;ME=function(){function n(){}return n.prototype.call=function(n,r){return r.subscribe(new NE(n))},n}();NE=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return a(r,n),r.prototype._next=function(n){},r}(l)}var RE,SE,TE,UE=false;function gs(){return function(t){return t.lift(new SE)}}function WE(){if(UE)return;UE=true;RE={};b(),r(),RE.isEmpty=gs;SE=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new TE(t))},t}();TE=function(t){function r(r){return t.call(this,r)||this}return a(r,t),r.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete()},r.prototype._next=function(t){this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(l)}var XE,YE,ZE,$E=false;function pf(t){return function(r){return 0===t?Yc():r.lift(new YE(t))}}function _l(){if($E)return;$E=true;XE={};b(),r(),xf(),wb(),XE.takeLast=pf;YE=function(){function t(t){if(this.total=t,this.total<0)throw new _c}return t.prototype.call=function(t,r){return r.subscribe(new ZE(t,this.total))},t}();ZE=function(t){function r(r,a){var e=t.call(this,r)||this;return e.total=a,e.ring=new Array,e.count=0,e}return a(r,t),r.prototype._next=function(t){var r=this.ring,a=this.total,e=this.count++;r.length<a?r.push(t):r[e%a]=t},r.prototype._complete=function(){var t=this.destination,r=this.count;if(r>0)for(var a=this.count>=this.total?this.total:this.count,e=this.ring,s=0;s<a;s++){var i=r++%a;t.next(e[i])}t.complete()},r}(l)}var bF,cF=false;function fs(r,t){var $=arguments.length>=2;return function(e){return e.pipe(r?Wb(function(t,$){return r(t,$,e)}):zc,pf(1),$?be(t):jf(function(){return new Ee}))}}function eF(){if(cF)return;cF=true;bF={};Af(),Pd(),_l(),gh(),$e(),ye(),bF.last=fs}var fF,gF,hF,iF=false;function _r(r){return function(t){return t.lift(new gF(r))}}function kF(){if(iF)return;iF=true;fF={};b(),r(),fF.mapTo=_r;gF=function(){function r(r){this.value=r}return r.prototype.call=function(r,t){return t.subscribe(new hF(r,this.value))},r}();hF=function(r){function t(t,e){var $=r.call(this,t)||this;return $.value=e,$}return a(t,r),t.prototype._next=function(r){this.destination.next(this.value)},t}(l)}var lF,mF,nF,oF=false;function $r(){return function(t){return t.lift(new mF)}}function qF(){if(oF)return;oF=true;lF={};b(),r(),bh(),lF.materialize=$r;mF=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new nF(t))},t}();nF=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype._next=function(t){this.destination.next(bb.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(bb.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(bb.createComplete()),t.complete()},e}(l)}var rF,sF,tF,uF=false;function rf(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(s){return s.lift(new sF(t,e,r))}}function em(){if(uF)return;uF=true;rF={};b(),r(),rF.scan=rf;sF=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new tF(t,this.accumulator,this.seed,this.hasSeed))},t}();tF=function(t){function e(e,r,s,i){var n=t.call(this,e)||this;return n.accumulator=r,n._seed=s,n.hasSeed=i,n.index=0,n}return a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(s){this.destination.error(s)}this.seed=e,this.destination.next(e)},e}(l)}var xF,yF=false;function sf($,e){return arguments.length>=2?function(r){return Zh(rf($,e),pf(1),be(e))(r)}:function(e){return Zh(rf(function(e,r,i){return $(e,r,i+1)}),pf(1))(e)}}function wh(){if(yF)return;yF=true;xF={};em(),_l(),$e(),jm(),xF.reduce=sf}var BF,CF=false;function Yr(r){return sf("function"==typeof r?function(e,$){return r(e,$)>0?e:$}:function(r,e){return r>e?r:e})}function EF(){if(CF)return;CF=true;BF={};wh(),BF.max=Yr}var FF,GF=false;function Wr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){return e.lift.call(qk.apply(void 0,[e].concat(r)))}}function IF(){if(GF)return;GF=true;FF={};fu(),FF.merge=Wr}var JF,KF=false;function Vr(e,r,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof r?pc(function(){return e},r,n):("number"==typeof r&&(n=r),pc(function(){return e},n))}function MF(){if(KF)return;KF=true;JF={};Re(),JF.mergeMapTo=Vr}var km,Sr,Qr,QF=false;function Or(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(i){return i.lift(new Sr(e,t,r))}}function SF(){if(QF)return;QF=true;km={};b(),G(),F(),oc(),km.mergeScan=Or;Sr=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new Qr(e,this.accumulator,this.seed,this.concurrent))},e}();km.MergeScanOperator=Sr;Qr=function(e){function t(t,r,i,n){var s=e.call(this,t)||this;return s.accumulator=r,s.acc=i,s.concurrent=n,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,t)}catch(n){return r.error(n)}this.active++,this._innerSub(i,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){var i=new Mb(this,void 0,void 0);this.destination.add(i),z(this,e,t,r,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,i,n){var s=this.destination;this.acc=t,this.hasValue=!0,s.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(D);km.MergeScanSubscriber=Qr}var TF,UF=false;function Nr(r){return sf("function"==typeof r?function(e,$){return r(e,$)<0?e:$}:function(r,e){return r<e?r:e})}function WF(){if(UF)return;UF=true;TF={};wh(),TF.min=Nr}var Mr,Lr,ZF=false;function Ec(t,r){return function(e){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof r)return e.lift(new Lr(o,r));var c=Object.create(e,zv);return c.source=e,c.subjectFactory=o,c}}function le(){if(ZF)return;ZF=true;Mr={};xv(),Mr.multicast=Ec;Lr=function(){function t(t,r){this.subjectFactory=t,this.selector=r}return t.prototype.call=function(t,r){var e=this.selector,o=this.subjectFactory(),c=e(o).subscribe(t);return c.add(r.subscribe(o)),c},t}();Mr.MulticastOperator=Lr}var Kr,Gr,cG,dG=false;function Fr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 1===r.length&&ja(r[0])&&(r=r[0]),function(e){return e.lift(new Gr(r))}}function fG(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t;return 1===r.length&&ja(r[0])&&(r=r[0]),t=r.shift(),Za(t,null).lift(new Gr(r))}function gG(){if(dG)return;dG=true;Kr={};b(),qb(),Da(),F(),oc(),G(),Kr.onErrorResumeNext=Fr,Kr.onErrorResumeNextStatic=fG;Gr=function(){function r(r){this.nextSources=r}return r.prototype.call=function(r,e){return e.subscribe(new cG(r,this.nextSources))},r}();cG=function(r){function e(e,t){var o=r.call(this,e)||this;return o.destination=e,o.nextSources=t,o}return a(e,r),e.prototype.notifyError=function(r,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(r){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var e=new Mb(this,void 0,void 0);this.destination.add(e),z(this,r,void 0,void 0,e)}else this.destination.complete()},e}(D)}var hG,iG,jG,kG=false;function Er(){return function(r){return r.lift(new iG)}}function mG(){if(kG)return;kG=true;hG={};b(),r(),hG.pairwise=Er;iG=function(){function r(){}return r.prototype.call=function(r,t){return t.subscribe(new jG(r))},r}();jG=function(r){function t(t){var e=r.call(this,t)||this;return e.hasPrev=!1,e}return a(t,r),t.prototype._next=function(r){var t;this.hasPrev?t=[this.prev,r]:this.hasPrev=!0,this.prev=r,t&&this.destination.next(t)},t}(l)}var nG,oG=false;function Dr(r,o){return function(t){return[Wb(r,o)(t),Wb(Ak(r,o))(t)]}}function qG(){if(oG)return;oG=true;nG={};Xt(),Pd(),nG.partition=Dr}var rG,sG=false;function Br(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var e=r.length;if(0===e)throw new Error("list of properties cannot be empty.");return function(u){return Fa(uG(r,e))(u)}}function uG(r,u){return function(e){for(var t=e,$=0;$<u;$++){var n=t[r[$]];if(void 0===n)return;t=n}return t}}function vG(){if(sG)return;sG=true;rG={};La(),rG.pluck=Br}var wG,xG=false;function Ar($){return $?Ec(function(){return new ca},$):Ec(new ca)}function zG(){if(xG)return;xG=true;wG={};ua(),le(),wG.publish=Ar}var AG,BG=false;function xr(r){return function(e){return Ec(new Tm(r))(e)}}function DG(){if(BG)return;BG=true;AG={};rv(),le(),AG.publishBehavior=xr}var EG,FG=false;function vr(){return function($){return Ec(new $c)($)}}function HG(){if(FG)return;FG=true;EG={};ih(),le(),EG.publishLast=vr}var IG,JG=false;function ur(e,t,r,$){r&&"function"!=typeof r&&($=r);var p="function"==typeof r?r:void 0,u=new eh(e,t,$);return function(e){return Ec(function(){return u},p)(e)}}function LG(){if(JG)return;JG=true;IG={};Wn(),le(),IG.publishReplay=ur}var MG,NG=false;function rr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){return 1===r.length&&ja(r[0])&&(r=r[0]),e.lift.call(Ik.apply(void 0,[e].concat(r)))}}function PG(){if(NG)return;NG=true;MG={};Da(),Pt(),MG.race=rr}var QG,qr,SG,TG=false;function nr(e){return void 0===e&&(e=-1),function(r){return 0===e?Yc():e<0?r.lift(new qr(-1,r)):r.lift(new qr(e-1,r))}}function VG(){if(TG)return;TG=true;QG={};b(),r(),wb(),QG.repeat=nr;qr=function(){function e(e,r){this.count=e,this.source=r}return e.prototype.call=function(e,r){return r.subscribe(new SG(e,this.count,this.source))},e}();SG=function(e){function r(r,t,i){var $=e.call(this,r)||this;return $.count=t,$.source=i,$}return a(r,e),r.prototype.complete=function(){if(!this.isStopped){var r=this.source,t=this.count;if(0===t)return e.prototype.complete.call(this);t>-1&&(this.count=t-1),r.subscribe(this._unsubscribeAndRecycle())}},r}(l)}var WG,XG,YG,ZG=false;function mr(t){return function(e){return e.lift(new XG(t))}}function _G(){if(ZG)return;ZG=true;WG={};b(),ua(),F(),G(),WG.repeatWhen=mr;XG=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new YG(t,this.notifier,e))},t}();YG=function(t){function e(e,i,r){var s=t.call(this,e)||this;return s.notifier=i,s.source=r,s.sourceIsBeingSubscribedTo=!0,s}return a(e,t),e.prototype.notifyNext=function(t,e,i,r,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new ca;try{e=(0,this.notifier)(this.notifications)}catch(i){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=z(this,e)},e}(D)}var aH,bH,cH,dH=false;function kr(r){return void 0===r&&(r=-1),function(t){return t.lift(new bH(r,t))}}function fH(){if(dH)return;dH=true;aH={};b(),r(),aH.retry=kr;bH=function(){function r(r,t){this.count=r,this.source=t}return r.prototype.call=function(r,t){return t.subscribe(new cH(r,this.count,this.source))},r}();cH=function(r){function t(t,e,i){var o=r.call(this,t)||this;return o.count=e,o.source=i,o}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=this.source,i=this.count;if(0===i)return r.prototype.error.call(this,t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}},t}(l)}var gH,hH,iH,jH=false;function jr(r){return function(e){return e.lift(new hH(r,e))}}function lH(){if(jH)return;jH=true;gH={};b(),ua(),F(),G(),gH.retryWhen=jr;hH=function(){function r(r,e){this.notifier=r,this.source=e}return r.prototype.call=function(r,e){return e.subscribe(new iH(r,this.notifier,this.source))},r}();iH=function(r){function e(e,t,i){var s=r.call(this,e)||this;return s.notifier=t,s.source=i,s}return a(e,r),e.prototype.error=function(e){if(!this.isStopped){var t=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{t=new ca;try{i=(0,this.notifier)(t)}catch(u){return r.prototype.error.call(this,u)}s=z(this,i)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=s,t.next(e)}},e.prototype._unsubscribe=function(){var r=this.errors,e=this.retriesSubscription;r&&(r.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(r,e,t,i,s){var u=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=u,this.source.subscribe(this)},e}(D)}var mH,nH,oH,pH=false;function er(t){return function(e){return e.lift(new nH(t))}}function rH(){if(pH)return;pH=true;mH={};b(),F(),G(),mH.sample=er;nH=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new oH(t),i=e.subscribe(r);return i.add(z(r,this.notifier)),i},t}();oH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,u){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(D)}var sH,tH,uH,vH=false;function cr(e,r){return void 0===r&&(r=la),function(i){return i.lift(new tH(e,r))}}function xH(e){var r=e.subscriber,i=e.period;r.notifyNext(),this.schedule(e,i)}function yH(){if(vH)return;vH=true;sH={};b(),r(),za(),sH.sampleTime=cr;tH=function(){function e(e,r){this.period=e,this.scheduler=r}return e.prototype.call=function(e,r){return r.subscribe(new uH(e,this.period,this.scheduler))},e}();uH=function(e){function r(r,i,t){var u=e.call(this,r)||this;return u.period=i,u.scheduler=t,u.hasValue=!1,u.add(t.schedule(xH,i,{subscriber:u,period:i})),u}return a(r,e),r.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},r.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},r}(l)}var Lm,$q,Yq,CH,DH=false;function Vq(e,t){return function(r){return r.lift(new $q(e,t))}}function FH(){if(DH)return;DH=true;Lm={};b(),r(),Lm.sequenceEqual=Vq;$q=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Yq(e,this.compareTo,this.comparator))},e}();Lm.SequenceEqualOperator=$q;Yq=function(e){function t(t,r,o){var i=e.call(this,t)||this;return i.compareTo=r,i.comparator=o,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new CH(t,i))),i}return a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;e.length>0&&t.length>0;){var o=e.shift(),i=t.shift(),n=!1;try{n=r?r(o,i):o===i}catch(s){this.destination.error(s)}n||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(l);Lm.SequenceEqualSubscriber=Yq;CH=function(e){function t(t,r){var o=e.call(this,t)||this;return o.parent=r,o}return a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(l)}var GH,HH=false;function IH(){return new ca}function Tq(){return function(r){return Gi()(Ec(IH)(r))}}function KH(){if(HH)return;HH=true;GH={};le(),Fm(),ua(),GH.share=Tq}var LH,MH=false;function Rq(e,r,o){var t;return t=e&&"object"==typeof e?e:{bufferSize:e,windowTime:r,refCount:!1,scheduler:o},function(e){return e.lift(OH(t))}}function OH(e){var r,o,t=e.bufferSize,n=void 0===t?Number.POSITIVE_INFINITY:t,u=e.windowTime,i=void 0===u?Number.POSITIVE_INFINITY:u,a=e.refCount,$=e.scheduler,c=0,s=!1,p=!1;return function(e){c++,r&&!s||(s=!1,r=new eh(n,i,$),o=e.subscribe({next:function(e){r.next(e)},error:function(e){s=!0,r.error(e)},complete:function(){p=!0,r.complete()}}));var t=r.subscribe(this);this.add(function(){c--,t.unsubscribe(),o&&!p&&a&&0===c&&(o.unsubscribe(),o=void 0,r=void 0)})}}function PH(){if(MH)return;MH=true;LH={};Wn(),LH.shareReplay=Rq}var QH,RH,SH,TH=false;function Oq(e){return function(t){return t.lift(new RH(e,t))}}function VH(){if(TH)return;TH=true;QH={};b(),r(),Af(),QH.single=Oq;RH=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new SH(e,this.predicate,this.source))},e}();SH=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.predicate=r,n.source=i,n.seenValue=!1,n.index=0,n}return a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Ee)},t}(l)}var WH,XH,YH,ZH=false;function Mq(t){return function(r){return r.lift(new XH(t))}}function _H(){if(ZH)return;ZH=true;WH={};b(),r(),WH.skip=Mq;XH=function(){function t(t){this.total=t}return t.prototype.call=function(t,r){return r.subscribe(new YH(t,this.total))},t}();YH=function(t){function r(r,i){var e=t.call(this,r)||this;return e.total=i,e.count=0,e}return a(r,t),r.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},r}(l)}var aI,bI,cI,dI=false;function Lq(r){return function(t){return t.lift(new bI(r))}}function fI(){if(dI)return;dI=true;aI={};b(),r(),xf(),aI.skipLast=Lq;bI=function(){function r(r){if(this._skipCount=r,this._skipCount<0)throw new _c}return r.prototype.call=function(r,t){return 0===this._skipCount?t.subscribe(new l(r)):t.subscribe(new cI(r,this._skipCount))},r}();cI=function(r){function t(t,i){var u=r.call(this,t)||this;return u._skipCount=i,u._count=0,u._ring=new Array(i),u}return a(t,r),t.prototype._next=function(r){var t=this._skipCount,i=this._count++;if(i<t)this._ring[i]=r;else{var u=i%t,n=this._ring,e=n[u];n[u]=r,this.destination.next(e)}},t}(l)}var gI,hI,iI,jI=false;function Kq(r){return function(i){return i.lift(new hI(r))}}function lI(){if(jI)return;jI=true;gI={};b(),F(),oc(),G(),gI.skipUntil=Kq;hI=function(){function r(r){this.notifier=r}return r.prototype.call=function(r,i){return i.subscribe(new iI(r,this.notifier))},r}();iI=function(r){function i(i,t){var e=r.call(this,i)||this;e.hasValue=!1;var n=new Mb(e,void 0,void 0);return e.add(n),e.innerSubscription=n,z(e,t,void 0,void 0,n),e}return a(i,r),i.prototype._next=function(i){this.hasValue&&r.prototype._next.call(this,i)},i.prototype.notifyNext=function(r,i,t,e,n){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},i.prototype.notifyComplete=function(){},i}(D)}var mI,nI,oI,pI=false;function Iq(i){return function(r){return r.lift(new nI(i))}}function rI(){if(pI)return;pI=true;mI={};b(),r(),mI.skipWhile=Iq;nI=function(){function i(i){this.predicate=i}return i.prototype.call=function(i,r){return r.subscribe(new oI(i,this.predicate))},i}();oI=function(i){function r(r,t){var e=i.call(this,r)||this;return e.predicate=t,e.skipping=!0,e.index=0,e}return a(r,i),r.prototype._next=function(i){var r=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||r.next(i)},r.prototype.tryCallPredicate=function(i){try{var r=this.predicate(i,this.index++);this.skipping=Boolean(r)}catch(t){this.destination.error(t)}},r}(l)}var sI,tI=false;function Hq(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var i=r[r.length-1];return va(i)?(r.pop(),function(t){return Kd(r,t,i)}):function(t){return Kd(r,t)}}function vI(){if(tI)return;tI=true;sI={};Ji(),tb(),sI.startWith=Hq}var wI,Eq,yI=false;function zI(){if(yI)return;yI=true;wI={};b(),y(),av(),Yi();Eq=function(e){function r(r,i,s){void 0===i&&(i=0),void 0===s&&(s=nf);var t=e.call(this)||this;return t.source=r,t.delayTime=i,t.scheduler=s,(!gd(i)||i<0)&&(t.delayTime=0),s&&"function"==typeof s.schedule||(t.scheduler=nf),t}return a(r,e),r.create=function(e,i,s){return void 0===i&&(i=0),void 0===s&&(s=nf),new r(e,i,s)},r.dispatch=function(e){var r=e.source,i=e.subscriber;return this.add(r.subscribe(i))},r.prototype._subscribe=function(e){var i=this.delayTime,s=this.source;return this.scheduler.schedule(r.dispatch,i,{source:s,subscriber:e})},r}(w);wI.SubscribeOnObservable=Eq}var AI,BI,CI=false;function Aq(r,e){return void 0===e&&(e=0),function(c){return c.lift(new BI(r,e))}}function EI(){if(CI)return;CI=true;AI={};zI(),AI.subscribeOn=Aq;BI=function(){function r(r,e){this.scheduler=r,this.delay=e}return r.prototype.call=function(r,e){return new Eq(e,this.delay,this.scheduler).subscribe(r)},r}()}var FI,GI,HI,II=false;function te(t,r){return"function"==typeof r?function(i){return i.pipe(te(function(i,e){return Za(t(i,e)).pipe(Fa(function(t,n){return r(i,t,e,n)}))}))}:function(r){return r.lift(new GI(t))}}function $m(){if(II)return;II=true;FI={};b(),F(),oc(),G(),La(),qb(),FI.switchMap=te;GI=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new HI(t,this.project))},t}();HI=function(t){function r(r,i){var e=t.call(this,r)||this;return e.project=i,e.index=0,e}return a(r,t),r.prototype._next=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(e){return void this.destination.error(e)}this._innerSub(r,t,i)},r.prototype._innerSub=function(t,r,i){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Mb(this,void 0,void 0);this.destination.add(n),this.innerSubscription=z(this,t,r,i,n)},r.prototype._complete=function(){var r=this.innerSubscription;r&&!r.closed||t.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=null},r.prototype.notifyComplete=function(r){this.destination.remove(r),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},r.prototype.notifyNext=function(t,r,i,e,n){this.destination.next(r)},r}(D)}var LI,MI=false;function zq(){return te(zc)}function OI(){if(MI)return;MI=true;LI={};$m(),ye(),LI.switchAll=zq}var PI,QI=false;function xq(t,$){return $?te(function(){return t},$):te(function(){return t})}function SI(){if(QI)return;QI=true;PI={};$m(),PI.switchMapTo=xq}var TI,UI,VI,WI=false;function wq(t){return function(e){return e.lift(new UI(t))}}function YI(){if(WI)return;WI=true;TI={};b(),F(),G(),TI.takeUntil=wq;UI=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new VI(t),i=z(r,this.notifier);return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r},t}();VI=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return a(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(D)}var ZI,$I,_I,aJ=false;function vq(t,e){return void 0===e&&(e=!1),function(r){return r.lift(new $I(t,e))}}function cJ(){if(aJ)return;aJ=true;ZI={};b(),r(),ZI.takeWhile=vq;$I=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new _I(t,this.predicate,this.inclusive))},t}();_I=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.inclusive=i,n.index=0,n}return a(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},e}(l)}var dJ,eJ,fJ,gJ=false;function uq(t,r,o){return function(e){return e.lift(new eJ(t,r,o))}}function iJ(){if(gJ)return;gJ=true;dJ={};b(),r(),Wh(),lf(),dJ.tap=uq;eJ=function(){function t(t,r,o){this.nextOrObserver=t,this.error=r,this.complete=o}return t.prototype.call=function(t,r){return r.subscribe(new fJ(t,this.nextOrObserver,this.error,this.complete))},t}();fJ=function(t){function r(r,o,e,i){var n=t.call(this,r)||this;return n._tapNext=Ma,n._tapError=Ma,n._tapComplete=Ma,n._tapError=e||Ma,n._tapComplete=i||Ma,Sc(o)?(n._context=n,n._tapNext=o):o&&(n._context=o,n._tapNext=o.next||Ma,n._tapError=o.error||Ma,n._tapComplete=o.complete||Ma),n}return a(r,t),r.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.next(t)},r.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},r}(l)}var tq,fn,lJ,mJ,nJ=false;function pq(t,r){return void 0===r&&(r=fn),function(e){return e.lift(new lJ(t,r.leading,r.trailing))}}function nq(){if(nJ)return;nJ=true;tq={};b(),F(),G();fn={leading:!0,trailing:!1};tq.defaultThrottleConfig=fn,tq.throttle=pq;lJ=function(){function t(t,r,e){this.durationSelector=t,this.leading=r,this.trailing=e}return t.prototype.call=function(t,r){return r.subscribe(new mJ(t,this.durationSelector,this.leading,this.trailing))},t}();mJ=function(t){function r(r,e,o,i){var l=t.call(this,r)||this;return l.destination=r,l.durationSelector=e,l._leading=o,l._trailing=i,l._hasValue=!1,l}return a(r,t),r.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},r.prototype.send=function(){var t=this._hasValue,r=this._sendValue;t&&(this.destination.next(r),this.throttle(r)),this._hasValue=!1,this._sendValue=null},r.prototype.throttle=function(t){var r=this.tryDurationSelector(t);r&&this.add(this._throttled=z(this,r))},r.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(r){return this.destination.error(r),null}},r.prototype.throttlingDone=function(){var t=this._throttled,r=this._trailing;t&&t.unsubscribe(),this._throttled=null,r&&this.send()},r.prototype.notifyNext=function(t,r,e,o,i){this.throttlingDone()},r.prototype.notifyComplete=function(){this.throttlingDone()},r}(D)}var qJ,rJ,sJ,tJ=false;function jq(t,i,e){return void 0===i&&(i=la),void 0===e&&(e=fn),function(r){return r.lift(new rJ(t,i,e.leading,e.trailing))}}function vJ(t){t.subscriber.clearThrottle()}function wJ(){if(tJ)return;tJ=true;qJ={};b(),r(),za(),nq(),qJ.throttleTime=jq;rJ=function(){function t(t,i,e,r){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new sJ(t,this.duration,this.scheduler,this.leading,this.trailing))},t}();sJ=function(t){function i(i,e,r,l,n){var a=t.call(this,i)||this;return a.duration=e,a.scheduler=r,a.leading=l,a.trailing=n,a._hasTrailingValue=!1,a._trailingValue=null,a}return a(i,t),i.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(vJ,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},i.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},i.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},i}(l)}var iq,hq,zJ=false;function dq(r){return void 0===r&&(r=la),function(e){return Ki(function(){return e.pipe(rf(function(e,a){var t=e.current;return{value:a,current:r.now(),last:t}},{current:r.now(),value:void 0,last:void 0}),Fa(function(r){var e=r.current,a=r.last,t=r.value;return new hq(t,e-a)}))})}}function BJ(){if(zJ)return;zJ=true;iq={};za(),em(),ek(),La(),iq.timeInterval=dq;hq=function(){return function(r,e){this.value=r,this.interval=e}}();iq.TimeInterval=hq}var CJ,DJ,EJ,FJ=false;function nn(t,e,i){return void 0===i&&(i=la),function(r){var u=rl(t),s=u?+t-i.now():Math.abs(t);return r.lift(new DJ(s,u,e,i))}}function aq(){if(FJ)return;FJ=true;CJ={};b(),za(),$s(),F(),G(),CJ.timeoutWith=nn;DJ=function(){function t(t,e,i,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new EJ(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}();EJ=function(t){function e(e,i,r,u,s){var o=t.call(this,e)||this;return o.absoluteTimeout=i,o.waitFor=r,o.withObservable=u,o.scheduler=s,o.action=null,o.scheduleTimeout(),o}return a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(z(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(D)}var IJ,JJ=false;function _p(r,$){return void 0===$&&($=la),nn(r,$g(new Ao),$)}function LJ(){if(JJ)return;JJ=true;IJ={};za(),Su(),aq(),Fn(),IJ.timeout=_p}var Zp,Up,OJ=false;function Rp(t){return void 0===t&&(t=la),Fa(function($){return new Up($,t.now())})}function QJ(){if(OJ)return;OJ=true;Zp={};za(),La(),Zp.timestamp=Rp;Up=function(){return function(t,$){this.value=t,this.timestamp=$}}();Zp.Timestamp=Up}var RJ,SJ=false;function TJ(r,$,e){return 0===e?[$]:(r.push($),r)}function Qp(){return sf(TJ,[])}function VJ(){if(SJ)return;SJ=true;RJ={};wh(),RJ.toArray=Qp}var WJ,XJ,YJ,ZJ=false;function Pp(t){return function(o){return o.lift(new XJ(t))}}function _J(){if(ZJ)return;ZJ=true;WJ={};b(),ua(),F(),G(),WJ.window=Pp;XJ=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,o){var r=new YJ(t),e=o.subscribe(r);return e.closed||r.add(z(r,this.windowBoundaries)),e},t}();YJ=function(t){function o(o){var r=t.call(this,o)||this;return r.window=new ca,o.next(r.window),r}return a(o,t),o.prototype.notifyNext=function(t,o,r,e,i){this.openWindow()},o.prototype.notifyError=function(t,o){this._error(t)},o.prototype.notifyComplete=function(t){this._complete()},o.prototype._next=function(t){this.window.next(t)},o.prototype._error=function(t){this.window.error(t),this.destination.error(t)},o.prototype._complete=function(){this.window.complete(),this.destination.complete()},o.prototype._unsubscribe=function(){this.window=null},o.prototype.openWindow=function(){var t=this.window;t&&t.complete();var o=this.destination,r=this.window=new ca;o.next(r)},o}(D)}var aK,bK,cK,dK=false;function Op(t,i){return void 0===i&&(i=0),function(o){return o.lift(new bK(t,i))}}function fK(){if(dK)return;dK=true;aK={};b(),r(),ua(),aK.windowCount=Op;bK=function(){function t(t,i){this.windowSize=t,this.startWindowEvery=i}return t.prototype.call=function(t,i){return i.subscribe(new cK(t,this.windowSize,this.startWindowEvery))},t}();cK=function(t){function i(i,o,n){var r=t.call(this,i)||this;return r.destination=i,r.windowSize=o,r.startWindowEvery=n,r.windows=[new ca],r.count=0,i.next(r.windows[0]),r}return a(i,t),i.prototype._next=function(t){for(var i=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,o=this.destination,n=this.windowSize,r=this.windows,e=r.length,s=0;s<e&&!this.closed;s++)r[s].next(t);var u=this.count-n+1;if(u>=0&&u%i==0&&!this.closed&&r.shift().complete(),++this.count%i==0&&!this.closed){var w=new ca;r.push(w),o.next(w)}},i.prototype._error=function(t){var i=this.windows;if(i)for(;i.length>0&&!this.closed;)i.shift().error(t);this.destination.error(t)},i.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},i.prototype._unsubscribe=function(){this.count=0,this.windows=null},i}(l)}var gK,hK,iK,jK,kK=false;function Np(e){var i=la,n=null,r=Number.POSITIVE_INFINITY;return va(arguments[3])&&(i=arguments[3]),va(arguments[2])?i=arguments[2]:gd(arguments[2])&&(r=arguments[2]),va(arguments[1])?i=arguments[1]:gd(arguments[1])&&(n=arguments[1]),function(t){return t.lift(new hK(e,n,r,i))}}function mK(e){var i=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&i.closeWindow(r),e.window=i.openWindow(),this.schedule(e,n)}function nK(e){var i=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,t=e.windowCreationInterval,s=n.openWindow(),o={action:this,subscription:null},d={subscriber:n,window:s,context:o};o.subscription=r.schedule(Mp,i,d),this.add(o.subscription),this.schedule(e,t)}function Mp(e){var i=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),i.closeWindow(n)}function pK(){if(kK)return;kK=true;gK={};b(),ua(),za(),r(),Yi(),tb(),gK.windowTime=Np;hK=function(){function e(e,i,n,r){this.windowTimeSpan=e,this.windowCreationInterval=i,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,i){return i.subscribe(new jK(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}();iK=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i._numberOfNextedValues=0,i}return a(i,e),i.prototype.next=function(i){this._numberOfNextedValues++,e.prototype.next.call(this,i)},Object.defineProperty(i.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),i}(ca);jK=function(e){function i(i,n,r,t,s){var o=e.call(this,i)||this;o.destination=i,o.windowTimeSpan=n,o.windowCreationInterval=r,o.maxWindowSize=t,o.scheduler=s,o.windows=[];var d=o.openWindow();if(null!==r&&r>=0){var u={subscriber:o,window:d,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:o,scheduler:s};o.add(s.schedule(Mp,n,u)),o.add(s.schedule(nK,r,c))}else{var a={subscriber:o,window:d,windowTimeSpan:n};o.add(s.schedule(mK,n,a))}return o}return a(i,e),i.prototype._next=function(e){for(var i=this.windows,n=i.length,r=0;r<n;r++){var t=i[r];t.closed||(t.next(e),t.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(t))}},i.prototype._error=function(e){for(var i=this.windows;i.length>0;)i.shift().error(e);this.destination.error(e)},i.prototype._complete=function(){for(var e=this.windows;e.length>0;){var i=e.shift();i.closed||i.complete()}this.destination.complete()},i.prototype.openWindow=function(){var e=new iK;return this.windows.push(e),this.destination.next(e),e},i.prototype.closeWindow=function(e){e.complete();var i=this.windows;i.splice(i.indexOf(e),1)},i}(l)}var qK,rK,sK,tK=false;function Kp(t,o){return function(e){return e.lift(new rK(t,o))}}function vK(){if(tK)return;tK=true;qK={};b(),ua(),ia(),F(),G(),qK.windowToggle=Kp;rK=function(){function t(t,o){this.openings=t,this.closingSelector=o}return t.prototype.call=function(t,o){return o.subscribe(new sK(t,this.openings,this.closingSelector))},t}();sK=function(t){function o(o,e,i){var r=t.call(this,o)||this;return r.openings=e,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=z(r,e,e)),r}return a(o,t),o.prototype._next=function(t){var o=this.contexts;if(o)for(var e=o.length,i=0;i<e;i++)o[i].window.next(t)},o.prototype._error=function(o){var e=this.contexts;if(this.contexts=null,e)for(var i=e.length,r=-1;++r<i;){var n=e[r];n.window.error(o),n.subscription.unsubscribe()}t.prototype._error.call(this,o)},o.prototype._complete=function(){var o=this.contexts;if(this.contexts=null,o)for(var e=o.length,i=-1;++i<e;){var r=o[i];r.window.complete(),r.subscription.unsubscribe()}t.prototype._complete.call(this)},o.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var o=t.length,e=-1;++e<o;){var i=t[e];i.window.unsubscribe(),i.subscription.unsubscribe()}},o.prototype.notifyNext=function(t,o,e,i,r){if(t===this.openings){var n=void 0;try{n=(0,this.closingSelector)(o)}catch(l){return this.error(l)}var s=new ca,c=new Q,u={window:s,subscription:c};this.contexts.push(u);var p=z(this,n,u);p.closed?this.closeWindow(this.contexts.length-1):(p.context=u,c.add(p)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},o.prototype.notifyError=function(t){this.error(t)},o.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},o.prototype.closeWindow=function(t){if(-1!==t){var o=this.contexts,e=o[t],i=e.window,r=e.subscription;o.splice(t,1),i.complete(),r.unsubscribe()}},o}(D)}var wK,xK,yK,zK=false;function Jp(t){return function(i){return i.lift(new xK(t))}}function BK(){if(zK)return;zK=true;wK={};b(),ua(),F(),G(),wK.windowWhen=Jp;xK=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,i){return i.subscribe(new yK(t,this.closingSelector))},t}();yK=function(t){function i(i,o){var n=t.call(this,i)||this;return n.destination=i,n.closingSelector=o,n.openWindow(),n}return a(i,t),i.prototype.notifyNext=function(t,i,o,n,r){this.openWindow(r)},i.prototype.notifyError=function(t,i){this._error(t)},i.prototype.notifyComplete=function(t){this.openWindow(t)},i.prototype._next=function(t){this.window.next(t)},i.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},i.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},i.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},i.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var i=this.window;i&&i.complete();var o,n=this.window=new ca;this.destination.next(n);try{o=(0,this.closingSelector)()}catch(r){return this.destination.error(r),void this.window.error(r)}this.add(this.closingNotification=z(this,o))},i}(D)}var CK,DK,EK,FK=false;function Ip(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){var e;"function"==typeof t[t.length-1]&&(e=t.pop());var o=t;return r.lift(new DK(o,e))}}function HK(){if(FK)return;FK=true;CK={};b(),F(),G(),CK.withLatestFrom=Ip;DK=function(){function t(t,r){this.observables=t,this.project=r}return t.prototype.call=function(t,r){return r.subscribe(new EK(t,this.observables,this.project))},t}();EK=function(t){function r(r,e,o){var i=t.call(this,r)||this;i.observables=e,i.project=o,i.toRespond=[];var s=e.length;i.values=new Array(s);for(var n=0;n<s;n++)i.toRespond.push(n);for(n=0;n<s;n++){var a=e[n];i.add(z(i,a,a,n))}return i}return a(r,t),r.prototype.notifyNext=function(t,r,e,o,i){this.values[e]=r;var s=this.toRespond;if(s.length>0){var n=s.indexOf(e);-1!==n&&s.splice(n,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(t){if(0===this.toRespond.length){var r=[t].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},r.prototype._tryProject=function(t){var r;try{r=this.project.apply(this,t)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(D)}var IK,JK=false;function Hp(){for(var r=[],$=0;$<arguments.length;$++)r[$]=arguments[$];return function($){return $.lift.call(Tk.apply(void 0,[$].concat(r)))}}function LK(){if(JK)return;JK=true;IK={};Uk(),IK.zip=Hp}var MK,NK=false;function Gp(r){return function($){return $.lift(new Rk(r))}}function PK(){if(NK)return;NK=true;MK={};Uk(),MK.zipAll=Gp}var d,RK=false;function Ad(){if(RK)return;RK=true;d={};wt(),fB(),lB(),sB(),CB(),IB(),OB(),UB(),YB(),bC(),fC(),pu(),ht(),nC(),tC(),zC(),GC(),$e(),XC(),dD(),jD(),pD(),Ps(),zD(),QD(),UD(),$D(),eE(),kE(),qE(),Pd(),wE(),ps(),GE(),KE(),sv(),QE(),WE(),eF(),La(),kF(),qF(),EF(),IF(),$j(),Re(),Re(),MF(),SF(),WF(),le(),dv(),gG(),mG(),qG(),vG(),zG(),DG(),HG(),LG(),PG(),wh(),VG(),_G(),fH(),lH(),Fm(),rH(),yH(),em(),FH(),KH(),PH(),VH(),_H(),fI(),lI(),rI(),vI(),EI(),OI(),$m(),SI(),Gl(),_l(),YI(),cJ(),iJ(),nq(),wJ(),gh(),BJ(),LJ(),aq(),QJ(),VJ(),_J(),fK(),pK(),vK(),BK(),HK(),LK(),PK(),d.audit=Xk,d.auditTime=vt,d.buffer=ut,d.bufferCount=tt,d.bufferTime=st,d.bufferToggle=pt,d.bufferWhen=ot,d.catchError=nt,d.combineAll=mt,d.combineLatest=lt,d.concat=jt,d.concatAll=_j,d.concatMap=jl,d.concatMapTo=et,d.count=dt,d.debounce=ct,d.debounceTime=bt,d.defaultIfEmpty=be,d.delay=Ws,d.delayWhen=Us,d.dematerialize=Ts,d.distinct=Qs,d.distinctUntilChanged=Al,d.distinctUntilKeyChanged=Ms,d.elementAt=Ks,d.endWith=Fs,d.every=Ds,d.exhaust=As,d.exhaustMap=Ll,d.expand=ws,d.filter=Wb,d.finalize=vs,d.find=rs,d.findIndex=ns,d.first=js,d.groupBy=vv,d.ignoreElements=is,d.isEmpty=gs,d.last=fs,d.map=Fa,d.mapTo=_r,d.materialize=$r,d.max=Yr,d.merge=Wr,d.mergeAll=Fi,d.mergeMap=pc,d.flatMap=pc,d.mergeMapTo=Vr,d.mergeScan=Or,d.min=Nr,d.multicast=Ec,d.observeOn=ev,d.onErrorResumeNext=Fr,d.pairwise=Er,d.partition=Dr,d.pluck=Br,d.publish=Ar,d.publishBehavior=xr,d.publishLast=vr,d.publishReplay=ur,d.race=rr,d.reduce=sf,d.repeat=nr,d.repeatWhen=mr,d.retry=kr,d.retryWhen=jr,d.refCount=Gi,d.sample=er,d.sampleTime=cr,d.scan=rf,d.sequenceEqual=Vq,d.share=Tq,d.shareReplay=Rq,d.single=Oq,d.skip=Mq,d.skipLast=Lq,d.skipUntil=Kq,d.skipWhile=Iq,d.startWith=Hq,d.subscribeOn=Aq,d.switchAll=zq,d.switchMap=te,d.switchMapTo=xq,d.take=hh,d.takeLast=pf,d.takeUntil=wq,d.takeWhile=vq,d.tap=uq,d.throttle=pq,d.throttleTime=jq,d.throwIfEmpty=jf,d.timeInterval=dq,d.timeout=_p,d.timeoutWith=nn,d.timestamp=Rp,d.toArray=Qp,d.window=Pp,d.windowCount=Op,d.windowTime=Np,d.windowToggle=Kp,d.windowWhen=Jp,d.withLatestFrom=Ip,d.zip=Hp,d.zipAll=Gp}var vi,Gn,Ce,WK,XK,YK=false;function Ep(){if(YK)return;YK=true;vi={};Object.defineProperty(vi,"__esModule",{value:!0});Gn=(ka(),e);Ce=(Ad(),d);WK=class $bdM7$var$CacheLayer{constructor(e){this.items=new Gn.BehaviorSubject([]),this.map=new Map,this.name=e.name,this.config=e.config,this.initHook(e)}get(e){return this.map.get(e)}initHook(e){this.config.maxAge&&this.onExpireAll(e)}onExpireAll(e){e.items.forEach(e=>this.onExpire(e.key))}putItemHook(e){this.config.maxAge&&this.onExpire(e.key)}getItem(e){return this.map.has(e)?this.get(e):null}putItem(e){this.map.set(e.key,e);const t=this.get(e.key),r=this.items.getValue().filter(t=>t.key!==e.key);return this.items.next([...r,t]),this.putItemHook(e),e}onExpire(e){return new Gn.Observable(e=>e.next()).pipe(Ce.timeoutWith(this.config.maxAge,Gn.of(1)),Ce.skip(1),Ce.take(1)).subscribe(()=>this.removeItem(e))}removeItem(e){const t=this.items.getValue().filter(t=>t.key!==e);this.map.delete(e),this.items.next(t)}getItemObservable(e){return this.items.asObservable().pipe(Ce.filter(()=>!!this.map.has(e)),Ce.map(()=>this.map.get(e)))}flushCache(){return this.items.asObservable().pipe(Ce.map(e=>(e.forEach(e=>this.removeItem(e.key)),!0)))}};XK=WK;vi.CacheLayer=XK}var De,_K,aL,bL=false;function Ap(e){return e.reduce((e,r)=>(e[r]=r,e),Object.create(null))}function Ln(){if(bL)return;bL=true;De={};Object.defineProperty(De,"__esModule",{value:!0});_K=Ap(["load","config"]);De.InternalEvents=_K;aL=Ap(["globalConfig","modules"]);De.InternalLayers=aL}var hc,zp,gL,hL,iL,yp,kL,xp,mL,nL,oL,pL=false;function sp(){if(pL)return;pL=true;hc={};Object.defineProperty(hc,"__esModule",{value:!0});zp=class $EdiJ$var$LoggerConfig{constructor(){this.logging=!1,this.hashes=!0,this.date=!0,this.exitHandler=!0,this.fileService=!0}};gL=zp;hc.LoggerConfig=gL;hL=class $EdiJ$var$PrivateCryptoModel{};iL=hL;hc.PrivateCryptoModel=iL;yp=class $EdiJ$var$ExperimentalFeatures{};kL=yp;hc.ExperimentalFeatures=kL;xp=class $EdiJ$var$InitOptionsConfig{};mL=xp;hc.InitOptionsConfig=mL;nL=class $EdiJ$var$ConfigModel{constructor(){this.init=!0,this.initOptions=new xp,this.experimental=new yp,this.logger=new zp}};oL=nL;hc.ConfigModel=oL}var Fe,sL,tL,uL,vL,wL,xL=false;function qp(){if(xL)return;xL=true;Fe={};sL=Fe&&Fe.__decorate||function(e,r,$,n){var o,t=arguments.length,c=t<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,$):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,$,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(t<3?o(c):t>3?o(r,$,c):o(r,$))||c);return t>3&&c&&Object.defineProperty(r,$,c),c};Object.defineProperty(Fe,"__esModule",{value:!0});tL=(M(),E);uL=(sp(),hc);vL=class{constructor(){this.config=new uL.ConfigModel}setConfig(e){Object.assign(this.config,e)}};wL=vL=sL([tL.Service()],vL);Fe.ConfigService=wL}var Ge,AL=false;function pp(e){for(var r in e)Ge.hasOwnProperty(r)||(Ge[r]=e[r])}function Vn(){if(AL)return;AL=true;Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),pp((sp(),hc)),pp((qp(),Fe))}var Ra,EL,FL,GL=false;function HL(e){return function(r,$){Object.defineProperty(r,$,{get:()=>EL.Container.get(e)})}}function Fb(){if(GL)return;GL=true;Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});EL=(Ya(),pa);FL=HL;Ra.Injector=FL}var Sa,op,LL,ML,lp,OL,kp,QL,RL=false;function kg(){if(RL)return;RL=true;Sa={};op=Sa&&Sa.__decorate||function(e,t,r,o){var i,$=arguments.length,c=$<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=($<3?i(c):$>3?i(t,r,c):i(t,r))||c);return $>3&&c&&Object.defineProperty(t,r,c),c};LL=Sa&&Sa.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Sa,"__esModule",{value:!0});ML=(M(),E);lp=(Vn(),Ge);OL=(Fb(),Ra);kp=class{log(e){if(this.configService.config.logger.logging){const t=[this.logDate(),e];return console.log(...t),t}}error(e){console.error(e)}logImporter(e){if(this.configService.config.logger.logging)return this.log(e)}logDate(){return this.configService.config.logger.date?`${Date.now().toPrecision()}`:""}logFileService(e){if(this.configService.config.logger.fileService)return this.log(e),"``"}logHashes(e){return this.configService.config.logger.hashes?e:""}logExitHandler(e){if(!this.configService.config.logger.exitHandler)return"";this.log(e)}};op([OL.Injector(lp.ConfigService),LL("design:type",lp.ConfigService)],kp.prototype,"configService",void 0);QL=kp=op([ML.Service()],kp);Sa.BootstrapLogger=QL}var Ob,UL=false;function VL(r){for(var e in r)Ob.hasOwnProperty(e)||(Ob[e]=r[e])}function Je(){if(UL)return;UL=true;Ob={};Object.defineProperty(Ob,"__esModule",{value:!0}),VL((kg(),Sa))}var XL,nb,ZL,$L,fo,mg,bM,Ke,dM,eM,fM,gM,hM,iM=false;function Si(){if(iM)return;iM=true;nb={};ZL=nb&&nb.__decorate||function(e,r,a,t){var s,c=arguments.length,n=c<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,a):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,a,t);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(c<3?s(n):c>3?s(r,a,n):s(r,a))||n);return c>3&&n&&Object.defineProperty(r,a,n),n};$L=nb&&nb.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(nb,"__esModule",{value:!0});fo=(ka(),e);mg=(Ad(),d);bM=(Ep(),vi);Ke=(Ln(),De);dM=(M(),E);eM=(Je(),Ob);fM={TRY_TO_UNSUBSCRIBE:"Someone try to unsubscribe from collection directly... agghhh.. read docs! Blame: "};gM=XL=class{constructor(e){this.logger=e,this._cachedLayers=new fo.BehaviorSubject([]),this.map=new Map,this.config={}}static createCacheInstance(e){return new bM.CacheLayer(e)}getLayer(e){return this.map.has(e)?this.map.get(e):this.createLayer({name:e})}getLayersByName(e){return Array.from(this.map.keys()).map(r=>{if(r!==Ke.InternalLayers.modules&&r!==Ke.InternalLayers.globalConfig){const a=this.getLayer(r).getItem(Ke.InternalEvents.config);if(a&&a.data&&e===a.data.moduleName)return this.getLayer(a.data.moduleHash)}}).filter(e=>!!e)}searchForDuplicateDependenciesInsideApp(){const e=[].concat.apply([],Array.from(this.map.keys()).map(e=>Array.from(this.getLayer(e).map.keys()).map(e=>this.isExcludedEvent(e)?null:e).filter(e=>!!e))).map(e=>Object.create({count:1,name:e})).reduce((e,r)=>(e[r.name]=(e[r.name]||0)+r.count,e),{}),r=Object.keys(e).filter(r=>e[r]>1);if(r.length){const e=this.searchForDuplicatesByHash(r[0]),a=e[0].class.metadata.type.charAt(0).toUpperCase()+e[0].class.metadata.type.slice(1);throw new Error(`\n                ${e[0].class.metadata.raw}\n                ${a}: '${e[0].originalName}' found multiple times!\n                ${a} hash: ${e[0].moduleHash}\n                Modules: [${e[0].moduleName}, ${e[1].moduleName}]\n\n                Hint: '${e[0].originalName}' class identity hash is identical in both\n                imported files inside ${e[0].moduleName} and ${e[1].moduleName}\n                consider removing one of the '${e[0].originalName}'\n            `)}return r}isExcludedEvent(e){return e===Ke.InternalEvents.config||e===Ke.InternalEvents.load}searchForItem(e){return Array.from(this.map.keys()).map(r=>{const a=this.getLayer(r),t=Array.from(a.map.keys()).filter(r=>this.isExcludedEvent(r)?void 0:r===e.name);if(t.length)return a.getItem(t[0]).data}).filter(e=>!!e)[0]}searchForDuplicatesByHash(e){return Array.from(this.map.keys()).map(r=>{const a=this.getLayer(r),t=Array.from(a.map.keys()).filter(r=>{if(!this.isExcludedEvent(r))return r===e});if(t.length){const e=a.getItem(t[0]),s=this.getLayer(r).getItem(Ke.InternalEvents.config);return{moduleName:s.data.moduleName,moduleHash:s.data.moduleHash,originalName:e.data.originalName,dupeName:e.key,raw:s.data.raw,class:e.data}}}).filter(e=>!!e)}createLayer(e){if(this.map.has(e.name))return this.map.get(e.name);e.items=e.items||[],e.config=e.config||this.config;const r=XL.createCacheInstance(e);return this.map.set(r.name,r),this._cachedLayers.next([...this._cachedLayers.getValue(),r]),this.LayerHook(r),r}LayerHook(e){this.protectLayerFromInvaders(e),(e.config.cacheFlushInterval||this.config.cacheFlushInterval)&&this.OnExpire(e)}protectLayerFromInvaders(e){e.items.constructor.prototype.unsubsribeFromLayer=e.items.constructor.prototype.unsubscribe,e.items.constructor.prototype.unsubscribe=()=>{console.error(fM.TRY_TO_UNSUBSCRIBE+e.name)}}OnExpire(e){return new fo.Observable(e=>e.next()).pipe(mg.timeoutWith(e.config.cacheFlushInterval||this.config.cacheFlushInterval,fo.of(1)),mg.skip(1),mg.take(1)).subscribe(()=>this.removeLayer(e))}removeLayer(e){this.map.delete(e.name),this._cachedLayers.next([...this._cachedLayers.getValue().filter(r=>r.name!==e.name)])}transferItems(e,r){const a=this.getLayer(e),t=[];return r.forEach(e=>{const r=this.createLayer(e);a.items.getValue().forEach(e=>r.putItem(e)),t.push(r)}),t}flushCache(){let e;return this._cachedLayers.pipe(mg.take(1),mg.map(r=>(e=r.map(e=>e.name),r.forEach(e=>this.removeLayer(e)),e.forEach(e=>this.createLayer({name:e})),!0)))}};hM=gM=XL=ZL([dM.Service(),$L("design:paramtypes",[eM.BootstrapLogger])],gM);nb.CacheService=hM}var jo,lM,mM,nM=false;function oM(){if(nM)return;nM=true;jo={};Object.defineProperty(jo,"__esModule",{value:!0});lM=class $XoUb$var$CacheServiceConfigInterface{constructor(){this.deleteOnExpire="aggressive",this.cacheFlushInterval=36e5,this.maxAge=9e5,this.localStorage=!1}};mM=lM;jo.CacheServiceConfigInterface=mM}var og,qM=false;function lo(e){for(var r in e)og.hasOwnProperty(r)||(og[r]=e[r])}function jp(){if(qM)return;qM=true;og={};Object.defineProperty(og,"__esModule",{value:!0}),lo((Si(),nb)),lo((Ep(),vi)),lo((oM(),jo))}var mc,uM,oo,wM,xM,yM,zM=false;function Wi(){if(zM)return;zM=true;mc={};uM=mc&&mc.__decorate||function(e,r,t,i){var $,s=arguments.length,n=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,i);else for(var u=e.length-1;u>=0;u--)($=e[u])&&(n=(s<3?$(n):s>3?$(r,t,n):$(r,t))||n);return s>3&&n&&Object.defineProperty(r,t,n),n};Object.defineProperty(mc,"__esModule",{value:!0});oo=(ka(),e);wM=(M(),E);xM=class{constructor(){this.plugins=new oo.BehaviorSubject([]),this.beforePlugins=new oo.BehaviorSubject([]),this.afterPlugins=new oo.BehaviorSubject([])}register(e){this.plugins.next([...this.plugins.getValue(),e])}registerBefore(e){this.beforePlugins.next([...this.plugins.getValue(),e])}registerAfter(e){this.afterPlugins.next([...this.plugins.getValue(),e])}getPlugins(){return this.plugins.getValue()}getAfterPlugins(){return this.afterPlugins.getValue()}getBeforePlugins(){return this.beforePlugins.getValue()}};yM=xM=uM([wM.Service()],xM);mc.PluginService=yM}var bc,fp,ep,EM,FM,dp,HM,cp,ap,KM,LM=false;function So(){if(LM)return;LM=true;bc={};fp=(qa(),ta);ep=bc&&bc.__decorate||function(e,r,t,$){var o,a=arguments.length,c=a<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,$);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(a<3?o(c):a>3?o(r,t,c):o(r,t))||c);return a>3&&c&&Object.defineProperty(r,t,c),c};EM=bc&&bc.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(bc,"__esModule",{value:!0});FM=(M(),E);dp=(Je(),Ob);HM=(Fb(),Ra);cp=(ka(),e);ap=class{constructor(){this.errorHandler=new cp.Subject}init(){}exitHandler(e,r){this.errorHandler.next(r),e.cleanup&&this.logger.logExitHandler("AppStopped"),r&&console.log(r.stack),e.exit&&this.logger.logExitHandler("Unhandled error rejection"),fp.exit(0)}onExitApp(e){return new cp.Observable(r=>e&&e.length&&e.forEach(e=>fp.on(e,e=>r.next(e))))}};ep([HM.Injector(dp.BootstrapLogger),EM("design:type",dp.BootstrapLogger)],ap.prototype,"logger",void 0);KM=ap=ep([FM.Service()],ap);bc.ExitHandlerService=KM}var aj,OM=false;function PM(e){for(var r in e)aj.hasOwnProperty(r)||(aj[r]=e[r])}function QM(){if(OM)return;OM=true;aj={};Object.defineProperty(aj,"__esModule",{value:!0}),PM((So(),bc))}var Ka,tg,TM,UM,dj,Qo,Co,YM,ZM,$M,_M,aN,bN,cN=false;function Do(){if(void 0!==dj)return dj;if(aa.XMLHttpRequest){dj=new aa.XMLHttpRequest;try{dj.open("GET",aa.XDomainRequest?"/":"https://example.com")}catch(e){dj=null}}else dj=null;return dj}function Eo(r){var $=Do();if(!$)return!1;try{return $.responseType=r,$.responseType===r}catch(e){}return!1}function Ed(r){return"function"==typeof r}function Po(){if(cN)return;cN=true;Ka={};tg=Ed(aa.fetch)&&Ed(aa.ReadableStream);Ka.fetch=tg;TM=Ed(aa.WritableStream);Ka.writableStream=TM;UM=Ed(aa.AbortController);Ka.abortController=UM;Qo=!1;Ka.blobConstructor=Qo;try{new Blob([new ArrayBuffer(1)]),Qo=!0,Ka.blobConstructor=Qo}catch(e){}Co=void 0!==aa.ArrayBuffer;YM=Co&&Ed(aa.ArrayBuffer.prototype.slice);ZM=tg||Co&&Eo("arraybuffer");Ka.arraybuffer=ZM;$M=!tg&&YM&&Eo("ms-stream");Ka.msstream=$M;_M=!tg&&Co&&Eo("moz-chunked-arraybuffer");Ka.mozchunkedarraybuffer=_M;aN=tg||!!Do()&&Ed(Do().overrideMimeType);Ka.overrideMimeType=aN;bN=Ed(aa.VBArray);Ka.vbArray=bN,dj=null}var Fd,iN=false;function Gc(){if(iN)return;iN=true;Fd={};Fd="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}}}var ij,Ua,mN=false;function nN(r,e,$,n){if("function"!=typeof r)throw new TypeError("\"callback\" argument must be a function");var c,s,a=arguments.length;switch(a){case 0:case 1:return Ua.nextTick(r);case 2:return Ua.nextTick(function(){r.call(null,e)});case 3:return Ua.nextTick(function(){r.call(null,e,$)});case 4:return Ua.nextTick(function(){r.call(null,e,$,n)});default:for(c=new Array(a-1),s=0;s<c.length;)c[s++]=arguments[s];return Ua.nextTick(function(){r.apply(null,c)});}}function kj(){if(mN)return;mN=true;ij={};Ua=(qa(),ta);ij=void 0===Ua||!Ua.version||0===Ua.version.indexOf("v0.")||0===Ua.version.indexOf("v1.")&&0!==Ua.version.indexOf("v1.8.")?{nextTick:nN}:Ua}var No,qN,rN=false;function Du(){if(rN)return;rN=true;No={};qN={}.toString;No=Array.isArray||function(r){return"[object Array]"==qN.call(r)}}var tN,Oo,Pe,Bo,Ro,yN,zN=false;function AN(e){console&&console.warn&&console.warn(e)}function L(){L.init.call(this)}function To(e){return void 0===e._maxListeners?L.defaultMaxListeners:e._maxListeners}function Uo(e,t,r,n){var i,o,s;if("function"!=typeof r)throw new TypeError("The \"listener\" argument must be of type Function. Received type "+typeof r);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=To(e))>0&&s.length>i&&!s.warned){s.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=e,$.type=t,$.count=s.length,AN($)}return e}function EN(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,Bo(this.listener,this.target,e))}function Vo(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=EN.bind(n);return i.listener=r,n.wrapFn=i,i}function Wo(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?KN(i):Yo(i,i.length)}function Xo(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Yo(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function JN(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KN(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Zo(){if(zN)return;zN=true;Oo={};Pe="object"==typeof Reflect?Reflect:null;Bo=Pe&&"function"==typeof Pe.apply?Pe.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};tN=Pe&&"function"==typeof Pe.ownKeys?Pe.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};Ro=Number.isNaN||function(e){return e!=e};Oo=L,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;yN=10;Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return yN},set:function(e){if("number"!=typeof e||e<0||Ro(e))throw new RangeError("The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received "+e+".");yN=e}}),L.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Ro(e))throw new RangeError("The value of \"n\" is out of range. It must be a non-negative number. Received "+e+".");return this._maxListeners=e,this},L.prototype.getMaxListeners=function(){return To(this)},L.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var $=i[e];if(void 0===$)return!1;if("function"==typeof $)Bo($,this,t);else{var v=$.length,a=Yo($,v);for(r=0;r<v;++r)Bo(a[r],this,t)}return!0},L.prototype.addListener=function(e,t){return Uo(this,e,t,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(e,t){return Uo(this,e,t,!0)},L.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError("The \"listener\" argument must be of type Function. Received type "+typeof t);return this.on(e,Vo(this,e,t)),this},L.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError("The \"listener\" argument must be of type Function. Received type "+typeof t);return this.prependListener(e,Vo(this,e,t)),this},L.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError("The \"listener\" argument must be of type Function. Received type "+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():JN(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},L.prototype.listeners=function(e){return Wo(this,e,!0)},L.prototype.rawListeners=function(e){return Wo(this,e,!1)},L.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Xo.call(e,t)},L.prototype.listenerCount=Xo,L.prototype.eventNames=function(){return this._eventsCount>0?tN(this._events):[]}}var $o,NN=false;function _o(){if(NN)return;NN=true;$o={};$o=(Zo(),Oo).EventEmitter}var $i,QN,RN,SN,TN=false;function bp($){var r=$.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=$.indexOf("=");return-1===o&&(o=r),[o,o===r?0:4-o%4]}function VN($){var r=bp($),o=r[0],e=r[1];return 3*(o+e)/4-e}function WN($,r,o){return 3*(r+o)/4-o}function XN($){var r,o,e=bp($),a=e[0],l=e[1],t=new $lMs1$var$Arr(WN($,a,l)),s=0,v=l>0?a-4:a;for(o=0;o<v;o+=4)r=$lMs1$var$revLookup[$.charCodeAt(o)]<<18|$lMs1$var$revLookup[$.charCodeAt(o+1)]<<12|$lMs1$var$revLookup[$.charCodeAt(o+2)]<<6|$lMs1$var$revLookup[$.charCodeAt(o+3)],t[s++]=r>>16&255,t[s++]=r>>8&255,t[s++]=255&r;return 2===l&&(r=$lMs1$var$revLookup[$.charCodeAt(o)]<<2|$lMs1$var$revLookup[$.charCodeAt(o+1)]>>4,t[s++]=255&r),1===l&&(r=$lMs1$var$revLookup[$.charCodeAt(o)]<<10|$lMs1$var$revLookup[$.charCodeAt(o+1)]<<4|$lMs1$var$revLookup[$.charCodeAt(o+2)]>>2,t[s++]=r>>8&255,t[s++]=255&r),t}function YN($){return $lMs1$var$lookup[$>>18&63]+$lMs1$var$lookup[$>>12&63]+$lMs1$var$lookup[$>>6&63]+$lMs1$var$lookup[63&$]}function ZN($,r,o){for(var e,a=[],l=r;l<o;l+=3)e=($[l]<<16&16711680)+($[l+1]<<8&65280)+(255&$[l+2]),a.push(YN(e));return a.join("")}function $N($){for(var r,o=$.length,e=o%3,a=[],l=0,t=o-e;l<t;l+=16383)a.push(ZN($,l,l+16383>t?t:l+16383));return 1===e?(r=$[o-1],a.push($lMs1$var$lookup[r>>2]+$lMs1$var$lookup[r<<4&63]+"==")):2===e&&(r=($[o-2]<<8)+$[o-1],a.push($lMs1$var$lookup[r>>10]+$lMs1$var$lookup[r>>4&63]+$lMs1$var$lookup[r<<2&63]+"=")),a.join("")}function _N(){if(TN)return;TN=true;$i={};QN=VN;$i.byteLength=QN;RN=XN;$i.toByteArray=RN;SN=$N;$i.fromByteArray=SN;for(var $lMs1$var$lookup=[],$lMs1$var$revLookup=[],$lMs1$var$Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,$lMs1$var$code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$lMs1$var$i=0,$lMs1$var$len=$lMs1$var$code.length;$lMs1$var$i<$lMs1$var$len;++$lMs1$var$i)$lMs1$var$lookup[$lMs1$var$i]=$lMs1$var$code[$lMs1$var$i],$lMs1$var$revLookup[$lMs1$var$code.charCodeAt($lMs1$var$i)]=$lMs1$var$i;$lMs1$var$revLookup["-".charCodeAt(0)]=62,$lMs1$var$revLookup["_".charCodeAt(0)]=63}var uo,bO,cO,dO=false;function eO(){if(dO)return;dO=true;uo={};bO=function(t,r,o,a,$){var e,p,h=8*$-a-1,M=(1<<h)-1,w=M>>1,f=-7,i=o?$-1:0,s=o?-1:1,x=t[r+i];for(i+=s,e=x&(1<<-f)-1,x>>=-f,f+=h;f>0;e=256*e+t[r+i],i+=s,f-=8);for(p=e&(1<<-f)-1,e>>=-f,f+=a;f>0;p=256*p+t[r+i],i+=s,f-=8);if(0===e)e=1-w;else{if(e===M)return p?NaN:1/0*(x?-1:1);p+=Math.pow(2,a),e-=w}return(x?-1:1)*p*Math.pow(2,e-a)};uo.read=bO;cO=function(t,r,o,a,$,e){var p,h,M,w=8*e-$-1,f=(1<<w)-1,i=f>>1,s=23===$?Math.pow(2,-24)-Math.pow(2,-77):0,x=a?0:e-1,N=a?1:-1,W=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,p=f):(p=Math.floor(Math.log(r)/Math.LN2),r*(M=Math.pow(2,-p))<1&&(p--,M*=2),(r+=p+i>=1?s/M:s*Math.pow(2,1-i))*M>=2&&(p++,M/=2),p+i>=f?(h=0,p=f):p+i>=1?(h=(r*M-1)*Math.pow(2,$),p+=i):(h=r*Math.pow(2,i-1)*Math.pow(2,$),p=0));$>=8;t[o+x]=255&h,x+=N,h/=256,$-=8);for(p=p<<$|h,w+=$;w>0;t[o+x]=255&p,x+=N,p/=256,w-=8);t[o+x-N]|=128*W};uo.write=cO}var vb,so,Me,gp,jO,kO,hp,mO,ip,oO,pO=false;function qO(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()&&"function"==typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(e){return!1}}function Ui(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Db(r,e){if(Ui()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e)).__proto__=c.prototype:(null===r&&(r=new c(e)),r.length=e),r}function c(r,e,t){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(r,e,t);if("number"==typeof r){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Zn(this,r)}return mp(this,r,e,t)}function mp(r,e,t,a){if("number"==typeof e)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?AO(r,e,t,a):"string"==typeof e?yO(r,e,t):BO(r,e)}function np(r){if("number"!=typeof r)throw new TypeError("\"size\" argument must be a number");if(r<0)throw new RangeError("\"size\" argument must not be negative")}function wO(r,e,t,a){return np(e),e<=0?Db(r,e):void 0!==t?"string"==typeof a?Db(r,e).fill(t,a):Db(r,e).fill(t):Db(r,e)}function Zn(r,e){if(np(e),r=Db(r,e<0?0:0|Sn(e)),!c.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}function yO(r,e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("\"encoding\" must be a valid string encoding");var a=0|rp(e,t),$=(r=Db(r,a)).write(e,t);return $!==a&&(r=r.slice(0,$)),r}function Un(r,e){var t=e.length<0?0:0|Sn(e.length);r=Db(r,t);for(var a=0;a<t;a+=1)r[a]=255&e[a];return r}function AO(r,e,t,a){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(a||0))throw new RangeError("'length' is out of bounds");return e=void 0===t&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,t):new Uint8Array(e,t,a),c.TYPED_ARRAY_SUPPORT?(r=e).__proto__=c.prototype:r=Un(r,e),r}function BO(r,e){if(c.isBuffer(e)){var t=0|Sn(e.length);return 0===(r=Db(r,t)).length?r:(e.copy(r,0,0,t),r)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||jP(e.length)?Db(r,0):Un(r,e);if("Buffer"===e.type&&gp(e.data))return Un(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Sn(r){if(r>=Ui())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ui().toString(16)+" bytes");return 0|r}function DO(r){return+r!=r&&(r=0),c.alloc(+r)}function rp(r,e){if(c.isBuffer(r))return r.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!=typeof r&&(r=""+r);var t=r.length;if(0===t)return 0;for(var a=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return xi(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return Fp(r).length;default:if(a)return xi(r).length;e=(""+e).toLowerCase(),a=!0;}}function FO(r,e,t){var a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(e>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return UO(this,e,t);case"utf8":case"utf-8":return wp(this,e,t);case"ascii":return SO(this,e,t);case"latin1":case"binary":return TO(this,e,t);case"base64":return PO(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return VO(this,e,t);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),a=!0;}}function Bd(r,e,t){var a=r[e];r[e]=r[t],r[t]=a}function tp(r,e,t,a,$){if(0===r.length)return-1;if("string"==typeof t?(a=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=$?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if($)return-1;t=r.length-1}else if(t<0){if(!$)return-1;t=0}if("string"==typeof e&&(e=c.from(e,a)),c.isBuffer(e))return 0===e.length?-1:up(r,e,t,a,$);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?$?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):up(r,[e],t,a,$);throw new TypeError("val must be string, number or Buffer")}function up(r,e,t,a,$){var n,f=1,i=r.length,o=e.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(r.length<2||e.length<2)return-1;f=2,i/=2,o/=2,t/=2}function u(r,e){return 1===f?r[e]:r.readUInt16BE(e*f)}if($){var s=-1;for(n=t;n<i;n++)if(u(r,n)===u(e,-1===s?0:n-s)){if(-1===s&&(s=n),n-s+1===o)return s*f}else-1!==s&&(n-=n-s),s=-1}else for(t+o>i&&(t=i-o),n=t;n>=0;n--){for(var h=!0,b=0;b<o;b++)if(u(r,n+b)!==u(e,b)){h=!1;break}if(h)return n}return-1}function JO(r,e,t,a){t=Number(t)||0;var $=r.length-t;a?(a=Number(a))>$&&(a=$):a=$;var n=e.length;if(n%2!=0)throw new TypeError("Invalid hex string");a>n/2&&(a=n/2);for(var f=0;f<a;++f){var i=parseInt(e.substr(2*f,2),16);if(isNaN(i))return f;r[t+f]=i}return f}function KO(r,e,t,a){return si(xi(e,r.length-t),r,t,a)}function vp(r,e,t,a){return si(fP(e),r,t,a)}function MO(r,e,t,a){return vp(r,e,t,a)}function NO(r,e,t,a){return si(Fp(e),r,t,a)}function OO(r,e,t,a){return si(gP(e,r.length-t),r,t,a)}function PO(r,e,t){return 0===e&&t===r.length?so.fromByteArray(r):so.fromByteArray(r.slice(e,t))}function wp(r,e,t){t=Math.min(r.length,t);for(var a=[],$=e;$<t;){var n,f,i,o,u=r[$],s=null,h=u>239?4:u>223?3:u>191?2:1;if($+h<=t)switch(h){case 1:u<128&&(s=u);break;case 2:128==(192&(n=r[$+1]))&&(o=(31&u)<<6|63&n)>127&&(s=o);break;case 3:n=r[$+1],f=r[$+2],128==(192&n)&&128==(192&f)&&(o=(15&u)<<12|(63&n)<<6|63&f)>2047&&(o<55296||o>57343)&&(s=o);break;case 4:n=r[$+1],f=r[$+2],i=r[$+3],128==(192&n)&&128==(192&f)&&128==(192&i)&&(o=(15&u)<<18|(63&n)<<12|(63&f)<<6|63&i)>65535&&o<1114112&&(s=o);}null===s?(s=65533,h=1):s>65535&&(s-=65536,a.push(s>>>10&1023|55296),s=56320|1023&s),a.push(s),$+=h}return RO(a)}function RO(r){var e=r.length;if(e<=ip)return String.fromCharCode.apply(String,r);for(var t="",a=0;a<e;)t+=String.fromCharCode.apply(String,r.slice(a,a+=ip));return t}function SO(r,e,t){var a="";t=Math.min(r.length,t);for(var $=e;$<t;++$)a+=String.fromCharCode(127&r[$]);return a}function TO(r,e,t){var a="";t=Math.min(r.length,t);for(var $=e;$<t;++$)a+=String.fromCharCode(r[$]);return a}function UO(r,e,t){var a=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>a)&&(t=a);for(var $="",n=e;n<t;++n)$+=dP(r[n]);return $}function VO(r,e,t){for(var a=r.slice(e,t),$="",n=0;n<a.length;n+=2)$+=String.fromCharCode(a[n]+256*a[n+1]);return $}function ha(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}function Aa(r,e,t,a,$,n){if(!c.isBuffer(r))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(e>$||e<n)throw new RangeError("\"value\" argument is out of bounds");if(t+a>r.length)throw new RangeError("Index out of range")}function Bi(r,e,t,a){e<0&&(e=65535+e+1);for(var $=0,n=Math.min(r.length-t,2);$<n;++$)r[t+$]=(e&255<<8*(a?$:1-$))>>>8*(a?$:1-$)}function zi(r,e,t,a){e<0&&(e=4294967295+e+1);for(var $=0,n=Math.min(r.length-t,4);$<n;++$)r[t+$]=e>>>8*(a?$:3-$)&255}function Bp(r,e,t,a,$,n){if(t+a>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Cp(r,e,t,a,$){return $||Bp(r,e,t,4,3.4028234663852886e38,-3.4028234663852886e38),Me.write(r,e,t,a,23,4),t+4}function Dp(r,e,t,a,$){return $||Bp(r,e,t,8,1.7976931348623157e308,-1.7976931348623157e308),Me.write(r,e,t,a,52,8),t+8}function bP(r){if((r=cP(r).replace(oO,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}function cP(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function dP(r){return r<16?"0"+r.toString(16):r.toString(16)}function xi(r,e){var t;e=e||1/0;for(var a=r.length,$=null,n=[],f=0;f<a;++f){if((t=r.charCodeAt(f))>55295&&t<57344){if(!$){if(t>56319){(e-=3)>-1&&n.push(239,191,189);continue}if(f+1===a){(e-=3)>-1&&n.push(239,191,189);continue}$=t;continue}if(t<56320){(e-=3)>-1&&n.push(239,191,189),$=t;continue}t=65536+($-55296<<10|t-56320)}else $&&(e-=3)>-1&&n.push(239,191,189);if($=null,t<128){if((e-=1)<0)break;n.push(t)}else if(t<2048){if((e-=2)<0)break;n.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;n.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return n}function fP(r){for(var e=[],t=0;t<r.length;++t)e.push(255&r.charCodeAt(t));return e}function gP(r,e){for(var t,a,$,n=[],f=0;f<r.length&&!((e-=2)<0);++f)a=(t=r.charCodeAt(f))>>8,$=t%256,n.push($),n.push(a);return n}function Fp(r){return so.toByteArray(bP(r))}function si(r,e,t,a){for(var $=0;$<a&&!($+t>=e.length||$>=r.length);++$)e[$+t]=r[$];return $}function jP(r){return r!=r}function Ae(){if(pO)return;pO=true;vb={};so=(_N(),$i);Me=(eO(),uo);gp=(Du(),No);jO=c;vb.Buffer=jO;kO=DO;vb.SlowBuffer=kO;hp=50;vb.INSPECT_MAX_BYTES=hp,c.TYPED_ARRAY_SUPPORT=void 0!==aa.TYPED_ARRAY_SUPPORT?aa.TYPED_ARRAY_SUPPORT:qO();mO=Ui();vb.kMaxLength=mO,c.poolSize=8192,c._augment=function(r){return r.__proto__=c.prototype,r},c.from=function(r,e,t){return mp(null,r,e,t)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(r,e,t){return wO(null,r,e,t)},c.allocUnsafe=function(r){return Zn(null,r)},c.allocUnsafeSlow=function(r){return Zn(null,r)},c.isBuffer=function(r){return!(null==r||!r._isBuffer)},c.compare=function(r,e){if(!c.isBuffer(r)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(r===e)return 0;for(var t=r.length,a=e.length,$=0,n=Math.min(t,a);$<n;++$)if(r[$]!==e[$]){t=r[$],a=e[$];break}return t<a?-1:a<t?1:0},c.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},c.concat=function(r,e){if(!gp(r))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===r.length)return c.alloc(0);var t;if(void 0===e)for(e=0,t=0;t<r.length;++t)e+=r[t].length;var a=c.allocUnsafe(e),$=0;for(t=0;t<r.length;++t){var n=r[t];if(!c.isBuffer(n))throw new TypeError("\"list\" argument must be an Array of Buffers");n.copy(a,$),$+=n.length}return a},c.byteLength=rp,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)Bd(this,e,e+1);return this},c.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)Bd(this,e,e+3),Bd(this,e+1,e+2);return this},c.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)Bd(this,e,e+7),Bd(this,e+1,e+6),Bd(this,e+2,e+5),Bd(this,e+3,e+4);return this},c.prototype.toString=function(){var r=0|this.length;return 0===r?"":0===arguments.length?wp(this,0,r):FO.apply(this,arguments)},c.prototype.equals=function(r){if(!c.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===c.compare(this,r)},c.prototype.inspect=function(){var r="",e=hp;return this.length>0&&(r=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(r+=" ... ")),"<Buffer "+r+">"},c.prototype.compare=function(r,e,t,a,$){if(!c.isBuffer(r))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===t&&(t=r?r.length:0),void 0===a&&(a=0),void 0===$&&($=this.length),e<0||t>r.length||a<0||$>this.length)throw new RangeError("out of range index");if(a>=$&&e>=t)return 0;if(a>=$)return-1;if(e>=t)return 1;if(this===r)return 0;for(var n=($>>>=0)-(a>>>=0),f=(t>>>=0)-(e>>>=0),i=Math.min(n,f),o=this.slice(a,$),u=r.slice(e,t),s=0;s<i;++s)if(o[s]!==u[s]){n=o[s],f=u[s];break}return n<f?-1:f<n?1:0},c.prototype.includes=function(r,e,t){return-1!==this.indexOf(r,e,t)},c.prototype.indexOf=function(r,e,t){return tp(this,r,e,t,!0)},c.prototype.lastIndexOf=function(r,e,t){return tp(this,r,e,t,!1)},c.prototype.write=function(r,e,t,a){if(void 0===e)a="utf8",t=this.length,e=0;else if(void 0===t&&"string"==typeof e)a=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,void 0===a&&(a="utf8")):(a=t,t=void 0)}var $=this.length-e;if((void 0===t||t>$)&&(t=$),r.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var n=!1;;)switch(a){case"hex":return JO(this,r,e,t);case"utf8":case"utf-8":return KO(this,r,e,t);case"ascii":return vp(this,r,e,t);case"latin1":case"binary":return MO(this,r,e,t);case"base64":return NO(this,r,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return OO(this,r,e,t);default:if(n)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),n=!0;}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};ip=4096;c.prototype.slice=function(r,e){var t,a=this.length;if((r=~~r)<0?(r+=a)<0&&(r=0):r>a&&(r=a),(e=void 0===e?a:~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<r&&(e=r),c.TYPED_ARRAY_SUPPORT)(t=this.subarray(r,e)).__proto__=c.prototype;else{var $=e-r;t=new c($,void 0);for(var n=0;n<$;++n)t[n]=this[n+r]}return t},c.prototype.readUIntLE=function(r,e,t){r|=0,e|=0,t||ha(r,e,this.length);for(var a=this[r],$=1,n=0;++n<e&&($*=256);)a+=this[r+n]*$;return a},c.prototype.readUIntBE=function(r,e,t){r|=0,e|=0,t||ha(r,e,this.length);for(var a=this[r+--e],$=1;e>0&&($*=256);)a+=this[r+--e]*$;return a},c.prototype.readUInt8=function(r,e){return e||ha(r,1,this.length),this[r]},c.prototype.readUInt16LE=function(r,e){return e||ha(r,2,this.length),this[r]|this[r+1]<<8},c.prototype.readUInt16BE=function(r,e){return e||ha(r,2,this.length),this[r]<<8|this[r+1]},c.prototype.readUInt32LE=function(r,e){return e||ha(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},c.prototype.readUInt32BE=function(r,e){return e||ha(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},c.prototype.readIntLE=function(r,e,t){r|=0,e|=0,t||ha(r,e,this.length);for(var a=this[r],$=1,n=0;++n<e&&($*=256);)a+=this[r+n]*$;return a>=($*=128)&&(a-=Math.pow(2,8*e)),a},c.prototype.readIntBE=function(r,e,t){r|=0,e|=0,t||ha(r,e,this.length);for(var a=e,$=1,n=this[r+--a];a>0&&($*=256);)n+=this[r+--a]*$;return n>=($*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readInt8=function(r,e){return e||ha(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},c.prototype.readInt16LE=function(r,e){e||ha(r,2,this.length);var t=this[r]|this[r+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(r,e){e||ha(r,2,this.length);var t=this[r+1]|this[r]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(r,e){return e||ha(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},c.prototype.readInt32BE=function(r,e){return e||ha(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},c.prototype.readFloatLE=function(r,e){return e||ha(r,4,this.length),Me.read(this,r,!0,23,4)},c.prototype.readFloatBE=function(r,e){return e||ha(r,4,this.length),Me.read(this,r,!1,23,4)},c.prototype.readDoubleLE=function(r,e){return e||ha(r,8,this.length),Me.read(this,r,!0,52,8)},c.prototype.readDoubleBE=function(r,e){return e||ha(r,8,this.length),Me.read(this,r,!1,52,8)},c.prototype.writeUIntLE=function(r,e,t,a){(r=+r,e|=0,t|=0,a)||Aa(this,r,e,t,Math.pow(2,8*t)-1,0);var $=1,n=0;for(this[e]=255&r;++n<t&&($*=256);)this[e+n]=r/$&255;return e+t},c.prototype.writeUIntBE=function(r,e,t,a){(r=+r,e|=0,t|=0,a)||Aa(this,r,e,t,Math.pow(2,8*t)-1,0);var $=t-1,n=1;for(this[e+$]=255&r;--$>=0&&(n*=256);)this[e+$]=r/n&255;return e+t},c.prototype.writeUInt8=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},c.prototype.writeUInt16LE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):Bi(this,r,e,!0),e+2},c.prototype.writeUInt16BE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):Bi(this,r,e,!1),e+2},c.prototype.writeUInt32LE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):zi(this,r,e,!0),e+4},c.prototype.writeUInt32BE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):zi(this,r,e,!1),e+4},c.prototype.writeIntLE=function(r,e,t,a){if(r=+r,e|=0,!a){var $=Math.pow(2,8*t-1);Aa(this,r,e,t,$-1,-$)}var n=0,f=1,i=0;for(this[e]=255&r;++n<t&&(f*=256);)r<0&&0===i&&0!==this[e+n-1]&&(i=1),this[e+n]=(r/f>>0)-i&255;return e+t},c.prototype.writeIntBE=function(r,e,t,a){if(r=+r,e|=0,!a){var $=Math.pow(2,8*t-1);Aa(this,r,e,t,$-1,-$)}var n=t-1,f=1,i=0;for(this[e+n]=255&r;--n>=0&&(f*=256);)r<0&&0===i&&0!==this[e+n+1]&&(i=1),this[e+n]=(r/f>>0)-i&255;return e+t},c.prototype.writeInt8=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},c.prototype.writeInt16LE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):Bi(this,r,e,!0),e+2},c.prototype.writeInt16BE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):Bi(this,r,e,!1),e+2},c.prototype.writeInt32LE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):zi(this,r,e,!0),e+4},c.prototype.writeInt32BE=function(r,e,t){return r=+r,e|=0,t||Aa(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),c.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):zi(this,r,e,!1),e+4},c.prototype.writeFloatLE=function(r,e,t){return Cp(this,r,e,!0,t)},c.prototype.writeFloatBE=function(r,e,t){return Cp(this,r,e,!1,t)},c.prototype.writeDoubleLE=function(r,e,t){return Dp(this,r,e,!0,t)},c.prototype.writeDoubleBE=function(r,e,t){return Dp(this,r,e,!1,t)},c.prototype.copy=function(r,e,t,a){if(t||(t=0),a||0===a||(a=this.length),e>=r.length&&(e=r.length),e||(e=0),a>0&&a<t&&(a=t),a===t)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),r.length-e<a-t&&(a=r.length-e+t);var $,n=a-t;if(this===r&&t<e&&e<a)for($=n-1;$>=0;--$)r[$+e]=this[$+t];else if(n<1e3||!c.TYPED_ARRAY_SUPPORT)for($=0;$<n;++$)r[$+e]=this[$+t];else Uint8Array.prototype.set.call(r,this.subarray(t,t+n),e);return n},c.prototype.fill=function(r,e,t,a){if("string"==typeof r){if("string"==typeof e?(a=e,e=0,t=this.length):"string"==typeof t&&(a=t,t=this.length),1===r.length){var $=r.charCodeAt(0);$<256&&(r=$)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof r&&(r&=255);if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var n;if(e>>>=0,t=void 0===t?this.length:t>>>0,r||(r=0),"number"==typeof r)for(n=e;n<t;++n)this[n]=r;else{var f=c.isBuffer(r)?r:xi(new c(r,a).toString()),i=f.length;for(n=0;n<t-e;++n)this[n+e]=f[n%i]}return this};oO=/[^+\/0-9A-Za-z-_]/g}var lP,ze,pi,Kb,pP=false;function Lp(r,$){for(var f in r)$[f]=r[f]}function xe(r,$,f){return Kb(r,$,f)}function mi(){if(pP)return;pP=true;ze={};pi=(Ae(),vb);Kb=pi.Buffer;Kb.from&&Kb.alloc&&Kb.allocUnsafe&&Kb.allocUnsafeSlow?ze=pi:(Lp(pi,ze),lP=xe,ze.Buffer=lP),Lp(Kb,xe),xe.from=function(r,$,f){if("number"==typeof r)throw new TypeError("Argument must not be a number");return Kb(r,$,f)},xe.alloc=function(r,$,f){if("number"!=typeof r)throw new TypeError("Argument must be a number");var e=Kb(r);return void 0!==$?"string"==typeof f?e.fill($,f):e.fill($):e.fill(0),e},xe.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return Kb(r)},xe.allocUnsafeSlow=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return pi.SlowBuffer(r)}}var _,uP,vP,wP,xP,yP,zP,AP,BP,CP,DP,EP,FP,GP,HP,IP,JP,KP=false;function LP($){return Array.isArray?Array.isArray($):"[object Array]"===ki($)}function MP($){return"boolean"==typeof $}function NP($){return null===$}function OP($){return null==$}function PP($){return"number"==typeof $}function QP($){return"string"==typeof $}function RP($){return"symbol"==typeof $}function SP($){return void 0===$}function TP($){return"[object RegExp]"===ki($)}function UP($){return"object"==typeof $&&null!==$}function VP($){return"[object Date]"===ki($)}function WP($){return"[object Error]"===ki($)||$ instanceof Error}function XP($){return"function"==typeof $}function YP($){return null===$||"boolean"==typeof $||"number"==typeof $||"string"==typeof $||"symbol"==typeof $||void 0===$}function ki($){return Object.prototype.toString.call($)}function Wf(){if(KP)return;KP=true;_={};uP=(Ae(),vb).Buffer;vP=LP;_.isArray=vP;wP=MP;_.isBoolean=wP;xP=NP;_.isNull=xP;yP=OP;_.isNullOrUndefined=yP;zP=PP;_.isNumber=zP;AP=QP;_.isString=AP;BP=RP;_.isSymbol=BP;CP=SP;_.isUndefined=CP;DP=TP;_.isRegExp=DP;EP=UP;_.isObject=EP;FP=VP;_.isDate=FP;GP=WP;_.isError=GP;HP=XP;_.isFunction=HP;IP=YP;_.isPrimitive=IP;JP=uP.isBuffer;_.isBuffer=JP}var _P=false;function af(){if(_P)return;_P=true}var Sp,Tp,Uf,eQ=false;function fQ(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function gQ(t,n,e){t.copy(n,e)}function hQ(){if(eQ)return;eQ=true;Sp={};Tp=(mi(),ze).Buffer;Uf=(af(),{});Sp=function(){function t(){fQ(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},t.prototype.concat=function(t){if(0===this.length)return Tp.alloc(0);if(1===this.length)return this.head.data;for(var n=Tp.allocUnsafe(t>>>0),e=this.head,a=0;e;)gQ(e.data,n,a),a+=e.data.length,e=e.next;return n},t}(),Uf&&Uf.inspect&&Uf.inspect.custom&&(Sp.prototype[Uf.inspect.custom]=function(){var t=Uf.inspect({length:this.length});return this.constructor.name+" "+t})}var Vp,Wp,kQ=false;function lQ(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return a||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||Wp.nextTick(Xp,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(Wp.nextTick(Xp,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)}function mQ(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xp(t,e){t.emit("error",e)}function Yp(){if(kQ)return;kQ=true;Vp={};Wp=(kj(),ij);Vp={destroy:lQ,undestroy:mQ}}var pQ,qQ=false;function rQ(r,e){if(qn("noDeprecation"))return r;var a=!1;return function(){if(!a){if(qn("throwDeprecation"))throw new Error(e);qn("traceDeprecation")?console.trace(e):console.warn(e),a=!0}return r.apply(this,arguments)}}function qn(r){try{if(!aa.localStorage)return!1}catch(a){return!1}var e=aa.localStorage[r];return null!=e&&"true"===String(e).toLowerCase()}function tQ(){if(qQ)return;qQ=true;pQ={};pQ=rQ}var $p,Cla,yd,fi,yQ,bq,AQ,cq,ei,DQ,eq,fq,GQ=false;function gq(e){var r=this;this.next=null,this.entry=null,this.finish=function(){bR(r,e)}}function IQ(e){return ei.from(e)}function JQ(e){return ei.isBuffer(e)||e instanceof DQ}function KQ(){}function Sf(e,r){fi=fi||(ue(),ve),e=e||{};var t=r instanceof fi;this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,n=e.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:t&&(n||0===n)?n:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=!1===e.decodeStrings;this.decodeStrings=!$,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){UQ(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new gq(this)}function ba(e){if(fi=fi||(ue(),ve),!(eq.call(ba,this)||this instanceof fi))return new ba(e);this._writableState=new Sf(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),cq.call(this)}function NQ(e,r){var t=new Error("write after end");e.emit("error",t),yd.nextTick(r,t)}function OQ(e,r,t,i){var n=!0,a=!1;return null===t?a=new TypeError("May not write null values to stream"):"string"==typeof t||void 0===t||r.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),yd.nextTick(i,a),n=!1),n}function PQ(e,r,t){return e.objectMode||!1===e.decodeStrings||"string"!=typeof r||(r=ei.from(r,t)),r}function QQ(e,r,t,i,n,a){if(!t){var $=PQ(r,i,n);i!==$&&(t=!0,n="buffer",i=$)}var o=r.objectMode?1:i.length;r.length+=o;var s=r.length<r.highWaterMark;if(s||(r.needDrain=!0),r.writing||r.corked){var f=r.lastBufferedRequest;r.lastBufferedRequest={chunk:i,encoding:n,isBuf:t,callback:a,next:null},f?f.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else jn(e,r,!1,o,i,n,a);return s}function jn(e,r,t,i,n,a,$){r.writelen=i,r.writecb=$,r.writing=!0,r.sync=!0,t?e._writev(n,r.onwrite):e._write(n,a,r.onwrite),r.sync=!1}function SQ(e,r,t,i,n){--r.pendingcb,t?(yd.nextTick(n,i),yd.nextTick(Rf,e,r),e._writableState.errorEmitted=!0,e.emit("error",i)):(n(i),e._writableState.errorEmitted=!0,e.emit("error",i),Rf(e,r))}function TQ(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function UQ(e,r){var t=e._writableState,i=t.sync,n=t.writecb;if(TQ(t),r)SQ(e,t,i,r,n);else{var a=mq(t);a||t.corked||t.bufferProcessing||!t.bufferedRequest||lq(e,t),i?yQ(kq,e,t,a,n):kq(e,t,a,n)}}function kq(e,r,t,i){t||WQ(e,r),r.pendingcb--,i(),Rf(e,r)}function WQ(e,r){0===r.length&&r.needDrain&&(r.needDrain=!1,e.emit("drain"))}function lq(e,r){r.bufferProcessing=!0;var t=r.bufferedRequest;if(e._writev&&t&&t.next){var i=r.bufferedRequestCount,n=new Array(i),a=r.corkedRequestsFree;a.entry=t;for(var $=0,o=!0;t;)n[$]=t,t.isBuf||(o=!1),t=t.next,$+=1;n.allBuffers=o,jn(e,r,!0,r.length,n,"",a.finish),r.pendingcb++,r.lastBufferedRequest=null,a.next?(r.corkedRequestsFree=a.next,a.next=null):r.corkedRequestsFree=new gq(r),r.bufferedRequestCount=0}else{for(;t;){var s=t.chunk,f=t.encoding,u=t.callback;if(jn(e,r,!1,r.objectMode?1:s.length,s,f,u),t=t.next,r.bufferedRequestCount--,r.writing)break}null===t&&(r.lastBufferedRequest=null)}r.bufferedRequest=t,r.bufferProcessing=!1}function mq(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function ZQ(e,r){e._final(function(t){r.pendingcb--,t&&e.emit("error",t),r.prefinished=!0,e.emit("prefinish"),Rf(e,r)})}function $Q(e,r){r.prefinished||r.finalCalled||("function"==typeof e._final?(r.pendingcb++,r.finalCalled=!0,yd.nextTick(ZQ,e,r)):(r.prefinished=!0,e.emit("prefinish")))}function Rf(e,r){var t=mq(r);return t&&($Q(e,r),0===r.pendingcb&&(r.finished=!0,e.emit("finish"))),t}function aR(e,r,t){r.ending=!0,Rf(e,r),t&&(r.finished?yd.nextTick(t):e.once("finish",t)),r.ended=!0,e.writable=!1}function bR(e,r,t){var i=e.entry;for(e.entry=null;i;){var n=i.callback;r.pendingcb--,n(t),i=i.next}r.corkedRequestsFree?r.corkedRequestsFree.next=e:r.corkedRequestsFree=e}function oq(){if(GQ)return;GQ=true;$p={};Cla=(qa(),ta);yd=(kj(),ij);$p=ba;yQ=yd.nextTick;ba.WritableState=Sf;bq=(Wf(),_);bq.inherits=(Gc(),Fd);AQ={deprecate:(tQ(),pQ)};cq=(_o(),$o);ei=(mi(),ze).Buffer;DQ=aa.Uint8Array||function(){};fq=(Yp(),Vp);bq.inherits(ba,cq),Sf.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},function(){try{Object.defineProperty(Sf.prototype,"buffer",{get:AQ.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(eq=Function.prototype[Symbol.hasInstance],Object.defineProperty(ba,Symbol.hasInstance,{value:function(e){return!!eq.call(this,e)||this===ba&&e&&e._writableState instanceof Sf}})):eq=function(e){return e instanceof this},ba.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},ba.prototype.write=function(e,r,t){var i=this._writableState,n=!1,a=!i.objectMode&&JQ(e);return a&&!ei.isBuffer(e)&&(e=IQ(e)),"function"==typeof r&&(t=r,r=null),a?r="buffer":r||(r=i.defaultEncoding),"function"!=typeof t&&(t=KQ),i.ended?NQ(this,t):(a||OQ(this,i,e,t))&&(i.pendingcb++,n=QQ(this,i,a,e,r,t)),n},ba.prototype.cork=function(){this._writableState.corked++},ba.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||lq(this,e))},ba.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(ba.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ba.prototype._write=function(e,r,t){t(new Error("_write() is not implemented"))},ba.prototype._writev=null,ba.prototype.end=function(e,r,t){var i=this._writableState;"function"==typeof e?(t=e,e=null,r=null):"function"==typeof r&&(t=r,r=null),null!=e&&this.write(e,r),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||aR(this,i,t)},Object.defineProperty(ba.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),ba.prototype.destroy=fq.destroy,ba.prototype._undestroy=fq.undestroy,ba.prototype._destroy=function(e,r){this.end(),r(e)}}var ve,qq,fR,rq,sq,en,jR=false;function Ab(e){if(!(this instanceof Ab))return new Ab(e);sq.call(this,e),en.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",lR)}function lR(){this.allowHalfOpen||this._writableState.ended||qq.nextTick(mR,this)}function mR(e){e.end()}function ue(){if(jR)return;jR=true;ve={};qq=(kj(),ij);fR=Object.keys||function(e){var $=[];for(var r in e)$.push(r);return $};ve=Ab;rq=(Wf(),_);rq.inherits=(Gc(),Fd);sq=(ar(),Cq);en=(oq(),$p);rq.inherits(Ab,sq);for(var $V32R$var$keys=fR(en.prototype),$V32R$var$v=0;$V32R$var$v<$V32R$var$keys.length;$V32R$var$v++){var $V32R$var$method=$V32R$var$keys[$V32R$var$v];Ab.prototype[$V32R$var$method]||(Ab.prototype[$V32R$var$method]=en.prototype[$V32R$var$method])}Object.defineProperty(Ab.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Ab.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Ab.prototype._destroy=function(e,$){this.push(null),this.end(),qq.nextTick($,e)}}var bn,an,yq,rR,sR=false;function tR(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0;}}function uR(t){var e=tR(t);if("string"!=typeof e&&(an.isEncoding===yq||!yq(t)))throw new Error("Unknown encoding: "+t);return e||t}function Nf(t){var e;switch(this.encoding=uR(t),this.encoding){case"utf16le":this.text=CR,this.end=DR,e=4;break;case"utf8":this.fillLast=zR,e=4;break;case"base64":this.text=ER,this.end=FR,e=3;break;default:return this.write=GR,void(this.end=HR);}this.lastNeed=0,this.lastTotal=0,this.lastChar=an.allocUnsafe(e)}function Ym(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function xR(t,e,r){var a=e.length-1;if(a<r)return 0;var s=Ym(e[a]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--a<r||-2===s?0:(s=Ym(e[a]))>=0?(s>0&&(t.lastNeed=s-2),s):--a<r||-2===s?0:(s=Ym(e[a]))>=0?(s>0&&(2===s?s=0:t.lastNeed=s-3),s):0}function yR(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\uFFFD"}}function zR(t){var e=this.lastTotal-this.lastNeed,r=yR(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function AR(t,e){var r=xR(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var a=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,a),t.toString("utf8",e,a)}function BR(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function CR(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var a=r.charCodeAt(r.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function DR(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function ER(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function FR(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function GR(t){return t.toString(this.encoding)}function HR(t){return t&&t.length?this.write(t):""}function Bq(){if(sR)return;sR=true;bn={};an=(mi(),ze).Buffer;yq=an.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1;}};rR=Nf;bn.StringDecoder=rR,Nf.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},Nf.prototype.end=BR,Nf.prototype.text=AR,Nf.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}}var Cq,Dq,se,Fq,NR,Bla,Gq,Wm,Kf,SR,Jq,Um,I,Uh,XR,Nq,Rm,Pq,_R=false;function aS(e){return Kf.from(e)}function bS(e){return Kf.isBuffer(e)||e instanceof SR}function cS(e,r,a){if("function"==typeof e.prependListener)return e.prependListener(r,a);e._events&&e._events[r]?NR(e._events[r])?e._events[r].unshift(a):e._events[r]=[a,e._events[r]]:e.on(r,a)}function Qq(e,r){e=e||{};var a=r instanceof(Fq=Fq||(ue(),ve));this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var t=e.highWaterMark,n=e.readableHighWaterMark,$=this.objectMode?16:16384;this.highWaterMark=t||0===t?t:a&&(n||0===n)?n:$,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new XR,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Uh||(Uh=(Bq(),bn).StringDecoder),this.decoder=new Uh(e.encoding),this.encoding=e.encoding)}function O(e){if(Fq=Fq||(ue(),ve),!(this instanceof O))return new O(e);this._readableState=new Qq(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Wm.call(this)}function Sq(e,r,a,t,n){var $,i=e._readableState;null===r?(i.reading=!1,lS(e,i)):(n||($=hS(i,r)),$?e.emit("error",$):i.objectMode||r&&r.length>0?("string"==typeof r||i.objectMode||Object.getPrototypeOf(r)===Kf.prototype||(r=aS(r)),t?i.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Pm(e,i,r,!0):i.ended?e.emit("error",new Error("stream.push() after EOF")):(i.reading=!1,i.decoder&&!a?(r=i.decoder.write(r),i.objectMode||0!==r.length?Pm(e,i,r,!1):Xq(e,i)):Pm(e,i,r,!1))):t||(i.reading=!1));return iS(i)}function Pm(e,r,a,t){r.flowing&&0===r.length&&!r.sync?(e.emit("data",a),e.read(0)):(r.length+=r.objectMode?1:a.length,t?r.buffer.unshift(a):r.buffer.push(a),r.needReadable&&Sh(e)),Xq(e,r)}function hS(e,r){var a;return bS(r)||"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a}function iS(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function jS(e){return e>=Pq?e=Pq:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Uq(e,r){return e<=0||0===r.length&&r.ended?0:r.objectMode?1:e!=e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=jS(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}function lS(e,r){if(!r.ended){if(r.decoder){var a=r.decoder.end();a&&a.length&&(r.buffer.push(a),r.length+=r.objectMode?1:a.length)}r.ended=!0,Sh(e)}}function Sh(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(I("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?se.nextTick(Wq,e):Wq(e))}function Wq(e){I("emit readable"),e.emit("readable"),Nm(e)}function Xq(e,r){r.readingMore||(r.readingMore=!0,se.nextTick(pS,e,r))}function pS(e,r){for(var a=r.length;!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),a!==r.length);)a=r.length;r.readingMore=!1}function qS(e){return function(){var r=e._readableState;I("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&Gq(e,"data")&&(r.flowing=!0,Nm(e))}}function rS(e){I("readable nexttick read 0"),e.read(0)}function sS(e,r){r.resumeScheduled||(r.resumeScheduled=!0,se.nextTick(tS,e,r))}function tS(e,r){r.reading||(I("resume read 0"),e.read(0)),r.resumeScheduled=!1,r.awaitDrain=0,e.emit("resume"),Nm(e),r.flowing&&!r.reading&&e.read(0)}function Nm(e){var r=e._readableState;for(I("flow",r.flowing);r.flowing&&null!==e.read(););}function Zq(e,r){return 0===r.length?null:(r.objectMode?a=r.buffer.shift():!e||e>=r.length?(a=r.decoder?r.buffer.join(""):1===r.buffer.length?r.buffer.head.data:r.buffer.concat(r.length),r.buffer.clear()):a=wS(e,r.buffer,r.decoder),a);var a}function wS(e,r,a){var t;return e<r.head.data.length?(t=r.head.data.slice(0,e),r.head.data=r.head.data.slice(e)):t=e===r.head.data.length?r.shift():a?xS(e,r):yS(e,r),t}function xS(e,r){var a=r.head,t=1,n=a.data;for(e-=n.length;a=a.next;){var $=a.data,i=e>$.length?$.length:e;if(i===$.length?n+=$:n+=$.slice(0,e),0===(e-=i)){i===$.length?(++t,a.next?r.head=a.next:r.head=r.tail=null):(r.head=a,a.data=$.slice(i));break}++t}return r.length-=t,n}function yS(e,r){var a=Kf.allocUnsafe(e),t=r.head,n=1;for(t.data.copy(a),e-=t.data.length;t=t.next;){var $=t.data,i=e>$.length?$.length:e;if($.copy(a,a.length-e,0,i),0===(e-=i)){i===$.length?(++n,t.next?r.head=t.next:r.head=r.tail=null):(r.head=t,t.data=$.slice(i));break}++n}return r.length-=n,a}function Mm(e){var r=e._readableState;if(r.length>0)throw new Error("\"endReadable()\" called on non-empty stream");r.endEmitted||(r.ended=!0,se.nextTick(AS,r,e))}function AS(e,r){e.endEmitted||0!==e.length||(e.endEmitted=!0,r.readable=!1,r.emit("end"))}function _q(e,r){for(var a=0,t=e.length;a<t;a++)if(e[a]===r)return a;return-1}function ar(){if(_R)return;_R=true;Cq={};Dq=(qa(),ta);se=(kj(),ij);Cq=O;NR=(Du(),No);O.ReadableState=Qq;Bla=(Zo(),Oo).EventEmitter;Gq=function(e,r){return e.listeners(r).length};Wm=(_o(),$o);Kf=(mi(),ze).Buffer;SR=aa.Uint8Array||function(){};Jq=(Wf(),_);Jq.inherits=(Gc(),Fd);Um=(af(),{});I=void 0;I=Um&&Um.debuglog?Um.debuglog("stream"):function(){};XR=(hQ(),Sp);Nq=(Yp(),Vp);Jq.inherits(O,Wm);Rm=["error","close","destroy","pause","resume"];Object.defineProperty(O.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=Nq.destroy,O.prototype._undestroy=Nq.undestroy,O.prototype._destroy=function(e,r){this.push(null),r(e)},O.prototype.push=function(e,r){var a,t=this._readableState;return t.objectMode?a=!0:"string"==typeof e&&((r=r||t.defaultEncoding)!==t.encoding&&(e=Kf.from(e,r),r=""),a=!0),Sq(this,e,r,!1,a)},O.prototype.unshift=function(e){return Sq(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){return Uh||(Uh=(Bq(),bn).StringDecoder),this._readableState.decoder=new Uh(e),this._readableState.encoding=e,this};Pq=8388608;O.prototype.read=function(e){I("read",e),e=parseInt(e,10);var r=this._readableState,a=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return I("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?Mm(this):Sh(this),null;if(0===(e=Uq(e,r))&&r.ended)return 0===r.length&&Mm(this),null;var t,n=r.needReadable;return I("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&I("length less than watermark",n=!0),r.ended||r.reading?I("reading or ended",n=!1):n&&(I("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=Uq(a,r))),null===(t=e>0?Zq(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),a!==e&&r.ended&&Mm(this)),null!==t&&this.emit("data",t),t},O.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(e,r){var a=this,t=this._readableState;switch(t.pipesCount){case 0:t.pipes=e;break;case 1:t.pipes=[t.pipes,e];break;default:t.pipes.push(e);}t.pipesCount+=1,I("pipe count=%d opts=%j",t.pipesCount,r);var n=(!r||!1!==r.end)&&e!==Dq.stdout&&e!==Dq.stderr?i:v;function $(r,n){I("onunpipe"),r===a&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,I("cleanup"),e.removeListener("close",s),e.removeListener("finish",R),e.removeListener("drain",d),e.removeListener("error",u),e.removeListener("unpipe",$),a.removeListener("end",i),a.removeListener("end",v),a.removeListener("data",l),b=!0,!t.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function i(){I("onend"),e.end()}t.endEmitted?se.nextTick(n):a.once("end",n),e.on("unpipe",$);var d=qS(a);e.on("drain",d);var b=!1;var o=!1;function l(r){I("ondata"),o=!1,!1!==e.write(r)||o||((1===t.pipesCount&&t.pipes===e||t.pipesCount>1&&-1!==_q(t.pipes,e))&&!b&&(I("false write response, pause",a._readableState.awaitDrain),a._readableState.awaitDrain++,o=!0),a.pause())}function u(r){I("onerror",r),v(),e.removeListener("error",u),0===Gq(e,"error")&&e.emit("error",r)}function s(){e.removeListener("finish",R),v()}function R(){I("onfinish"),e.removeListener("close",s),v()}function v(){I("unpipe"),a.unpipe(e)}return a.on("data",l),cS(e,"error",u),e.once("close",s),e.once("finish",R),e.emit("pipe",a),t.flowing||(I("pipe resume"),a.resume()),e},O.prototype.unpipe=function(e){var r=this._readableState,a={hasUnpiped:!1};if(0===r.pipesCount)return this;if(1===r.pipesCount)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,a),this);if(!e){var t=r.pipes,n=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var $=0;$<n;$++)t[$].emit("unpipe",this,a);return this}var i=_q(r.pipes,e);return-1===i?this:(r.pipes.splice(i,1),r.pipesCount-=1,1===r.pipesCount&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,a),this)},O.prototype.on=function(e,r){var a=Wm.prototype.on.call(this,e,r);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var t=this._readableState;t.endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&Sh(this):se.nextTick(rS,this))}return a},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,sS(this,e)),this},O.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function(e){var r=this,a=this._readableState,t=!1;for(var n in e.on("end",function(){if(I("wrapped end"),a.decoder&&!a.ended){var e=a.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(n){(I("wrapped data"),a.decoder&&(n=a.decoder.write(n)),a.objectMode&&null==n)||(a.objectMode||n&&n.length)&&(r.push(n)||(t=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(r){return function(){return e[r].apply(e,arguments)}}(n));for(var $=0;$<Rm.length;$++)e.on(Rm[$],this.emit.bind(this,Rm[$]));return this._read=function(r){I("wrapped _read",r),t&&(t=!1,e.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=Zq}var br,Rh,dr,GS=false;function HS(r,t){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=t&&this.push(t),n(r);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Ub(r){if(!(this instanceof Ub))return new Ub(r);Rh.call(this,r),this._transformState={afterTransform:HS.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",JS)}function JS(){var r=this;"function"==typeof this._flush?this._flush(function(t,e){fr(r,t,e)}):fr(this,null,null)}function fr(r,t,e){if(t)return r.emit("error",t);if(null!=e&&r.push(e),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}function gr(){if(GS)return;GS=true;br={};br=Ub;Rh=(ue(),ve);dr=(Wf(),_);dr.inherits=(Gc(),Fd),dr.inherits(Ub,Rh),Ub.prototype.push=function(r,t){return this._transformState.needTransform=!1,Rh.prototype.push.call(this,r,t)},Ub.prototype._transform=function(r,t,e){throw new Error("_transform() is not implemented")},Ub.prototype._write=function(r,t,e){var n=this._transformState;if(n.writecb=e,n.writechunk=r,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Ub.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Ub.prototype._destroy=function(r,t){var e=this;Rh.prototype._destroy.call(this,r,function(r){t(r),e.emit("close")})}}var MS,hr,ir,PS=false;function If(r){if(!(this instanceof If))return new If(r);hr.call(this,r)}function RS(){if(PS)return;PS=true;MS={};MS=If;hr=(gr(),br);ir=(Wf(),_);ir.inherits=(Gc(),Fd),ir.inherits(If,hr),If.prototype._transform=function(r,$,n){n(null,r)}}var _b,TS,US,VS,WS,XS,YS,ZS=false;function lr(){if(ZS)return;ZS=true;_b={};TS=_b=_b=(ar(),Cq);_b.Stream=TS;US=_b;_b.Readable=US;VS=(oq(),$p);_b.Writable=VS;WS=(ue(),ve);_b.Duplex=WS;XS=(gr(),br);_b.Transform=XS;YS=(RS(),MS);_b.PassThrough=YS}var _S,aT,vd,cT,Mh,or,fT,pr,Ff,Dm,jT=false;function sr(){if(jT)return;jT=true;vd=(Ae(),vb).Buffer;cT=(qa(),ta);Mh={};or=(Po(),Ka);fT=(Gc(),Fd);pr=(lr(),_b);Ff=(_S={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},Mh.readyStates=_S);Dm=(aT=function(e,r,a,t){var s=this;if(pr.Readable.call(s),s._mode=a,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",function(){cT.nextTick(function(){s.emit("close")})}),"fetch"===a){if(s._fetchResponse=r,s.url=r.url,s.statusCode=r.status,s.statusMessage=r.statusText,r.headers.forEach(function(e,r){s.headers[r.toLowerCase()]=e,s.rawHeaders.push(r,e)}),or.writableStream){var $=new WritableStream({write:function(e){return new Promise(function(r,a){s._destroyed?a():s.push(new vd(e))?r():s._resumeFetch=r})},close:function(){aa.clearTimeout(t),s._destroyed||s.push(null)},abort:function(e){s._destroyed||s.emit("error",e)}});try{return void r.body.pipeTo($).catch(function(e){aa.clearTimeout(t),s._destroyed||s.emit("error",e)})}catch(n){}}var o=r.body.getReader();!function e(){o.read().then(function(r){if(!s._destroyed){if(r.done)return aa.clearTimeout(t),void s.push(null);s.push(new vd(r.value)),e()}}).catch(function(e){aa.clearTimeout(t),s._destroyed||s.emit("error",e)})}()}else{if(s._xhr=e,s._pos=0,s.url=e.responseURL,s.statusCode=e.status,s.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var a=r[1].toLowerCase();"set-cookie"===a?(void 0===s.headers[a]&&(s.headers[a]=[]),s.headers[a].push(r[2])):void 0!==s.headers[a]?s.headers[a]+=", "+r[2]:s.headers[a]=r[2],s.rawHeaders.push(r[1],r[2])}}),s._charset="x-user-defined",!or.overrideMimeType){var p=s.rawHeaders["mime-type"];if(p){var f=p.match(/;\s*charset=([^;])(;|$)/);f&&(s._charset=f[1].toLowerCase())}s._charset||(s._charset="utf-8")}}},Mh.IncomingMessage=aT);fT(Dm,pr.Readable),Dm.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},Dm.prototype._onXHRProgress=function(){var e=this,r=e._xhr,a=null;switch(e._mode){case"text:vbarray":if(r.readyState!==Ff.DONE)break;try{a=new aa.VBArray(r.responseBody).toArray()}catch(p){}if(null!==a){e.push(new vd(a));break}case"text":try{a=r.responseText}catch(p){e._mode="text:vbarray";break}if(a.length>e._pos){var t=a.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new vd(t.length),$=0;$<t.length;$++)s[$]=255&t.charCodeAt($);e.push(s)}else e.push(t,e._charset);e._pos=a.length}break;case"arraybuffer":if(r.readyState!==Ff.DONE||!r.response)break;a=r.response,e.push(new vd(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=r.response,r.readyState!==Ff.LOADING||!a)break;e.push(new vd(new Uint8Array(a)));break;case"ms-stream":if(a=r.response,r.readyState!==Ff.LOADING)break;var o=new aa.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new vd(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(a);}e._xhr.readyState===Ff.DONE&&"ms-stream"!==e._mode&&e.push(null)}}var lT,mT,nT=false;function oT(){if(nT)return;nT=true;lT={};mT=(Ae(),vb).Buffer;lT=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(mT.isBuffer(e)){for(var f=new Uint8Array(e.length),r=e.length,t=0;t<r;t++)f[t]=e[t];return f.buffer}throw new Error("Argument must be a Buffer")}}var pT,tr,Cm,db,tT,wr,Am,yr,xT,zr,sa,AT,BT=false;function CT(e,r){return db.fetch&&r?"fetch":db.mozchunkedarraybuffer?"moz-chunked-arraybuffer":db.msstream?"ms-stream":db.arraybuffer&&e?"arraybuffer":db.vbArray&&e?"text:vbarray":"text"}function DT(e){try{var r=e.status;return null!==r&&0!==r}catch(t){return!1}}function ET(){if(BT)return;BT=true;pT={};tr=(qa(),ta);Cm=(Ae(),vb).Buffer;db=(Po(),Ka);tT=(Gc(),Fd);wr=(sr(),Mh);Am=(lr(),_b);yr=(oT(),lT);xT=wr.IncomingMessage;zr=wr.readyStates;sa=pT=function(e){var r,t=this;Am.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new Cm(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(r){t.setHeader(r,e.headers[r])});var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!db.abortController)n=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!db.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}t._mode=CT(r,n),t._fetchTimer=null,t.on("finish",function(){t._onFinish()})};tT(sa,Am.Writable),sa.prototype.setHeader=function(e,r){var t=e.toLowerCase();-1===AT.indexOf(t)&&(this._headers[t]={name:e,value:r})},sa.prototype.getHeader=function(e){var r=this._headers[e.toLowerCase()];return r?r.value:null},sa.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},sa.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,t=e._headers,n=null;"GET"!==r.method&&"HEAD"!==r.method&&(n=db.arraybuffer?yr(Cm.concat(e._body)):db.blobConstructor?new aa.Blob(e._body.map(function(e){return yr(e)}),{type:(t["content-type"]||{}).value||""}):Cm.concat(e._body).toString());var s=[];if(Object.keys(t).forEach(function(e){var r=t[e].name,n=t[e].value;Array.isArray(n)?n.forEach(function(e){s.push([r,e])}):s.push([r,n])}),"fetch"===e._mode){var o=null;if(db.abortController){var a=new AbortController;o=a.signal,e._fetchAbortController=a,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=aa.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},r.requestTimeout))}aa.fetch(e._opts.url,{method:e._opts.method,headers:s,body:n||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:o}).then(function(r){e._fetchResponse=r,e._connect()},function(r){aa.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",r)})}else{var i=e._xhr=new aa.XMLHttpRequest;try{i.open(e._opts.method,e._opts.url,!0)}catch($){return void tr.nextTick(function(){e.emit("error",$)})}"responseType"in i&&(i.responseType=e._mode.split(":")[0]),"withCredentials"in i&&(i.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(i.timeout=r.requestTimeout,i.ontimeout=function(){e.emit("requestTimeout")}),s.forEach(function(e){i.setRequestHeader(e[0],e[1])}),e._response=null,i.onreadystatechange=function(){switch(i.readyState){case zr.LOADING:case zr.DONE:e._onXHRProgress();}},"moz-chunked-arraybuffer"===e._mode&&(i.onprogress=function(){e._onXHRProgress()}),i.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{i.send(n)}catch($){return void tr.nextTick(function(){e.emit("error",$)})}}}},sa.prototype._onXHRProgress=function(){DT(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},sa.prototype._connect=function(){var e=this;e._destroyed||(e._response=new xT(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(r){e.emit("error",r)}),e.emit("response",e._response))},sa.prototype._write=function(e,r,t){this._body.push(e),t()},sa.prototype.abort=sa.prototype.destroy=function(){this._destroyed=!0,aa.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},sa.prototype.end=function(e,r,t){"function"==typeof e&&(t=e,e=void 0),Am.Writable.prototype.end.call(this,e,r,t)},sa.prototype.flushHeaders=function(){},sa.prototype.setTimeout=function(){},sa.prototype.setNoDelay=function(){},sa.prototype.setSocketKeepAlive=function(){};AT=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}var FT,GT,HT=false;function IT(){for(var r={},$=0;$<arguments.length;$++){var a=arguments[$];for(var e in a)GT.call(a,e)&&(r[e]=a[e])}return r}function JT(){if(HT)return;HT=true;FT={};FT=IT;GT=Object.prototype.hasOwnProperty}var KT,LT=false;function MT(){if(LT)return;LT=true;KT={};KT={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}var NT,OT=false;function PT(){if(OT)return;OT=true;NT=function(){var o=this,e={exports:this};return function(n){var r="object"==typeof o&&o&&!o.nodeType&&o,t="object"==typeof e&&e&&!e.nodeType&&e,i="object"==typeof aa&&aa;i.global!==i&&i.window!==i&&i.self!==i||(n=i);var u,f,c=2147483647,l=36,a=1,s=26,p=38,h=700,d=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=l-a,j=Math.floor,A=String.fromCharCode;function $(o){throw new RangeError(C[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(b,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,i=o.length;t<i;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<i?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=A((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=A(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function L(o,e,n){var r=0;for(o=n?j(o/h):o>>1,o+=j(o/e);o>y*s>>1;r+=l)o=j(o/y);return j(r+(y+1)*o/(o+p))}function T(o){var e,n,r,t,i,u,f,p,h,w,x,b=[],C=o.length,y=0,A=v,I=d;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&$("not-basic"),b.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<C;){for(i=y,u=1,f=l;t>=C&&$("invalid-input"),((p=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||p>j((c-y)/u))&&$("overflow"),y+=p*u,!(p<(h=f<=I?a:f>=I+s?s:f-I));f+=l)u>j(c/(w=l-h))&&$("overflow"),u*=w;I=L(y-i,e=b.length+1,0==i),j(y/e)>c-A&&$("overflow"),A+=j(y/e),y%=e,b.splice(y++,0,A)}return O(b)}function m(o){var e,n,r,t,i,u,f,p,h,w,x,b,C,y,I,E=[];for(b=(o=F(o)).length,e=v,n=0,i=d,u=0;u<b;++u)(x=o[u])<128&&E.push(A(x));for(r=t=E.length,t&&E.push(g);r<b;){for(f=c,u=0;u<b;++u)(x=o[u])>=e&&x<f&&(f=x);for(f-e>j((c-n)/(C=r+1))&&$("overflow"),n+=(f-e)*C,e=f,u=0;u<b;++u)if((x=o[u])<e&&++n>c&&$("overflow"),x==e){for(p=n,h=l;!(p<(w=h<=i?a:h>=i+s?s:h-i));h+=l)I=p-w,y=l-w,E.push(A(S(w+I%y,0))),p=j(I/y);E.push(A(S(p,0))),i=L(n,C,r==t),n=0,++r}++n,++e}return E.join("")}if(u={version:"1.4.1",ucs2:{decode:F,encode:O},decode:T,encode:m,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+m(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?T(o.slice(4).toLowerCase()):o})}},r&&t){if(e.exports==r)t.exports=u;else for(f in u)u.hasOwnProperty(f)&&(r[f]=u[f]);}else n.punycode=u}(this),e.exports}.call({})}var QT,RT=false;function ST(){if(RT)return;RT=true;QT={};QT={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}}}var TT,UT,VT=false;function WT(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function XT(){if(VT)return;VT=true;TT={};TT=function(r,e,t,a){e=e||"&",t=t||"=";var n={};if("string"!=typeof r||0===r.length)return n;var o=/\+/g;r=r.split(e);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var $=0;$<p;++$){var y,v,c,i,u=r[$].replace(o,"%20"),f=u.indexOf(t);f>=0?(y=u.substr(0,f),v=u.substr(f+1)):(y=u,v=""),c=decodeURIComponent(y),i=decodeURIComponent(v),WT(n,c)?UT(n[c])?n[c].push(i):n[c]=[n[c],i]:n[c]=i}return n};UT=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}}var YT,Cf,$T,_T,aU=false;function Cr(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}function cU(){if(aU)return;aU=true;YT={};Cf=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return"";}};YT=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?Cr(_T(r),function(n){var i=encodeURIComponent(Cf(n))+t;return $T(r[n])?Cr(r[n],function(r){return i+encodeURIComponent(Cf(r))}).join(e):i+encodeURIComponent(Cf(r[n]))}).join(e):n?encodeURIComponent(Cf(n))+t+encodeURIComponent(Cf(r)):""};$T=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};_T=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e}}var dU,eU,Bf,gU,hU,iU=false;function jU(){if(iU)return;iU=true;Bf={};gU=(dU=(XT(),TT),Bf.parse=dU);Bf.decode=gU;hU=(eU=(cU(),YT),Bf.stringify=eU);Bf.encode=hU}var sd,lU,fb,nU,oU,pU,qU,rU,sU,tU,uU,vU,wU,um,Hr,Ir,AU,Jr,CU,DU,tm,ke,pm,HU=false;function Oa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function wf(t,r,s){if(t&&fb.isObject(t)&&t instanceof Oa)return t;var o=new Oa;return o.parse(t,r,s),o}function KU(t){return fb.isString(t)&&(t=wf(t)),t instanceof Oa?t.format():Oa.prototype.format.call(t)}function LU(t,r){return wf(t,!1,!0).resolve(r)}function MU(t,r){return t?wf(t,!1,!0).resolveObject(r):r}function Pr(){if(HU)return;HU=true;sd={};lU=(PT(),NT);fb=(ST(),QT);nU=wf;sd.parse=nU;oU=LU;sd.resolve=oU;pU=MU;sd.resolveObject=pU;qU=KU;sd.format=qU;rU=Oa;sd.Url=rU;sU=/^([a-z0-9.+-]+:)/i;tU=/:[0-9]*$/;uU=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;vU=["<",">","\"","`"," ","\r","\n","\t"];wU=["{","}","|","\\","^","`"].concat(vU);um=["'"].concat(wU);Hr=["%","/","?",";","#"].concat(um);Ir=["/","?","#"];AU=255;Jr=/^[+a-z0-9A-Z_-]{0,63}$/;CU=/^([+a-z0-9A-Z_-]{0,63})(.*)$/;DU={javascript:!0,"javascript:":!0};tm={javascript:!0,"javascript:":!0};ke={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};pm=(jU(),Bf);Oa.prototype.parse=function(t,r,s){if(!fb.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",e=t.split(a);e[0]=e[0].replace(/\\/g,"/");var h=t=e.join(a);if(h=h.trim(),!s&&1===t.split("#").length){var i=uU.exec(h);if(i)return this.path=h,this.href=h,this.pathname=i[1],i[2]?(this.search=i[2],this.query=r?pm.parse(this.search.substr(1)):this.search.substr(1)):r&&(this.search="",this.query={}),this}var $=sU.exec(h);if($){var n=($=$[0]).toLowerCase();this.protocol=n,h=h.substr($.length)}if(s||$||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===h.substr(0,2);!l||$&&tm[$]||(h=h.substr(2),this.slashes=!0)}if(!tm[$]&&(l||$&&!ke[$])){for(var p,u,c=-1,v=0;v<Ir.length;v++){-1!==(f=h.indexOf(Ir[v]))&&(-1===c||f<c)&&(c=f)}-1!==(u=-1===c?h.lastIndexOf("@"):h.lastIndexOf("@",c))&&(p=h.slice(0,u),h=h.slice(u+1),this.auth=decodeURIComponent(p)),c=-1;for(v=0;v<Hr.length;v++){var f;-1!==(f=h.indexOf(Hr[v]))&&(-1===c||f<c)&&(c=f)}-1===c&&(c=h.length),this.host=h.slice(0,c),h=h.slice(c),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var J=this.hostname.split(/\./),g=(v=0,J.length);v<g;v++){var y=J[v];if(y&&!y.match(Jr)){for(var P="",d=0,x=y.length;d<x;d++)y.charCodeAt(d)>127?P+="x":P+=y[d];if(!P.match(Jr)){var b=J.slice(0,v),q=J.slice(v+1),O=y.match(CU);O&&(b.push(O[1]),q.unshift(O[2])),q.length&&(h="/"+q.join(".")+h),this.hostname=b.join(".");break}}}this.hostname.length>AU?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=lU.toASCII(this.hostname));var j=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+j,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!DU[n])for(v=0,g=um.length;v<g;v++){var C=um[v];if(-1!==h.indexOf(C)){var A=encodeURIComponent(C);A===C&&(A=escape(C)),h=h.split(C).join(A)}}var w=h.indexOf("#");-1!==w&&(this.hash=h.substr(w),h=h.slice(0,w));var E=h.indexOf("?");if(-1!==E?(this.search=h.substr(E),this.query=h.substr(E+1),r&&(this.query=pm.parse(this.query)),h=h.slice(0,E)):r&&(this.search="",this.query={}),h&&(this.pathname=h),ke[n]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var I=this.search||"";this.path=j+I}return this.href=this.format(),this},Oa.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=this.protocol||"",s=this.pathname||"",o=this.hash||"",a=!1,e="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&fb.isObject(this.query)&&Object.keys(this.query).length&&(e=pm.stringify(this.query));var h=this.search||e&&"?"+e||"";return r&&":"!==r.substr(-1)&&(r+=":"),this.slashes||(!r||ke[r])&&!1!==a?(a="//"+(a||""),s&&"/"!==s.charAt(0)&&(s="/"+s)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),h&&"?"!==h.charAt(0)&&(h="?"+h),r+a+(s=s.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(h=h.replace("#","%23"))+o},Oa.prototype.resolve=function(t){return this.resolveObject(wf(t,!1,!0)).format()},Oa.prototype.resolveObject=function(t){if(fb.isString(t)){var r=new Oa;r.parse(t,!1,!0),t=r}for(var s=new Oa,o=Object.keys(this),a=0;a<o.length;a++){var e=o[a];s[e]=this[e]}if(s.hash=t.hash,""===t.href)return s.href=s.format(),s;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),i=0;i<h.length;i++){var $=h[i];"protocol"!==$&&(s[$]=t[$])}return ke[s.protocol]&&s.hostname&&!s.pathname&&(s.path=s.pathname="/"),s.href=s.format(),s}if(t.protocol&&t.protocol!==s.protocol){if(!ke[t.protocol]){for(var n=Object.keys(t),l=0;l<n.length;l++){var p=n[l];s[p]=t[p]}return s.href=s.format(),s}if(s.protocol=t.protocol,t.host||tm[t.protocol])s.pathname=t.pathname;else{for(var u=(t.pathname||"").split("/");u.length&&!(t.host=u.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==u[0]&&u.unshift(""),u.length<2&&u.unshift(""),s.pathname=u.join("/")}if(s.search=t.search,s.query=t.query,s.host=t.host||"",s.auth=t.auth,s.hostname=t.hostname||t.host,s.port=t.port,s.pathname||s.search){var c=s.pathname||"",v=s.search||"";s.path=c+v}return s.slashes=s.slashes||t.slashes,s.href=s.format(),s}var f=s.pathname&&"/"===s.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),J=m||f||s.host&&t.pathname,g=J,y=s.pathname&&s.pathname.split("/")||[],P=(u=t.pathname&&t.pathname.split("/")||[],s.protocol&&!ke[s.protocol]);if(P&&(s.hostname="",s.port=null,s.host&&(""===y[0]?y[0]=s.host:y.unshift(s.host)),s.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===u[0]?u[0]=t.host:u.unshift(t.host)),t.host=null),J=J&&(""===u[0]||""===y[0])),m)s.host=t.host||""===t.host?t.host:s.host,s.hostname=t.hostname||""===t.hostname?t.hostname:s.hostname,s.search=t.search,s.query=t.query,y=u;else if(u.length)y||(y=[]),y.pop(),y=y.concat(u),s.search=t.search,s.query=t.query;else if(!fb.isNullOrUndefined(t.search)){if(P)s.hostname=s.host=y.shift(),(O=!!(s.host&&s.host.indexOf("@")>0)&&s.host.split("@"))&&(s.auth=O.shift(),s.host=s.hostname=O.shift());return s.search=t.search,s.query=t.query,fb.isNull(s.pathname)&&fb.isNull(s.search)||(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.href=s.format(),s}if(!y.length)return s.pathname=null,s.search?s.path="/"+s.search:s.path=null,s.href=s.format(),s;for(var d=y.slice(-1)[0],x=(s.host||t.host||y.length>1)&&("."===d||".."===d)||""===d,b=0,q=y.length;q>=0;q--)"."===(d=y[q])?y.splice(q,1):".."===d?(y.splice(q,1),b++):b&&(y.splice(q,1),b--);if(!J&&!g)for(;b--;b)y.unshift("..");!J||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),x&&"/"!==y.join("/").substr(-1)&&y.push("");var O,j=""===y[0]||y[0]&&"/"===y[0].charAt(0);P&&(s.hostname=s.host=j?"":y.length?y.shift():"",(O=!!(s.host&&s.host.indexOf("@")>0)&&s.host.split("@"))&&(s.auth=O.shift(),s.host=s.hostname=O.shift()));return(J=J||s.host&&y.length)&&!j&&y.unshift(""),y.length?s.pathname=y.join("/"):(s.pathname=null,s.path=null),fb.isNull(s.pathname)&&fb.isNull(s.search)||(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.auth=t.auth||s.auth,s.slashes=s.slashes||t.slashes,s.href=s.format(),s},Oa.prototype.parseHost=function(){var t=this.host,r=tU.exec(t);r&&(":"!==(r=r[0])&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)}}var mm,Rr,QU,RU,SU,TU,_a,VU=false;function Tr(){if(VU)return;VU=true;mm={};Rr=(ET(),pT);QU=(sr(),Mh);RU=(JT(),FT);SU=(MT(),KT);TU=(Pr(),sd);_a=mm;_a.request=function($,e){$="string"==typeof $?TU.parse($):RU($);var t=-1===aa.location.protocol.search(/^https?:$/)?"http:":"",r=$.protocol||t,n=$.hostname||$.host,h=$.port,a=$.path||"/";n&&-1!==n.indexOf(":")&&(n="["+n+"]"),$.url=(n?r+"//"+n:"")+(h?":"+h:"")+a,$.method=($.method||"GET").toUpperCase(),$.headers=$.headers||{};var s=new Rr($);return e&&s.on("response",e),s},_a.get=function($,e){var t=_a.request($,e);return t.end(),t},_a.ClientRequest=Rr,_a.IncomingMessage=QU.IncomingMessage,_a.Agent=function(){},_a.Agent.defaultMaxSockets=4,_a.globalAgent=new _a.Agent,_a.STATUS_CODES=SU,_a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}var Ur,uf,ZU,im,_U=false;function Xr($){if("string"==typeof $&&($=ZU.parse($)),$.protocol||($.protocol="https:"),"https:"!==$.protocol)throw new Error("Protocol \""+$.protocol+"\" not supported. Expected \"https:\"");return $}function bV(){if(_U)return;_U=true;Ur={};uf=(Tr(),mm);ZU=(Pr(),sd);im=Ur;for(var $eMcx$var$key in uf)uf.hasOwnProperty($eMcx$var$key)&&(im[$eMcx$var$key]=uf[$eMcx$var$key]);im.request=function($,r){return $=Xr($),uf.request.call(this,$,r)},im.get=function($,r){return $=Xr($),uf.get.call(this,$,r)}}var lc,dV,eV,fV,gV,hV,iV,jV,kV,lV=false;function Zr(){if(lV)return;lV=true;lc={};dV=lc&&lc.__decorate||function(e,r,t,o){var a,$=arguments.length,c=$<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(c=($<3?a(c):$>3?a(r,t,c):a(r,t))||c);return $>3&&c&&Object.defineProperty(r,t,c),c};eV=lc&&lc.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(lc,"__esModule",{value:!0});fV=(jp(),og);gV=(Ya(),pa);hV=(Je(),Ob);iV=(M(),E);jV=class extends fV.CacheService{constructor(){super(gV.Container.get(hV.BootstrapLogger)),this.cacheLayer=this.createLayer({name:"request-cache-layer"})}put(e,r){return this.cacheLayer.putItem({key:e,data:r})}get(e){return this.cacheLayer.getItem(e)}};kV=jV=dV([iV.Service(),eV("design:paramtypes",[])],jV);lc.RequestCacheService=kV}var rd,bm,as,qV,bs,sV,tV,cs,ds,wV,es,am,zV,AV=false;function BV(){if(AV)return;AV=true;rd={};bm=rd&&rd.__decorate||function(e,r,c,t){var $,a=arguments.length,o=a<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,c):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,c,t);else for(var h=e.length-1;h>=0;h--)($=e[h])&&(o=(a<3?$(o):a>3?$(r,c,o):$(r,c))||o);return a>3&&o&&Object.defineProperty(r,c,o),o};as=rd&&rd.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(rd,"__esModule",{value:!0});qV=(M(),E);bs=(ka(),e);sV=(Tr(),mm);tV=(bV(),Ur);cs=(Zr(),lc);ds=(Fb(),Ra);wV=(Ad(),d);es=(Je(),Ob);am=class{get(e,r){return this.cache.cacheLayer.map.has(e)?(this.logger.log(`Item returned from cacahe: ${e}`),bs.of(this.cache.cacheLayer.get(e).data)):new bs.Observable(r=>{e.includes("https://")?tV.get(e,e=>{let c="";e.on("data",e=>c+=e),e.on("end",()=>r.next(c))}).on("error",e=>{console.error("Error: "+e.message),r.error(e)}):sV.get(e,e=>{let c="";e.on("data",e=>c+=e),e.on("end",()=>r.next(c))}).on("error",e=>{console.error("Error: "+e.message),r.error(e)})}).pipe(wV.tap(r=>this.cache.cacheLayer.putItem({key:e,data:r})))}};bm([ds.Injector(cs.RequestCacheService),as("design:type",cs.RequestCacheService)],am.prototype,"cache",void 0),bm([ds.Injector(es.BootstrapLogger),as("design:type",es.BootstrapLogger)],am.prototype,"logger",void 0);zV=am=bm([qV.Service()],am);rd.RequestService=zV}var rh,DV=false;function hs(e){for(var r in e)rh.hasOwnProperty(r)||(rh[r]=e[r])}function FV(){if(DV)return;DV=true;rh={};Object.defineProperty(rh,"__esModule",{value:!0}),hs((BV(),rd)),hs((Zr(),lc))}var Na,HV,Xl,ks,ls,LV,MV,NV,OV,PV,QV,RV,SV,TV=false;function ms(r,e){for(var t=0,$=r.length-1;$>=0;$--){var n=r[$];"."===n?r.splice($,1):".."===n?(r.splice($,1),t++):t&&(r.splice($,1),t--)}if(e)for(;t--;t)r.unshift("..");return r}function VV(r){"string"!=typeof r&&(r+="");var e,t=0,$=-1,n=!0;for(e=r.length-1;e>=0;--e)if(47===r.charCodeAt(e)){if(!n){t=e+1;break}}else-1===$&&(n=!1,$=e+1);return-1===$?"":r.slice(t,$)}function Wl(r,e){if(r.filter)return r.filter(e);for(var t=[],$=0;$<r.length;$++)e(r[$],$,r)&&t.push(r[$]);return t}function os(){if(TV)return;TV=true;Na={};HV=(qa(),ta);Xl=function(){for(var r="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var $=t>=0?arguments[t]:HV.cwd();if("string"!=typeof $)throw new TypeError("Arguments to path.resolve must be strings");$&&(r=$+"/"+r,e="/"===$.charAt(0))}return(e?"/":"")+(r=ms(Wl(r.split("/"),function(r){return!!r}),!e).join("/"))||"."};Na.resolve=Xl;ks=function(r){var e=ls(r),t="/"===SV(r,-1);return(r=ms(Wl(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&t&&(r+="/"),(e?"/":"")+r};Na.normalize=ks;ls=function(r){return"/"===r.charAt(0)};Na.isAbsolute=ls;LV=function(){var r=Array.prototype.slice.call(arguments,0);return ks(Wl(r,function(r,e){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))};Na.join=LV;MV=function(r,e){function t(r){for(var e=0;e<r.length&&""===r[e];e++);for(var t=r.length-1;t>=0&&""===r[t];t--);return e>t?[]:r.slice(e,t-e+1)}r=Xl(r).substr(1),e=Xl(e).substr(1);for(var $=t(r.split("/")),n=t(e.split("/")),o=Math.min($.length,n.length),s=o,i=0;i<o;i++)if($[i]!==n[i]){s=i;break}var a=[];for(i=s;i<$.length;i++)a.push("..");return(a=a.concat(n.slice(s))).join("/")};Na.relative=MV;NV="/";Na.sep=NV;OV=":";Na.delimiter=OV;PV=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var e=r.charCodeAt(0),t=47===e,$=-1,n=!0,o=r.length-1;o>=1;--o)if(47===(e=r.charCodeAt(o))){if(!n){$=o;break}}else n=!1;return-1===$?t?"/":".":t&&1===$?"/":r.slice(0,$)};Na.dirname=PV;QV=function(r,e){var t=VV(r);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t};Na.basename=QV;RV=function(r){"string"!=typeof r&&(r+="");for(var e=-1,t=0,$=-1,n=!0,o=0,s=r.length-1;s>=0;--s){var i=r.charCodeAt(s);if(47!==i)-1===$&&(n=!1,$=s+1),46===i?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!n){t=s+1;break}}return-1===e||-1===$||0===o||1===o&&e===$-1&&e===t+1?"":r.slice(e,$)};Na.extname=RV;SV="b"==="ab".substr(-1)?function(r,e,t){return r.substr(e,t)}:function(r,e,t){return e<0&&(e=r.length+e),r.substr(e,t)}}var ph,qs,oh,ss,ts,bW,cW,dW=false;function Tl($,r,e,t){"function"==typeof r?(e=r,r={}):r&&"object"==typeof r||(r={mode:r});let a=r.mode;const o=r.fs||ss;void 0===a&&(a=ts&~qs.umask()),t||(t=null);const c=e||function(){};$=oh.resolve($),o.mkdir($,a,function(e){if(!e)return c(null,t=t||$);switch(e.code){case"ENOENT":Tl(oh.dirname($),r,function(e,t){e?c(e,t):Tl($,r,c,t)});break;default:o.stat($,function($,r){$||!r.isDirectory()?c(e,t):c(null,t)});}})}function Ql($,r,e){r&&"object"==typeof r||(r={mode:r});let t=r.mode;const a=r.fs||ss;void 0===t&&(t=ts&~qs.umask()),e||(e=null),$=oh.resolve($);try{a.mkdirSync($,t),e=e||$}catch(o){switch(o.code){case"ENOENT":e=Ql(oh.dirname($),r,e),Ql($,r,e);break;default:let t;try{t=a.statSync($)}catch(c){throw o}if(!t.isDirectory())throw o;}}return e}function gW(){if(dW)return;dW=true;ph={};qs=(qa(),ta);Object.defineProperty(ph,"__esModule",{value:!0});oh=(os(),Na);ss=(af(),{});ts=parseInt("0777",8);bW=Tl;ph.mkdirp=bW;cW=Ql;ph.mkdirpSync=cW}var qd,xs,jW,kW,he,Nl,lh,Bs,pW,qW,rW,Cs,tW,uW=false;function vW(){if(uW)return;uW=true;qd={};xs=qd&&qd.__decorate||function(e,r,i,$){var t,a=arguments.length,o=a<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,i):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,i,$);else for(var l=e.length-1;l>=0;l--)(t=e[l])&&(o=(a<3?t(o):a>3?t(r,i,o):t(r,i))||o);return a>3&&o&&Object.defineProperty(r,i,o),o};jW=qd&&qd.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(qd,"__esModule",{value:!0});kW=(M(),E);he=(af(),{});Nl=(ka(),e);lh=(Ad(),d);Bs=(Je(),Ob);pW=(Fb(),Ra);qW=(os(),Na);rW=(gW(),ph);Cs=class{writeFile(e,r,i,$){return this.mkdirp(e).pipe(lh.tap(()=>{this.logger.logFileService(`Bootstrap: @Service('${i}'): Saved inside ${e}`)}),lh.switchMap(()=>this.writeFileAsyncP(e,r,$)))}writeFileAsync(e,r,i,$){return this.mkdirp(e).pipe(lh.switchMap(()=>this.writeFileAsyncP(e,r,$)),lh.map(()=>(this.logger.logFileService(`Bootstrap: external @Module('${i}') namespace: Saved inside ${e}`),`${e}/${r}`)))}writeFileSync(e,r){return he.writeFileSync.bind(null)(e,JSON.stringify(r,null,2)+"\n",{encoding:"utf-8"})}readFile(e){return JSON.parse(he.readFileSync.bind(null)(e,{encoding:"utf-8"}))}isPresent(e){return he.existsSync(e)}writeFileAsyncP(e,r,i){return new Nl.Observable($=>he.writeFile(`${e}/${r}`,i,()=>$.next(!0)))}mkdirp(e){return new Nl.Observable(r=>{rW.mkdirp(e,e=>{e?(console.error(e),r.error(!1)):r.next(!0),r.complete()})})}fileWalker(e,r="node_modules"){return new Nl.Observable(i=>{this.filewalker(e,(e,r)=>{e?i.error(e):i.next(r),i.complete()},r)})}filewalker(e,r,i="node_modules"){let $=[];const t=this.filewalker.bind(this);he.readdir(e,(a,o)=>{if(a)return r(a);let l=o.length;if(!l)return r(null,$);o.forEach(a=>{a=qW.resolve(e,a),he.stat(a,(e,o)=>{o&&o.isDirectory()?($.push(a),a.includes(i)?--l||r(null,$):t(a,(e,i)=>{$=$.concat(i),--l||r(null,$)},i)):($.push(a),--l||r(null,$))})})})}};xs([pW.Injector(Bs.BootstrapLogger),jW("design:type",Bs.BootstrapLogger)],Cs.prototype,"logger",void 0);tW=Cs=xs([kW.Service()],Cs);qd.FileService=tW}var mf,xW=false;function yW(e){for(var r in e)mf.hasOwnProperty(r)||(mf[r]=e[r])}function Es(){if(xW)return;xW=true;mf={};Object.defineProperty(mf,"__esModule",{value:!0}),yW((vW(),qd))}var uc,Gs,CW,DW,EW,Hs,Is,HW,IW=false;function Js(){if(IW)return;IW=true;uc={};Gs=uc&&uc.__decorate||function(e,r,a,$){var o,t=arguments.length,c=t<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,a):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,a,$);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(t<3?o(c):t>3?o(r,a,c):o(r,a))||c);return t>3&&c&&Object.defineProperty(r,a,c),c};CW=uc&&uc.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(uc,"__esModule",{value:!0});DW=(M(),E);EW=(Fb(),Ra);Hs=(Vn(),Ge);Is=class{gZipAll(){}};Gs([EW.Injector(Hs.ConfigService),CW("design:type",Hs.ConfigService)],Is.prototype,"config",void 0);HW=Is=Gs([DW.Service()],Is);uc.CompressionService=HW}var kf,Ls,MW,NW,OW,PW,QW,RW,SW=false;function TW(){if(SW)return;SW=true;kf={};Ls=(qa(),ta);MW=kf&&kf.__decorate||function(e,r,t,s){var a,c=arguments.length,o=c<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,s);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(o=(c<3?a(o):c>3?a(r,t,o):a(r,t))||o);return c>3&&o&&Object.defineProperty(r,t,o),o};Object.defineProperty(kf,"__esModule",{value:!0});NW=(M(),E);OW=(ka(),e);PW=(af(),{});QW=class{constructor(){this.packagesToDownload=new OW.BehaviorSubject([]),this.packages=[]}setPackages(e){this.packagesToDownload.next([...this.packagesToDownload.getValue(),...e])}preparePackages(){const e=this.packagesToDownload.getValue()||[];this.packages=[...new Set(e.map(e=>`${e.name}@${e.version}`))]}installPackages(){return new Promise((e,r)=>{this.preparePackages(),this.child&&(this.child.stdout.removeAllListeners("data"),this.child.stderr.removeAllListeners("data"),this.child.removeAllListeners("exit"),this.child.kill()),console.log(`Installing npm packages on child process! ${this.packages.toString()}`),this.child=PW.spawn("npm",["i",...this.packages]),this.child.stdout.on("data",e=>Ls.stdout.write(e)),this.child.stderr.on("data",e=>{Ls.stdout.write(e)}),this.child.on("exit",e=>{console.log(`Child process exited with code ${e}`),console.log(`Installing npm packages DONE! ${this.packages.toString()}`),this.child=null})})}};RW=QW=MW([NW.Service()],QW);kf.NpmService=RW}var Cl,VW,WW=false;function XW(){if(WW)return;WW=true;Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});VW=[{name:"cloudflare",link:"https://cloudflare-ipfs.com/ipfs/"},{name:"main-ipfs-node",link:"https://ipfs.io/ipfs/"},{name:"infura",link:"https://ipfs.infura.io/ipfs/"},{name:"local",link:"http://127.0.0.1:8080/ipfs/"}];Cl.IPFS_PROVIDERS=VW}var Ala,Ns,Os,Bl,pb,bX=false;function cX(){if(bX)return;bX=true;Ns={};Os="/home/rampage/Desktop/work/repos/private/rhtml/examples/node_modules/systemjs/dist/system.src.js";Bl=(Ae(),vb).Buffer;pb=(qa(),ta);!function(){var e="undefined"!=typeof window&&"undefined"!=typeof document,t=void 0!==pb&&pb.versions&&pb.versions.node,r=void 0!==pb&&"string"==typeof pb.platform&&pb.platform.match(/^win/),n="undefined"!=typeof self?self:aa,o="undefined"!=typeof Symbol;function i(e){return o?Symbol():"@@"+e}var a,s=o&&Symbol.toStringTag;if("undefined"!=typeof document&&document.getElementsByTagName){if(!(a=document.baseURI)){var u=document.getElementsByTagName("base");a=u[0]&&u[0].href||window.location.href}}else"undefined"!=typeof location&&(a=location.href);if(a){var l=(a=a.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==l&&(a=a.substr(0,l+1))}else{if(void 0===pb||!pb.cwd)throw new TypeError("No environment baseURI");a="file://"+(r?"/":"")+pb.cwd(),r&&(a=a.replace(/\\/g,"/"))}"/"!==a[a.length-1]&&(a+="/");var c="_"==new Error(0,"_").fileName;function d(n,o){e||(o=o.replace(r?/file:\/\/\//g:/file:\/\//g,""));var i,a=(n.message||n)+"\n  "+o;i=c&&n.fileName?new Error(a,n.fileName,n.lineNumber):new Error(a);var s=n.originalErr?n.originalErr.stack:n.stack;return i.stack=t?a+"\n  "+s:s,i.originalErr=n.originalErr||n,i}function f(e,t){throw new RangeError("Unable to resolve \""+e+"\" to "+t)}var p=/\\/g;function g(e,r){" "!==e[0]&&" "!==e[e.length-1]||(e=e.trim());var n=r&&r.substr(0,r.indexOf(":")+1),o=e[0],i=e[1];if("/"===o&&"/"===i)return n||f(e,r),-1!==e.indexOf("\\")&&(e=e.replace(p,"/")),n+e;if("."===o&&("/"===i||"."===i&&("/"===e[2]||2===e.length&&(e+="/"))||1===e.length&&(e+="/"))||"/"===o){-1!==e.indexOf("\\")&&(e=e.replace(p,"/"));var a,s=!n||"/"!==r[n.length];if(s?(void 0===r&&f(e,r),a=r):a="/"===r[n.length+1]?"file:"!==n?(a=r.substr(n.length+2)).substr(a.indexOf("/")+1):r.substr(8):r.substr(n.length+1),"/"===o){if(!s)return r.substr(0,r.length-a.length-1)+e;f(e,r)}for(var u=a.substr(0,a.lastIndexOf("/")+1)+e,l=[],c=-1,d=0;d<u.length;d++)if(-1===c){if("."!==u[d])c=d;else{if("."!==u[d+1]||"/"!==u[d+2]&&d+2!==u.length){if("/"!==u[d+1]&&d+1!==u.length){c=d;continue}d+=1}else l.pop(),d+=2;s&&0===l.length&&f(e,r)}}else"/"===u[d]&&(l.push(u.substring(c,d+1)),c=-1);return-1!==c&&l.push(u.substr(c)),r.substr(0,r.length-a.length)+l.join("")}return-1!==e.indexOf(":")?t&&":"===e[1]&&"\\"===e[2]&&e[0].match(/[a-z]/i)?"file:///"+e.replace(p,"/"):e:void 0}var v=Promise.resolve();function h(e){if(e.values)return e.values();if("undefined"==typeof Symbol||!Symbol.iterator)throw new Error("Symbol.iterator not supported in this browser");var t={};return t[Symbol.iterator]=function(){var t=Object.keys(e),r=0;return{next:function(){return r<t.length?{value:e[t[r++]],done:!1}:{value:void 0,done:!0}}}},t}function m(){this.registry=new O}function y(e){if(void 0!==e){if(e instanceof j==!1&&"module"!==e[s])throw new TypeError("Module instantiation did not return a valid namespace object.");return e}}m.prototype.constructor=m,m.prototype.import=function(e,t){if("string"!=typeof e)throw new TypeError("Loader import method must be passed a module key string");var r=this;return v.then(function(){return r[w](e,t)}).then(y).catch(function(r){throw d(r,"Loading "+e+(t?" from "+t:""))})};var b=m.resolve=i("resolve"),w=m.resolveInstantiate=i("resolveInstantiate");function k(e){if(void 0===e)throw new RangeError("No resolution found.");return e}m.prototype[w]=function(e,t){var r=this;return r.resolve(e,t).then(function(e){return r.registry.get(e)})},m.prototype.resolve=function(e,t){var r=this;return v.then(function(){return r[b](e,t)}).then(k).catch(function(r){throw d(r,"Resolving "+e+(t?" to "+t:""))})};var x="undefined"!=typeof Symbol&&Symbol.iterator,E=i("registry");function O(){this[E]={}}x&&(O.prototype[Symbol.iterator]=function(){return this.entries()[Symbol.iterator]()},O.prototype.entries=function(){var e=this[E];return h(Object.keys(e).map(function(t){return[t,e[t]]}))}),O.prototype.keys=function(){return h(Object.keys(this[E]))},O.prototype.values=function(){var e=this[E];return h(Object.keys(e).map(function(t){return e[t]}))},O.prototype.get=function(e){return this[E][e]},O.prototype.set=function(e,t){if(!(t instanceof j||"module"===t[s]))throw new Error("Registry must be set with an instance of Module Namespace");return this[E][e]=t,this},O.prototype.has=function(e){return Object.hasOwnProperty.call(this[E],e)},O.prototype.delete=function(e){return!!Object.hasOwnProperty.call(this[E],e)&&(delete this[E][e],!0)};var S=i("baseObject");function j(e){Object.defineProperty(this,S,{value:e}),Object.keys(e).forEach($,this)}function $(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[S][e]}})}j.prototype=Object.create(null),s&&Object.defineProperty(j.prototype,s,{value:"Module"});var _=Promise.resolve(),L=i("register-internal");function P(){m.call(this);var e=this.registry.delete;this.registry.delete=function(r){var n=e.call(this,r);return t.hasOwnProperty(r)&&!t[r].linkRecord&&(delete t[r],n=!0),n};var t={};this[L]={lastRegister:void 0,records:t},this.trace=!1}P.prototype=Object.create(m.prototype),P.prototype.constructor=P;var R=P.instantiate=i("instantiate");function M(e,t,r){return e.records[t]={key:t,registration:r,module:void 0,importerSetters:void 0,loadError:void 0,evalError:void 0,linkRecord:{instantiatePromise:void 0,dependencies:void 0,execute:void 0,executingRequire:!1,moduleObj:void 0,setters:void 0,depsInstantiatePromise:void 0,dependencyInstantiations:void 0,evaluatePromise:void 0}}}function C(e,t,r,o,i){return r.instantiatePromise||(r.instantiatePromise=(t.registration?_:_.then(function(){return i.lastRegister=void 0,e[R](t.key,e[R].length>1&&function(e,t,r){return function(){var e=r.lastRegister;return e?(r.lastRegister=void 0,t.registration=e,!0):!!t.registration}}(0,t,i))})).then(function(a){if(void 0!==a){if(!(a instanceof j||"module"===a[s]))throw new TypeError("Instantiate did not return a valid Module object.");return delete i.records[t.key],e.trace&&z(e,t,r),o[t.key]=a}var u=t.registration;if(t.registration=void 0,!u)throw new TypeError("Module instantiation did not call an anonymous or correctly named System.register.");return r.dependencies=u[0],t.importerSetters=[],r.moduleObj={},u[2]?(r.moduleObj.default=r.moduleObj.__useDefault={},r.executingRequire=u[1],r.execute=u[2]):function(e,t,r,o){var i=r.moduleObj,a=t.importerSetters,s=!1,u=o.call(n,function(e,t){if("object"==typeof e){var r=!1;for(var n in e)t=e[n],"__useDefault"===n||n in i&&i[n]===t||(r=!0,i[n]=t);if(!1===r)return t}else{if((s||e in i)&&i[e]===t)return t;i[e]=t}for(var o=0;o<a.length;o++)a[o](i);return t},new K(e,t.key));r.setters=u.setters||[],r.execute=u.execute,u.exports&&(r.moduleObj=i=u.exports,s=!0)}(e,t,r,u[1]),t}).catch(function(e){throw t.linkRecord=void 0,t.loadError=t.loadError||d(e,"Instantiating "+t.key)}))}function A(e,t,r,n,o,i){return e.resolve(t,r).then(function(r){i&&(i[t]=r);var a=o.records[r],s=n[r];if(s&&(!a||a.module&&s!==a.module))return s;if(a&&a.loadError)throw a.loadError;(!a||!s&&a.module)&&(a=M(o,r,a&&a.registration));var u=a.linkRecord;return u?C(e,a,u,n,o):a})}function z(e,t,r){e.loads=e.loads||{},e.loads[t.key]={key:t.key,deps:r.dependencies,dynamicDeps:[],depMap:r.depMap||{}}}function K(e,t){this.loader=e,this.key=this.id=t,this.meta={url:t}}function I(e,t){e.linkRecord=void 0;var r=d(t,"Evaluating "+e.key);throw void 0===e.evalError&&(e.evalError=r),r}function D(e,t,r,n,o,i){for(var a,u,l=0;l<r.dependencies.length;l++){var c;if(!((c=r.dependencyInstantiations[l])instanceof j||"module"===c[s])&&(a=c.linkRecord))if(c.evalError)I(t,c.evalError);else if(a.setters){if(-1===i.indexOf(c)){i.push(c);try{var d=D(e,c,a,n,o,i)}catch(p){I(t,p)}d&&(u=u||[]).push(d.catch(function(e){I(t,e)}))}}else try{F(e,c,a,n,o,[c])}catch(p){I(t,p)}}if(u)return r.evaluatePromise=Promise.all(u).then(function(){if(r.execute){try{var e=r.execute.call(U)}catch(p){I(t,p)}if(e)return e.catch(function(e){I(t,e)}).then(function(){return t.linkRecord=void 0,n[t.key]=t.module=new j(r.moduleObj)})}t.linkRecord=void 0,n[t.key]=t.module=new j(r.moduleObj)});if(r.execute){try{var f=r.execute.call(U)}catch(p){I(t,p)}if(f)return r.evaluatePromise=f.catch(function(e){I(t,e)}).then(function(){return t.linkRecord=void 0,n[t.key]=t.module=new j(r.moduleObj)})}t.linkRecord=void 0,n[t.key]=t.module=new j(r.moduleObj)}function F(e,t,r,o,i,a){var u={id:t.key},l=r.moduleObj;Object.defineProperty(u,"exports",{configurable:!0,set:function(e){l.default=l.__useDefault=e},get:function(){return l.__useDefault}});var c=function(e,t,r,n,o,i,a){return function(u){for(var l=0;l<r.length;l++)if(r[l]===u){var c,d=n[l];if(d instanceof j||"module"===d[s])c=d;else{if(d.evalError)throw d.evalError;void 0!==d.module||-1!==a.indexOf(d)||d.linkRecord.evaluatePromise||(d.linkRecord.setters?D(e,d,d.linkRecord,o,i,[d]):(a.push(d),F(e,d,d.linkRecord,o,i,a))),c=d.module||d.linkRecord.moduleObj}return"__useDefault"in c?c.__useDefault:c}throw new Error("Module "+u+" not declared as a System.registerDynamic dependency of "+t)}}(e,t.key,r.dependencies,r.dependencyInstantiations,o,i,a);if(!r.executingRequire)for(var d=0;d<r.dependencies.length;d++)c(r.dependencies[d]);try{var f=r.execute.call(n,c,l.default,u);void 0!==f&&(u.exports=f)}catch(v){I(t,v)}t.linkRecord=void 0,u.exports!==l.__useDefault&&(l.default=l.__useDefault=u.exports);var p=l.default;if(p&&p.__esModule)for(var g in p)Object.hasOwnProperty.call(p,g)&&(l[g]=p[g]);if(o[t.key]=t.module=new j(r.moduleObj),t.importerSetters)for(d=0;d<t.importerSetters.length;d++)t.importerSetters[d](t.module);t.importerSetters=void 0}P.prototype[P.resolve=m.resolve]=function(e,t){return g(e,t||a)},P.prototype[R]=function(e,t){},P.prototype[m.resolveInstantiate]=function(e,t){var r=this,n=this[L],o=this.registry[E];return function(e,t,r,n,o){var i=n[t];if(i)return Promise.resolve(i);var a=o.records[t];if(a&&!a.module)return a.loadError?Promise.reject(a.loadError):C(e,a,a.linkRecord,n,o);return e.resolve(t,r).then(function(t){if(i=n[t])return i;if((a=o.records[t])&&!a.module||(a=M(o,t,a&&a.registration)),a.loadError)return Promise.reject(a.loadError);var r=a.linkRecord;return r?C(e,a,r,n,o):a})}(r,e,t,o,n).then(function(e){if(e instanceof j||"module"===e[s])return e;var t=e.linkRecord;if(!t){if(e.module)return e.module;throw e.evalError}return function(e,t,r,n,o){var i=[];return function t(r,a){if(!a)return _;if(-1!==i.indexOf(r))return _;i.push(r);return function(e,t,r,n,o){if(r.depsInstantiatePromise)return r.depsInstantiatePromise;for(var i=Array(r.dependencies.length),a=0;a<r.dependencies.length;a++)i[a]=A(e,r.dependencies[a],t.key,n,o,e.trace&&r.depMap||(r.depMap={}));var u=Promise.all(i).then(function(e){if(r.dependencyInstantiations=e,r.setters)for(var n=0;n<e.length;n++){var o=r.setters[n];if(o){var i=e[n];if(i instanceof j||"module"===i[s])o(i);else{if(i.loadError)throw i.loadError;o(i.module||i.linkRecord.moduleObj),i.importerSetters&&i.importerSetters.push(o)}}}return t});e.trace&&(u=u.then(function(){return z(e,t,r),t}));return(u=u.catch(function(e){throw r.depsInstantiatePromise=void 0,d(e,"Loading "+t.key)})).catch(function(){}),r.depsInstantiatePromise=u}(e,r,a,n,o).then(function(){for(var e,r=0;r<a.dependencies.length;r++){var n=a.dependencyInstantiations[r];n instanceof j||"module"===n[s]||(e=e||[]).push(t(n,n.linkRecord))}if(e)return Promise.all(e)})}(t,r)}(r,e,t,o,n).then(function(){return function(e,t,r,n,o){if(t.module)return t.module;if(t.evalError)throw t.evalError;if(r.evaluatePromise)return r.evaluatePromise;if(r.setters){var i=D(e,t,r,n,o,[t]);if(i)return i}else F(e,t,r,n,o,[t]);return t.module}(r,e,t,o,n)})})},P.prototype.register=function(e,t,r){var n=this[L];void 0===r?n.lastRegister=[e,t,void 0]:(n.records[e]||M(n,e,void 0)).registration=[t,r,void 0]},P.prototype.registerDynamic=function(e,t,r,n){var o=this[L];"string"!=typeof e?o.lastRegister=[e,t,r]:(o.records[e]||M(o,e,void 0)).registration=[t,r,n]},K.prototype.import=function(e){return this.loader.trace&&this.loader.loads[this.key].dynamicDeps.push(e),this.loader.import(e,this.key)};var U=Object.create(null);Object.freeze&&Object.freeze(U);var q=Promise.resolve();function T(){}var J=new j({});var N,B=i("loader-config"),W=i("metadata"),G="undefined"==typeof window&&"undefined"!=typeof self&&"undefined"!=typeof importScripts;function H(e,t){(t||this.warnings&&"undefined"!=typeof console&&console.warn)&&console.warn(e)}function Z(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function X(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&void 0===e[r]&&(e[r]=t[r]);return e}function Y(e,t,r){for(var n in t)if(Object.hasOwnProperty.call(t,n)){var o=t[n];void 0===e[n]?e[n]=o:o instanceof Array&&e[n]instanceof Array?e[n]=[].concat(r?o:e[n]).concat(r?e[n]:o):"object"==typeof o&&null!==o&&"object"==typeof e[n]?e[n]=(r?X:Z)(Z({},e[n]),o):r||(e[n]=o)}}var Q=!1,V=!1;function ee(e){if(Q||V){var t=document.createElement("link");Q?(t.rel="preload",t.as="script"):t.rel="prefetch",t.href=e,document.head.appendChild(t)}else{new Image().src=e}}if(e&&function(){var e=document.createElement("link").relList;if(e&&e.supports){V=!0;try{Q=e.supports("preload")}catch(t){}}}(),e){var te=window.onerror;window.onerror=function(e,t){te&&te.apply(this,arguments)}}function re(e,t,r,n,o){if(e=e.replace(/#/g,"%23"),G)return function(e,t,r){try{importScripts(e)}catch(n){r(n)}t()}(e,n,o);var i=document.createElement("script");function a(){n(),u()}function s(t){u(),o(new Error("Fetching "+e))}function u(){i.removeEventListener("load",a,!1),i.removeEventListener("error",s,!1),document.head.removeChild(i)}i.type="text/javascript",i.charset="utf-8",i.async=!0,t&&(i.crossOrigin=t),r&&(i.integrity=r),i.addEventListener("load",a,!1),i.addEventListener("error",s,!1),i.src=e,document.head.appendChild(i)}function ne(e,t){for(var r=e.split(".");r.length;)t=t[r.shift()];return t}function oe(e,t,r){var n=ae(t,r);if(n){var o=t[n]+r.substr(n.length),i=g(o,a);return void 0!==i?i:e+o}return-1!==r.indexOf(":")?r:e+r}function ie(e){var t=this.name;if(t.substr(0,e.length)===e&&(t.length===e.length||"/"===t[e.length]||"/"===e[e.length-1]||":"===e[e.length-1])){var r=e.split("/").length;r>this.len&&(this.match=e,this.len=r)}}function ae(e,t){if(Object.hasOwnProperty.call(e,t))return t;var r={name:t,match:void 0,len:0};return Object.keys(e).forEach(ie,r),r.match}var se,ue=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*'|`[^`\\]*(?:\\.[^`\\]*)*`)\s*\)/g;function le(e,t,r,n){if("file:///"===e.substr(0,8)){if(de)return ce(e,t,r,n);throw new Error("Unable to fetch file URLs in this environment.")}e=e.replace(/#/g,"%23");var o={headers:{Accept:"application/x-es-module, */*"}};return r&&(o.integrity=r),t&&("string"==typeof t&&(o.headers.Authorization=t),o.credentials="include"),fetch(e,o).then(function(e){if(e.ok)return n?e.arrayBuffer():e.text();throw new Error("Fetch error: "+e.status+" "+e.statusText)})}function ce(e,t,r,n){return new Promise(function(r,o){e=e.replace(/#/g,"%23");var i=new XMLHttpRequest;function a(){r(n?i.response:i.responseText)}function s(){o(new Error("XHR error: "+(i.status?" ("+i.status+(i.statusText?" "+i.statusText:"")+")":"")+" loading "+e))}n&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){4===i.readyState&&(0==i.status?i.response?a():(i.addEventListener("error",s),i.addEventListener("load",a)):200===i.status?a():s())},i.open("GET",e,!0),i.setRequestHeader&&(i.setRequestHeader("Accept","application/x-es-module, */*"),t&&("string"==typeof t&&i.setRequestHeader("Authorization",t),i.withCredentials=!0)),i.send(null)})}var de="undefined"!=typeof XMLHttpRequest,fe="undefined"!=typeof fetch,pe="undefined"!=typeof self&&void 0!==self.fetch?le:de?ce:void 0!==pb?function(e,t,n,o){return"file:///"!=e.substr(0,8)?fe?le(e,t,n,o):Promise.reject(new Error("Unable to fetch \""+e+"\". Only file URLs of the form file:/// supported running in Node without fetch.")):(se=se||(af(),{}),e=r?e.replace(/\//g,"\\").substr(8):e.substr(7),new Promise(function(t,r){se.readFile(e,function(e,n){if(e)return r(e);if(o)t(n);else{var i=n+"";"\uFEFF"===i[0]&&(i=i.substr(1)),t(i)}})}))}:function(){throw new Error("No fetch method is defined for this environment.")};function ge(e,t,r){var n,o={pluginKey:void 0,pluginArgument:void 0,pluginModule:void 0,packageKey:void 0,packageConfig:void 0,load:void 0};r&&(t.pluginFirst?-1!==(n=r.lastIndexOf("!"))&&(o.pluginArgument=o.pluginKey=r.substr(0,n)):-1!==(n=r.indexOf("!"))&&(o.pluginArgument=o.pluginKey=r.substr(n+1)),o.packageKey=ae(t.packages,r),o.packageKey&&(o.packageConfig=t.packages[o.packageKey]));return o}function ve(e,t){var r=we(e.pluginFirst,t);if(r){var n=ve.call(this,e,r.plugin);return ke(e.pluginFirst,he.call(this,e,r.argument,void 0,!1,!1),n)}return he.call(this,e,t,void 0,!1,!1)}function he(e,t,r,n,o){var i=g(t,r||a);if(i)return oe(e.baseURL,e.paths,i);if(n){var s=ae(e.map,t);if(s&&(i=g(t=e.map[s]+t.substr(s.length),a)))return oe(e.baseURL,e.paths,i)}if(this.registry.has(t))return t;if("@node/"===t.substr(0,6))return t;var u=o&&"/"!==t[t.length-1],l=oe(e.baseURL,e.paths,u?t+"/":t);return u?l.substr(0,l.length-1):l}function me(e,t,r,n,o,i){if(o&&o.packageConfig&&"."!==t[0]){var a=o.packageConfig.map,s=a&&ae(a,t);if(s&&"string"==typeof a[s]){var u=Oe(this,e,o.packageConfig,o.packageKey,s,t,n,i);if(u)return u}}var l=he.call(this,e,t,r,!0,!0),c=$e(e,l);if(n.packageKey=c&&c.packageKey||ae(e.packages,l),!n.packageKey)return l;if(-1!==e.packageConfigKeys.indexOf(l))return n.packageKey=void 0,l;n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Ie());var d=l.substr(n.packageKey.length+1);return function(e,t,r,n,o,i,a){if(!o){if(!r.main)return n;o="./"===r.main.substr(0,2)?r.main.substr(2):r.main}if(r.map){var s="./"+o,u=ae(r.map,s);if(u||(s="./"+xe(t,r,n,o,a))!=="./"+o&&(u=ae(r.map,s)),u){var l=Oe(e,t,r,n,u,s,i,a);if(l)return l}}return n+"/"+xe(t,r,n,o,a)}(this,e,n.packageConfig,n.packageKey,d,n,i)}function ye(e,t,r,n,o,i){var a=this;return q.then(function(){if(o&&o.packageConfig&&"./"!==t.substr(0,2)){var r=o.packageConfig.map,s=r&&ae(r,t);if(s)return Se(a,e,o.packageConfig,o.packageKey,s,t,n,i)}return q}).then(function(o){if(o)return o;var s=he.call(a,e,t,r,!0,!0),u=$e(e,s);return n.packageKey=u&&u.packageKey||ae(e.packages,s),n.packageKey?-1!==e.packageConfigKeys.indexOf(s)?(n.packageKey=void 0,n.load=be(),n.load.format="json",n.load.loader="",Promise.resolve(s)):(n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Ie()),(u&&!n.packageConfig.configured?function(e,t,r,n,o){var i=e.pluginLoader||e;-1===t.packageConfigKeys.indexOf(r)&&t.packageConfigKeys.push(r);return i.import(r).then(function(e){De(n.packageConfig,e,n.packageKey,!0,t),n.packageConfig.configured=!0}).catch(function(e){throw d(e,"Unable to fetch package configuration file "+r)})}(a,e,u.configPath,n):q).then(function(){var t=s.substr(n.packageKey.length+1);return function(e,t,r,n,o,i,a){if(!o){if(!r.main)return Promise.resolve(n);o="./"===r.main.substr(0,2)?r.main.substr(2):r.main}var s,u;r.map&&(s="./"+o,(u=ae(r.map,s))||(s="./"+xe(t,r,n,o,a))!=="./"+o&&(u=ae(r.map,s)));return(u?Se(e,t,r,n,u,s,i,a):q).then(function(e){return e?Promise.resolve(e):Promise.resolve(n+"/"+xe(t,r,n,o,a))})}(a,e,n.packageConfig,n.packageKey,t,n,i)})):Promise.resolve(s)})}function be(){return{extension:"",deps:void 0,format:void 0,loader:void 0,scriptLoad:void 0,globals:void 0,nonce:void 0,integrity:void 0,sourceMap:void 0,exports:void 0,encapsulateGlobal:!1,crossOrigin:void 0,cjsRequireDetection:!0,cjsDeferDepsExecute:!1,esModule:!1}}function we(e,t){var r,n,o=e?t.indexOf("!"):t.lastIndexOf("!");if(-1!==o)return e?(r=t.substr(o+1),n=t.substr(0,o)):(r=t.substr(0,o),n=t.substr(o+1)||r.substr(r.lastIndexOf(".")+1)),{argument:r,plugin:n}}function ke(e,t,r){return e?r+"!"+t:t+"!"+r}function xe(e,t,r,n,o){if(!n||!t.defaultExtension||"/"===n[n.length-1]||o)return n;var i=!1;if(t.meta&&_e(t.meta,n,function(e,t,r){if(0===r||e.lastIndexOf("*")!==e.length-1)return i=!0}),!i&&e.meta&&_e(e.meta,r+"/"+n,function(e,t,r){if(0===r||e.lastIndexOf("*")!==e.length-1)return i=!0}),i)return n;var a="."+t.defaultExtension;return n.substr(n.length-a.length)!==a?n+a:n}function Ee(e,t,r){return!(t.substr(0,e.length)===e&&r.length>e.length)}function Oe(e,t,r,n,o,i,a,s){"/"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if("object"==typeof u)throw new Error("Synchronous conditional normalization not supported sync normalizing "+o+" in "+n);if(Ee(o,u,i)&&"string"==typeof u)return me.call(e,t,u+i.substr(o.length),n+"/",a,a,s)}function Se(e,t,r,n,o,i,a,s){"/"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if("string"==typeof u)return Ee(o,u,i)?ye.call(e,t,u+i.substr(o.length),n+"/",a,a,s).then(function(t){return Ce.call(e,t,n+"/",a)}):q;var l=[],c=[];for(var d in u){var f=Pe(d);c.push({condition:f,map:u[d]}),l.push(P.prototype.import.call(e,f.module,n))}return Promise.all(l).then(function(e){for(var t=0;t<c.length;t++){var r=c[t].condition,n=ne(r.prop,"__useDefault"in e[t]?e[t].__useDefault:e[t]);if(!r.negate&&n||r.negate&&!n)return c[t].map}}).then(function(r){if(r)return Ee(o,r,i)?ye.call(e,t,r+i.substr(o.length),n+"/",a,a,s).then(function(t){return Ce.call(e,t,n+"/",a)}):q})}var je={};function $e(e,t){for(var r,n,o,i,a,s=!1,u=0;u<e.packageConfigPaths.length;u++){var l=e.packageConfigPaths[u],c=je[l]||(je[l]=(i=void 0,a=void 0,i=(o=l).lastIndexOf("*"),{length:a=Math.max(i+1,o.lastIndexOf("/")),regEx:new RegExp("^("+o.substr(0,a).replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,"[^\\/]+")+")(\\/|$)"),wildcard:-1!==i}));if(!(t.length<c.length)){var d=t.match(c.regEx);!d||r&&(s&&c.wildcard||!(r.length<d[1].length))||(r=d[1],s=!c.wildcard,n=r+l.substr(c.length))}}if(r)return{packageKey:r,configPath:n}}function _e(e,t,r){var n;for(var o in e){var i="./"===o.substr(0,2)?"./":"";if(i&&(o=o.substr(2)),-1!==(n=o.indexOf("*"))&&o.substr(0,n)===t.substr(0,n)&&o.substr(n+1)===t.substr(t.length-o.length+n+1)&&r(o,e[i+o],o.split("/").length))return}var a=e[t]&&Object.hasOwnProperty.call(e,t)?e[t]:e["./"+t];a&&r(a,a,0)}var Le=["browser","node","dev","build","production","default"];function Pe(e){var t,r,n,o=e.lastIndexOf("|");return-1!==o?(t=e.substr(o+1),r=e.substr(0,o),"~"===t[0]&&(n=!0,t=t.substr(1))):(n="~"===e[0],t="default",r=e.substr(n),-1!==Le.indexOf(r)&&(t=r,r=null)),{module:r||"@system-env",prop:t,negate:n}}function Re(e,t,r){return P.prototype.import.call(this,e.module,t).then(function(t){var n=ne(e.prop,t);if(r&&"boolean"!=typeof n)throw new TypeError("Condition did not resolve to a boolean.");return e.negate?!n:n})}var Me=/#\{[^\}]+\}/;function Ce(e,t,r){var n=e.match(Me);if(!n)return Promise.resolve(e);var o=Pe.call(this,n[0].substr(2,n[0].length-3));return Re.call(this,o,t,!1).then(function(r){if("string"!=typeof r)throw new TypeError("The condition value for "+e+" doesn't resolve to a string.");if(-1!==r.indexOf("/"))throw new TypeError("Unabled to interpolate conditional "+e+(t?" in "+t:"")+"\n\tThe condition value "+r+" cannot contain a \"/\" separator.");return e.replace(Me,r)})}var Ae=["browserConfig","nodeConfig","devConfig","buildConfig","productionConfig"];function ze(e,t,r){for(var n=0;n<Ae.length;n++){var o=Ae[n];t[o]&&Mt[o.substr(0,o.length-6)]&&r(t[o])}}function Ke(e,t){var r=e[t];return r instanceof Array?e[t].concat([]):"object"==typeof r?function e(t,r){var n={};for(var o in t){var i=t[o];r>1?i instanceof Array?n[o]=[].concat(i):"object"==typeof i?n[o]=e(i,r-1):"packageConfig"!==o&&(n[o]=i):n[o]=i}return n}(r,3):e[t]}function Ie(){return{defaultExtension:void 0,main:void 0,format:void 0,meta:void 0,map:void 0,packageConfig:void 0,configured:!1}}function De(e,t,r,n,o){for(var i in t)"main"===i||"format"===i||"defaultExtension"===i||"configured"===i?n&&void 0!==e[i]||(e[i]=t[i]):"map"===i?(n?X:Z)(e.map=e.map||{},t.map):"meta"===i?(n?X:Z)(e.meta=e.meta||{},t.meta):Object.hasOwnProperty.call(t,i)&&H.call(o,"\""+i+"\" is not a valid package configuration option in package "+r);return void 0===e.defaultExtension&&(e.defaultExtension="js"),void 0===e.main&&e.map&&e.map["."]?(e.main=e.map["."],delete e.map["."]):"object"==typeof e.main&&(e.map=e.map||{},e.map["./@main"]=e.main,e.main.default=e.main.default||"./",e.main="@main"),e}var Fe=void 0!==Bl;try{Fe&&"YQ=="!==new Bl("a").toString("base64")&&(Fe=!1)}catch(Bt){Fe=!1}var Ue,qe,Te,Je,Ne="\n//# sourceMappingURL=data:application/json;base64,";function Be(e,t,r,n){var o,i=e.lastIndexOf("\n");if(t){if("object"!=typeof t)throw new TypeError("load.metadata.sourceMap must be set to an object.");t=JSON.stringify(t)}return(n?"(function(System, SystemJS) {":"")+e+(n?"\n})(System, System);":"")+("\n//# sourceURL="!=e.substr(i,15)?"\n//# sourceURL="+r+(t?"!transpiled":""):"")+(t&&(o=t,Fe?Ne+new Bl(o).toString("base64"):"undefined"!=typeof btoa?Ne+btoa(unescape(encodeURIComponent(o))):"")||"")}var We=0;function Ge(e){0==We++&&(Je=n.System),n.System=n.SystemJS=e}function He(){0==--We&&(n.System=n.SystemJS=Je)}var Ze,Xe=!1;function Ye(e,t,r,n,o,i,a){if(t){if(i&&Xe)return function(e,t,r,n,o){Ue||(Ue=document.head||document.body||document.documentElement);var i=document.createElement("script");i.text=Be(t,r,n,!1);var a,s=window.onerror;if(window.onerror=function(e){a=addToError(e,"Evaluating "+n),s&&s.apply(this,arguments)},Ge(e),o&&i.setAttribute("nonce",o),Ue.appendChild(i),Ue.removeChild(i),He(),window.onerror=s,a)return a}(e,t,r,n,i);try{Ge(e),!qe&&e._nodeRequire&&(qe=e._nodeRequire("vm"),Te=qe.runInThisContext("typeof System !== 'undefined' && System")===e),Te?qe.runInThisContext(Be(t,r,n,!a),{filename:n+(r?"!transpiled":"")}):(0,eval)(Be(t,r,n,!a)),He()}catch(Bt){return He(),Bt}}}function Qe(e){function t(r,n,o,i){if("object"==typeof r&&!(r instanceof Array))return t.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof r&&"function"==typeof n&&(r=[r]),!(r instanceof Array)){if("string"==typeof r){var a=e.decanonicalize(r,i),s=e.get(a);if(!s)throw new Error("Module not already loaded loading \""+r+"\" as "+a+(i?" from \""+i+"\".":"."));return"__useDefault"in s?s.__useDefault:s}throw new TypeError("Invalid require")}for(var u=[],l=0;l<r.length;l++)u.push(e.import(r[l],i));Promise.all(u).then(function(e){n&&n.apply(null,e)},o)}function r(r,o,i){var a,s,u;function l(r,l,c){for(var d=[],f=0;f<o.length;f++)d.push(r(o[f]));if(c.uri=c.id,c.config=T,-1!==u&&d.splice(u,0,c),-1!==s&&d.splice(s,0,l),-1!==a){var p=function(n,o,i){return"string"==typeof n&&"function"!=typeof o?r(n):t.call(e,n,o,i,c.id)};p.toUrl=function(t){return e.normalizeSync(t,c.id)},d.splice(a,0,p)}var g=n.require;n.require=t;var v=i.apply(-1===s?n:l,d);n.require=g,void 0!==v&&(c.exports=v)}"string"!=typeof r&&(i=o,o=r,r=null),o instanceof Array||(o=["require","exports","module"].splice(0,(i=o).length)),"function"!=typeof i&&(i=function(e){return function(){return e}}(i)),r||ht&&(o=o.concat(ht),ht=void 0),-1!==(a=o.indexOf("require"))&&(o.splice(a,1),r||(o=o.concat(function(e,t){var r=((e=e.replace(rt,"")).match(dt)[1].split(",")[t]||"require").replace(ft,""),n=pt[r]||(pt[r]=new RegExp(lt+r+ct,"g"));n.lastIndex=0;var o,i=[];for(;o=n.exec(e);)i.push(o[2]||o[3]);return i}(i.toString(),a)))),-1!==(s=o.indexOf("exports"))&&o.splice(s,1),-1!==(u=o.indexOf("module"))&&o.splice(u,1),r?(e.registerDynamic(r,o,!1,l),vt?(vt=void 0,mt=!0):mt||(vt=[o,l])):e.registerDynamic(o,!1,yt?gt(l):l)}r.amd={},e.amdDefine=r,e.amdRequire=t}function Ve(e){return"file:///"===e.substr(0,8)?e.substr(7+!!r):Ze&&e.substr(0,Ze.length)===Ze?e.substr(Ze.length):e}function et(e,t){return Ve(this.normalizeSync(e,t))}function tt(e){var t,r=e.lastIndexOf("!"),n=(t=-1!==r?e.substr(0,r):e).split("/");return n.pop(),n=n.join("/"),{filename:Ve(t),dirname:Ve(n)}}e&&"undefined"!=typeof document&&document.getElementsByTagName&&(window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\.js/)||(Xe=!0)),"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(Ze=location.protocol+"//"+location.hostname+(location.port?":"+location.port:""));var rt=/(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,nt=/("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g;var ot,it=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","mozPaintCount","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];function at(e){if(-1===it.indexOf(e)){try{var t=n[e]}catch(Bt){it.push(e)}this(e,t)}}function st(e){if("string"==typeof e)return ne(e,n);if(!(e instanceof Array))throw new Error("Global exports must be a string or array.");for(var t={},r=0;r<e.length;r++)t[e[r].split(".").pop()]=ne(e[r],n);return t}function ut(e,t,r,o){var i,a=n.define;if(n.define=void 0,r)for(var s in i={},r)i[s]=n[s],n[s]=r[s];return t||(ot={},Object.keys(n).forEach(at,function(e,t){ot[e]=t})),function(){var e,r=t?st(t):{},s=!!t;if(t&&!o||Object.keys(n).forEach(at,function(i,a){ot[i]!==a&&void 0!==a&&(o&&(n[i]=void 0),t||(r[i]=a,void 0!==e?s||e===a||(s=!0):e=a))}),r=s?r:e,i)for(var u in i)n[u]=i[u];return n.define=a,r}}var lt="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",ct="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",dt=/\(([^\)]*)\)/,ft=/^\s+|\s+$/g,pt={};function gt(e){return function(t,r,n){e(t,r,n),"object"!=typeof(r=n.exports)&&"function"!=typeof r||"__esModule"in r||Object.defineProperty(n.exports,"__esModule",{value:!0})}}var vt,ht,mt=!1,yt=!1;var bt,wt=(e||G)&&"undefined"!=typeof navigator&&navigator.userAgent&&!navigator.userAgent.match(/MSIE (9|10).0/);function kt(e,t){!e.load.esModule||"object"!=typeof t&&"function"!=typeof t||"__esModule"in t||Object.defineProperty(t,"__esModule",{value:!0})}function xt(e,t,r,o,i){return Promise.resolve(r).then(function(t){return"detect"===o.load.format&&(o.load.format=void 0),function(e,t){var r=e.match(Ct);if(!r)return;for(var n=r[0].match(At),o=0;o<n.length;o++){var i=n[o],a=i.length,s=i.substr(0,1);if(";"==i.substr(a-1,1)&&a--,"\""==s||"'"==s){var u=i.substr(1,i.length-3),l=u.substr(0,u.indexOf(" "));if(l){var c=u.substr(l.length+1,u.length-l.length-1);"deps"===l&&(l="deps[]"),"[]"===l.substr(l.length-2,2)?(l=l.substr(0,l.length-2),t.load[l]=t.load[l]||[],t.load[l].push(c)):"use"!==l&&zt(t.load,l,c)}else t.load[u]=!0}}}(t,o),o.pluginModule?(o.pluginLoad.source=t,o.pluginModule.translate?Promise.resolve(o.pluginModule.translate.call(e,o.pluginLoad,o.traceOpts)).then(function(e){if(o.load.sourceMap){if("object"!=typeof o.load.sourceMap)throw new Error("metadata.load.sourceMap must be set to an object.");Pt(o.pluginLoad.address,o.load.sourceMap)}return"string"==typeof e?e:o.pluginLoad.source}):t):t}).then(function(r){return o.load.format||"\"bundle\""!==r.substring(0,8)?"register"===o.load.format||!o.load.format&&jt(r)?(o.load.format="register",r):"esm"===o.load.format||!o.load.format&&r.match(Ot)?(o.load.format="esm",function(e,t,r,n,o){if(!e.transpiler)throw new TypeError("Unable to dynamically transpile ES module\n   A loader plugin needs to be configured via `SystemJS.config({ transpiler: 'transpiler-module' })`.");if(n.load.deps){for(var i="",a=0;a<n.load.deps.length;a++)i+="import \""+n.load.deps[a]+"\"; ";t=i+t}return e.import.call(e,e.transpiler).then(function(o){if(!(o=o.__useDefault||o).translate)throw new Error(e.transpiler+" is not a valid transpiler plugin.");return o===n.pluginModule?t:("string"==typeof n.load.sourceMap&&(n.load.sourceMap=JSON.parse(n.load.sourceMap)),n.pluginLoad=n.pluginLoad||{name:r,address:r,source:t,metadata:n.load},n.load.deps=n.load.deps||[],Promise.resolve(o.translate.call(e,n.pluginLoad,n.traceOpts)).then(function(e){var t=n.load.sourceMap;return t&&"object"==typeof t&&Pt(r,t),"esm"===n.load.format&&jt(e)&&(n.load.format="register"),e}))},function(e){throw d(e,"Unable to load transpiler to transpile "+r)})}(e,r,t,o)):r:(o.load.format="system",r)}).then(function(t){if("string"!=typeof t||!o.pluginModule||!o.pluginModule.instantiate)return t;var r=!1;return o.pluginLoad.source=t,Promise.resolve(o.pluginModule.instantiate.call(e,o.pluginLoad,function(e){if(t=e.source,o.load=e.metadata,r)throw new Error("Instantiate must only be called once.");r=!0})).then(function(e){return r?t:function(e){if(e){if(e instanceof j||"module"===e[s])return e;if(e.__esModule)return new j(e)}return new j({default:e,__useDefault:e})}(e)})}).then(function(r){if("string"!=typeof r)return r;o.load.format||(o.load.format=function(e){return e.match($t)?"amd":(_t.lastIndex=0,ue.lastIndex=0,ue.exec(e)||_t.exec(e)?"cjs":"global")}(r));var a=!1;switch(o.load.format){case"esm":case"register":case"system":if(l=Ye(e,r,o.load.sourceMap,t,o.load.integrity,o.load.nonce,!1))throw l;return i()?void 0:J;case"json":var s=JSON.parse(r);return e.newModule({default:s,__useDefault:s});case"amd":var u=n.define;n.define=e.amdDefine,function(e,t){ht=e,yt=t,vt=void 0,mt=!1}(o.load.deps,o.load.esModule);var l=Ye(e,r,o.load.sourceMap,t,o.load.integrity,o.load.nonce,!1);if((a=i())||(!function(e){vt?e.registerDynamic(ht?vt[0].concat(ht):vt[0],!1,yt?gt(vt[1]):vt[1]):mt&&e.registerDynamic([],!1,T)}(e),a=i()),n.define=u,l)throw l;break;case"cjs":var c=o.load.deps,d=(o.load.deps||[]).concat(o.load.cjsRequireDetection?function(e){ue.lastIndex=rt.lastIndex=nt.lastIndex=0;var t,r=[],n=[],o=[];function i(e,t){for(var r=0;r<e.length;r++)if(e[r][0]<t.index&&e[r][1]>t.index)return!0;return!1}if(e.length/e.split("\n").length<200){for(;t=nt.exec(e);)n.push([t.index,t.index+t[0].length]);for(;t=rt.exec(e);)i(n,t)||o.push([t.index+t[1].length,t.index+t[0].length-1])}for(;t=ue.exec(e);)if(!i(n,t)&&!i(o,t)){var a=t[1].substr(1,t[1].length-2);if(a.match(/"|'/))continue;r.push(a)}return r}(r):[]);for(var f in o.load.globals)o.load.globals[f]&&d.push(o.load.globals[f]);e.registerDynamic(d,!0,function(i,a,s){if(i.resolve=function(t){return et.call(e,t,s.id)},s.paths=[],s.require=i,!o.load.cjsDeferDepsExecute&&c)for(var u=0;u<c.length;u++)i(c[u]);var l=tt(s.id),d={exports:a,args:[i,a,s,l.filename,l.dirname,n,n]},f="(function (require, exports, module, __filename, __dirname, global, GLOBAL";if(o.load.globals)for(var p in o.load.globals)d.args.push(i(o.load.globals[p])),f+=", "+p;var g=n.define;n.define=void 0,n.__cjsWrapper=d,r=f+") {"+r.replace(Lt,"")+"\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);";var v=Ye(e,r,o.load.sourceMap,t,o.load.integrity,o.load.nonce,!1);if(v)throw v;kt(o,a),n.__cjsWrapper=void 0,n.define=g}),a=i();break;case"global":d=o.load.deps||[];for(var f in o.load.globals){var p=o.load.globals[f];p&&d.push(p)}e.registerDynamic(d,!1,function(n,i,a){var s;if(o.load.globals)for(var u in s={},o.load.globals)o.load.globals[u]&&(s[u]=n(o.load.globals[u]));var l=o.load.exports;l&&(r+="\n"+Et+"[\""+l+"\"] = "+l+";");var c=ut(a.id,l,s,o.load.encapsulateGlobal),d=Ye(e,r,o.load.sourceMap,t,o.load.integrity,o.load.nonce,!0);if(d)throw d;var f=c();return kt(o,f),f}),a=i();break;default:throw new TypeError("Unknown module format \""+o.load.format+"\" for \""+t+"\"."+("es6"===o.load.format?" Use \"esm\" instead here.":""));}if(!a)throw new Error("Module "+t+" detected as "+o.load.format+" but didn't execute correctly.")})}var Et="undefined"!=typeof self?"self":"global",Ot=/(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?(?!type)([^"'\(\)\n; ]+)\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/,St=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;function jt(e){var t=e.match(St);if(!t)return!1;var r=t[0].length;return e.startsWith("System.register",r)||e.startsWith("SystemJS.register",r)}var $t=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/,_t=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/,Lt=/^\#\!.*/;function Pt(e,t){var r=e.split("!")[0];t.file&&t.file!=e||(t.file=r+"!transpiled"),(!t.sources||t.sources.length<=1&&(!t.sources[0]||t.sources[0]===e))&&(t.sources=[r])}var Rt,Mt,Ct=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/,At=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;function zt(e,t,r){for(var n,o=t.split(".");o.length>1;)e=e[n=o.shift()]=e[n]||{};void 0===e[n=o.shift()]&&(e[n]=r)}if("undefined"==typeof Promise)throw new Error("SystemJS needs a Promise polyfill.");if("undefined"!=typeof document){var Kt=document.getElementsByTagName("script"),It=Kt[Kt.length-1];document.currentScript&&(It.defer||It.async)&&(It=document.currentScript),Rt=It&&It.src}else if("undefined"!=typeof importScripts)try{throw new Error("_")}catch(Bt){Bt.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(e,t){Rt=t})}else void 0!==Os&&(Rt=Os);function Dt(){var e;P.call(this),this._loader={},this[W]={},this[B]={baseURL:a,paths:{},packageConfigPaths:[],packageConfigKeys:[],map:{},packages:{},depCache:{},meta:{},bundles:{},production:!1,transpiler:void 0,loadedBundles:{},warnings:!1,pluginFirst:!1,wasm:!1},this.scriptSrc=Rt,this._nodeRequire=bt,this.registry.set("@empty",J),Ft.call(this,!1,!1),(e=this).set("@@cjs-helpers",e.newModule({requireResolve:et.bind(e),getPathVars:tt})),e.set("@@global-helpers",e.newModule({prepareGlobal:ut})),Qe(this)}function Ft(t,r){this[B].production=t,this.registry.set("@system-env",Mt=this.newModule({browser:e,node:!!this._nodeRequire,production:!r&&t,dev:r||!t,build:r,default:!0}))}Dt.prototype=Object.create(P.prototype),Dt.prototype.constructor=Dt,Dt.prototype[Dt.resolve=P.resolve]=Dt.prototype.normalize=function(e,t){var r=this[B],n={pluginKey:void 0,pluginArgument:void 0,pluginModule:void 0,packageKey:void 0,packageConfig:void 0,load:void 0},o=ge(0,r,t),i=this;return Promise.resolve().then(function(){var r=e.lastIndexOf("#?");if(-1===r)return Promise.resolve(e);var n=Pe.call(i,e.substr(r+2));return Re.call(i,n,t,!0).then(function(t){return t?e.substr(0,r):"@empty"})}).then(function(e){var a=we(r.pluginFirst,e);return a?(n.pluginKey=a.plugin,Promise.all([ye.call(i,r,a.argument,o&&o.pluginArgument||t,n,o,!0),i.resolve(a.plugin,t)]).then(function(e){if(n.pluginArgument=e[0],n.pluginKey=e[1],n.pluginArgument===n.pluginKey)throw new Error("Plugin "+n.pluginArgument+" cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.");return ke(r.pluginFirst,e[0],e[1])})):ye.call(i,r,e,o&&o.pluginArgument||t,n,o,!1)}).then(function(e){return Ce.call(i,e,t,o)}).then(function(e){return function(e,t,r){r.load=r.load||{extension:"",deps:void 0,format:void 0,loader:void 0,scriptLoad:void 0,globals:void 0,nonce:void 0,integrity:void 0,sourceMap:void 0,exports:void 0,encapsulateGlobal:!1,crossOrigin:void 0,cjsRequireDetection:!0,cjsDeferDepsExecute:!1,esModule:!1};var n,o=0;for(var i in e.meta)if(-1!==(n=i.indexOf("*"))&&i.substr(0,n)===t.substr(0,n)&&i.substr(n+1)===t.substr(t.length-i.length+n+1)){var a=i.split("/").length;a>o&&(o=a),Y(r.load,e.meta[i],o!==a)}if(e.meta[t]&&Y(r.load,e.meta[t],!1),r.packageKey){var s=t.substr(r.packageKey.length+1),u={};if(r.packageConfig.meta){var o=0;_e(r.packageConfig.meta,s,function(e,t,r){r>o&&(o=r),Y(u,t,r&&o>r)}),Y(r.load,u,!1)}!r.packageConfig.format||r.pluginKey||r.load.loader||(r.load.format=r.load.format||r.packageConfig.format)}}.call(i,r,e,n),n.pluginKey||!n.load.loader?e:i.resolve(n.load.loader,e).then(function(t){return n.pluginKey=t,n.pluginArgument=e,e})}).then(function(e){return i[W][e]=n,e})},Dt.prototype.load=function(e,t){return H.call(this[B],"System.load is deprecated."),this.import(e,t)},Dt.prototype.decanonicalize=Dt.prototype.normalizeSync=Dt.prototype.resolveSync=function e(t,r){var n=this[B],o={pluginKey:void 0,pluginArgument:void 0,pluginModule:void 0,packageKey:void 0,packageConfig:void 0,load:void 0},i=i||ge(0,n,r),a=we(n.pluginFirst,t);return a?(o.pluginKey=e.call(this,a.plugin,r),ke(n.pluginFirst,me.call(this,n,a.argument,i.pluginArgument||r,o,i,!!o.pluginKey),o.pluginKey)):me.call(this,n,t,i.pluginArgument||r,o,i,!!o.pluginKey)},Dt.prototype[Dt.instantiate=P.instantiate]=function(t,o){var i=this,a=this[B];return(function(t,r,n){var o;if(e&&(o=t.depCache[n]))for(var i=0;i<o.length;i++)r.normalize(o[i],n).then(ee);else{var a=!1;for(var s in t.bundles){for(var i=0;i<t.bundles[s].length;i++){var u=t.bundles[s][i];if(u===n){a=!0;break}if(-1!==u.indexOf("*")){var l=u.split("*");if(2!==l.length){t.bundles[s].splice(i--,1);continue}if(n.substr(0,l[0].length)===l[0]&&n.substr(n.length-l[1].length,l[1].length)===l[1]){a=!0;break}}}if(a)return r.import(s)}}}(a,this,t)||q).then(function(){if(!o()){var s=i[W][t];if("@node/"===t.substr(0,6)){if(!i._nodeRequire)throw new TypeError("Error loading "+t+". Can only load node core modules in Node.");return i.registerDynamic([],!1,function(){return function(e,t){if("."===e[0])throw new Error("Node module "+e+" can't be loaded as it is not a package require.");if(!N){var n=this._nodeRequire("module"),o=decodeURI(t.substr(r?8:7));(N=new n(o)).paths=n._nodeModulePaths(o)}return N.require(e)}.call(i,t.substr(6),i.baseURL)}),void o()}return s.load.scriptLoad?!s.load.pluginKey&&wt||(s.load.scriptLoad=!1,H.call(a,"scriptLoad not supported for \""+t+"\"")):!1!==s.load.scriptLoad&&!s.load.pluginKey&&wt&&(s.load.deps||s.load.globals||!("system"===s.load.format||"register"===s.load.format||"global"===s.load.format&&s.load.exports)||(s.load.scriptLoad=!0)),s.load.scriptLoad?new Promise(function(e,r){if("amd"===s.load.format&&n.define!==i.amdDefine)throw new Error("Loading AMD with scriptLoad requires setting the global `"+Et+".define = SystemJS.amdDefine`");re(t,s.load.crossOrigin,s.load.integrity,function(){if(!o()){s.load.format="global";var t=s.load.exports&&st(s.load.exports);i.registerDynamic([],!1,function(){return kt(s,t),t}),o()}e()},r)}):function(e,t,r){return r.pluginKey?e.import(r.pluginKey).then(function(e){r.pluginModule=e,r.pluginLoad={name:t,address:r.pluginArgument,source:void 0,metadata:r.load},r.load.deps=r.load.deps||[]}):q}(i,t,s).then(function(){return function(t,r,n,o,i){return n.load.exports&&!n.load.format&&(n.load.format="global"),q.then(function(){if(n.pluginModule&&n.pluginModule.locate)return Promise.resolve(n.pluginModule.locate.call(t,n.pluginLoad)).then(function(e){e&&(n.pluginLoad.address=e)})}).then(function(){return n.pluginModule?(i=!1,n.pluginModule.fetch?n.pluginModule.fetch.call(t,n.pluginLoad,function(e){return pe(e.address,n.load.authorization,n.load.integrity,!1)}):pe(n.pluginLoad.address,n.load.authorization,n.load.integrity,!1)):pe(r,n.load.authorization,n.load.integrity,i)}).then(function(a){return i&&"string"!=typeof a?function(e,t,r){var n=new Uint8Array(t);return 0===n[0]&&97===n[1]&&115===n[2]?WebAssembly.compile(t).then(function(t){var n=[],o=[],i={};return WebAssembly.Module.imports&&WebAssembly.Module.imports(t).forEach(function(e){var t=e.module;o.push(function(e){i[t]=e}),-1===n.indexOf(t)&&n.push(t)}),e.register(n,function(e){return{setters:o,execute:function(){e(new WebAssembly.Instance(t,i).exports)}}}),r(),!0}):Promise.resolve(!1)}(t,a,o).then(function(i){if(!i){var s=e?new TextDecoder("utf-8").decode(new Uint8Array(a)):a.toString();return xt(t,r,s,n,o)}}):xt(t,r,a,n,o)})}(i,t,s,o,a.wasm)})}}).then(function(e){return delete i[W][t],e})},Dt.prototype.config=function(e,t){var r,n=this,o=this[B];if("warnings"in e&&(o.warnings=e.warnings),"wasm"in e&&(o.wasm="undefined"!=typeof WebAssembly&&e.wasm),("production"in e||"build"in e)&&Ft.call(n,!!e.production,!!(e.build||Mt&&Mt.build)),!t)for(var i in ze(0,e,function(e){r=r||e.baseURL}),(r=r||e.baseURL)&&(o.baseURL=g(r,a)||g("./"+r,a),"/"!==o.baseURL[o.baseURL.length-1]&&(o.baseURL+="/")),e.paths&&Z(o.paths,e.paths),ze(0,e,function(e){e.paths&&Z(o.paths,e.paths)}),o.paths)-1!==o.paths[i].indexOf("*")&&(H.call(o,"Path config "+i+" -> "+o.paths[i]+" is no longer supported as wildcards are deprecated."),delete o.paths[i]);if(e.defaultJSExtensions&&H.call(o,"The defaultJSExtensions configuration option is deprecated.\n  Use packages defaultExtension instead.",!0),"boolean"==typeof e.pluginFirst&&(o.pluginFirst=e.pluginFirst),e.map)for(var i in e.map){var s=e.map[i];if("string"==typeof s){var u=he.call(n,o,s,void 0,!1,!1);"/"===u[u.length-1]&&":"!==i[i.length-1]&&"/"!==i[i.length-1]&&(u=u.substr(0,u.length-1)),o.map[i]=u}else{m=(m=he.call(n,o,"/"!==i[i.length-1]?i+"/":i,void 0,!0,!0)).substr(0,m.length-1);var l=o.packages[m];l||((l=o.packages[m]={defaultExtension:void 0,main:void 0,format:void 0,meta:void 0,map:void 0,packageConfig:void 0,configured:!1}).defaultExtension=""),De(l,{map:s},m,!1,o)}}if(e.packageConfigPaths){for(var c=[],d=0;d<e.packageConfigPaths.length;d++){var f=e.packageConfigPaths[d],p=Math.max(f.lastIndexOf("*")+1,f.lastIndexOf("/")),v=he.call(n,o,f.substr(0,p),void 0,!1,!1);c[d]=v+f.substr(p)}o.packageConfigPaths=c}if(e.bundles)for(var i in e.bundles){var h=[];for(d=0;d<e.bundles[i].length;d++)h.push(n.normalizeSync(e.bundles[i][d]));o.bundles[i]=h}if(e.packages)for(var i in e.packages){if(i.match(/^([^\/]+:)?\/\/$/))throw new TypeError("\""+i+"\" is not a valid package name.");var m;m=(m=he.call(n,o,"/"!==i[i.length-1]?i+"/":i,void 0,!0,!0)).substr(0,m.length-1),De(o.packages[m]=o.packages[m]||{defaultExtension:void 0,main:void 0,format:void 0,meta:void 0,map:void 0,packageConfig:void 0,configured:!1},e.packages[i],m,!1,o)}if(e.depCache)for(var i in e.depCache)o.depCache[n.normalizeSync(i)]=[].concat(e.depCache[i]);if(e.meta)for(var i in e.meta)if("*"===i[0])Z(o.meta[i]=o.meta[i]||{},e.meta[i]);else{var y=he.call(n,o,i,void 0,!0,!0);Z(o.meta[y]=o.meta[y]||{},e.meta[i])}for(var b in"transpiler"in e&&(o.transpiler=e.transpiler),e)-1===Ut.indexOf(b)&&-1===Ae.indexOf(b)&&(n[b]=e[b]);ze(0,e,function(e){n.config(e,!0)})},Dt.prototype.getConfig=function(e){if(e){if(-1!==Ut.indexOf(e))return Ke(this[B],e);throw new Error("\""+e+"\" is not a valid configuration name. Must be one of "+Ut.join(", ")+".")}for(var t={},r=0;r<Ut.length;r++){var n=Ut[r],o=Ke(this[B],n);void 0!==o&&(t[n]=o)}return t},Dt.prototype.global=n,Dt.prototype.import=function(){return P.prototype.import.apply(this,arguments).then(function(e){return"__useDefault"in e?e.__useDefault:e})};for(var Ut=["baseURL","map","paths","packages","packageConfigPaths","depCache","meta","bundles","transpiler","warnings","pluginFirst","production","wasm"],qt="undefined"!=typeof Proxy,Tt=0;Tt<Ut.length;Tt++)!function(e){Object.defineProperty(Dt.prototype,e,{get:function(){var t=Ke(this[B],e);return qt&&"object"==typeof t&&(t=new Proxy(t,{set:function(t,r){throw new Error("Cannot set SystemJS."+e+"[\""+r+"\"] directly. Use SystemJS.config({ "+e+": { \""+r+"\": ... } }) rather.")}})),t},set:function(t){throw new Error("Setting `SystemJS."+e+"` directly is no longer supported. Use `SystemJS.config({ "+e+": ... })`.")}})}(Ut[Tt]);function Jt(e,t){H.call(e[B],"SystemJS."+t+" is deprecated for SystemJS.registry."+t)}Dt.prototype.delete=function(e){return Jt(this,"delete"),this.registry.delete(e)},Dt.prototype.get=function(e){return Jt(this,"get"),this.registry.get(e)},Dt.prototype.has=function(e){return Jt(this,"has"),this.registry.has(e)},Dt.prototype.set=function(e,t){return Jt(this,"set"),this.registry.set(e,t)},Dt.prototype.newModule=function(e){return new j(e)},Dt.prototype.isModule=function(e){return e instanceof j||"module"===e[s]},Dt.prototype.register=function(e,t,r){return"string"==typeof e&&(e=ve.call(this,this[B],e)),P.prototype.register.call(this,e,t,r)},Dt.prototype.registerDynamic=function(e,t,r,n){return"string"==typeof e&&(e=ve.call(this,this[B],e)),P.prototype.registerDynamic.call(this,e,t,r,n)},Dt.prototype.version="0.21.4 Dev";var Nt=new Dt;(e||G)&&(n.SystemJS=n.System=Nt),Ns&&(Ns=Nt)}()}var pd,od,ce,df,hX,Va,S,Xs,Ys,Zs,_e,_s,at,qX,Wg,ae,tX,uX=false;function vX(){if(uX)return;uX=true;pd={};od=(qa(),ta);ce=pd&&pd.__decorate||function(e,r,t,o){var i,s=arguments.length,a=s<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var $=e.length-1;$>=0;$--)(i=e[$])&&(a=(s<3?i(a):s>3?i(r,t,a):i(r,t))||a);return s>3&&a&&Object.defineProperty(r,t,a),a};df=pd&&pd.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(pd,"__esModule",{value:!0});hX=(M(),E);Va=(ka(),e);S=(Ad(),d);Xs=(FV(),rh);Ys=(Es(),mf);Zs=(kg(),Sa);_e=(Fb(),Ra);_s=(Js(),uc);at=(TW(),kf);qX=(XW(),Cl);Wg=(cX(),Ns);ae=class{constructor(){this.defaultJsonFolder=`${od.cwd()}/package.json`,this.defaultTypescriptConfigJsonFolder=`${od.cwd()}/tsconfig.json`,this.providers=new Va.BehaviorSubject(qX.IPFS_PROVIDERS),this.defaultProvider=this.getProvider("main-ipfs-node"),this.defaultNamespaceFolder="@types",this.defaultOutputFolder="node_modules"}setDefaultProvider(e){this.defaultProvider=this.getProvider(e)}getProvider(e){return this.providers.getValue().filter(r=>r.name===e)[0].link}setProviders(...e){this.providers.next([...this.providers.getValue(),...e])}importExternalModule(e){return Va.from(Wg.import(e))}validateConfig(e){if(!e)throw new Error("Bootstrap: missing config")}isWeb(){let e=!1;try{window&&(e=!0)}catch(r){}return e}loadTypescriptConfigJson(){let e={};try{e=this.fileService.readFile(this.defaultTypescriptConfigJsonFolder)}catch(r){console.error(`\n            Error in loading tsconfig.json in ${this.defaultTypescriptConfigJsonFolder}\n            Error: ${r}\n            Fallback to creating tsconfig.json\n            `)}return e.compilerOptions=e.compilerOptions||{},e.compilerOptions.typeRoots=e.compilerOptions.typeRoots||[],e}addNamespaceToTypeRoots(e){const r=`./${this.defaultOutputFolder}/@types/${e}`,t=this.loadTypescriptConfigJson();return t.compilerOptions.typeRoots.filter(e=>e===r).length||(t.compilerOptions.typeRoots.push(r),this.writeTypescriptConfigFile(t)),Va.of(!0)}writeTypescriptConfigFile(e){this.fileService.writeFileSync(od.cwd()+"/tsconfig.json",e)}loadPackageJson(){let e;try{e=this.fileService.readFile(this.defaultJsonFolder)}catch(r){e={}}return e}loadNpmPackageJson(){let e;try{e=this.fileService.readFile(`${od.cwd()}/package.json`)}catch(r){e={}}return e}prepareDependencies(){const e=this.loadNpmPackageJson();return e.dependencies?Object.keys(e.dependencies).map(r=>({name:r,version:e.dependencies[r]})):[]}isModulePresent(e){let r=this.loadPackageJson().ipfs;const t=[];return r||(r=this.defaultIpfsConfig()),r.forEach(r=>{const o=r.dependencies.filter(r=>r===e);o.length&&t.push(o[0])}),t.length}filterUniquePackages(){let e=this.loadPackageJson().ipfs,r=[];if(e||(e=this.defaultIpfsConfig()),e.forEach(e=>{const t=e.dependencies.map(e=>({count:1,name:e})).reduce((e,r)=>(e[r.name]=(e[r.name]||0)+r.count,e),{}),o=Object.keys(t).filter(e=>t[e]>1);r=[...r,...o]}),r.length)throw new Error(`There are packages which are with the same hash ${JSON.stringify(r)}`);return r.length}defaultIpfsConfig(){return[{provider:this.defaultProvider,dependencies:[]}]}addPackageToJson(e){const r=this.loadPackageJson();let t=r.ipfs;t||(t=this.defaultIpfsConfig());const o=this.prepareDependencies();o.length&&(r.packages=o),this.isModulePresent(e)?this.logger.log(`Package with hash: ${e} present and will not be downloaded!`):(t[0].dependencies.push(e),r.ipfs=t),this.fileService.writeFileSync(this.defaultJsonFolder,r)}downloadIpfsModules(e){const r=e.map(e=>this.downloadIpfsModule(e));return Va.combineLatest(r.length?r:Va.of())}downloadIpfsModuleConfig(e){return this.requestService.get(e.provider+e.hash,e.hash).pipe(S.map(r=>{if(!r)throw new Error("Recieved undefined from provided address"+e.provider+e.hash);let t=r;const o="<!--meta-rxdi-ipfs-module-->";if(t.includes(o))try{t=r.split(o)[1]}catch(i){}return t}),S.map(e=>{let r=e;try{r=JSON.parse(e)}catch(t){}return r}))}combineDependencies(e,r){return Va.combineLatest(e.length?e.map(e=>this.downloadIpfsModule({provider:r.provider,hash:e})):Va.of(""))}writeFakeIndexIfMultiModule(e,r){return 2===r.length?this.fileService.writeFileAsyncP(`${e}${this.defaultNamespaceFolder}/${r[0]}`,"index.d.ts",""):Va.of(!0)}downloadIpfsModule(e){if(!e.provider)throw new Error(`Missing configuration inside ${e.hash}`);if(!e.hash)throw new Error(`Missing configuration inside ${e.provider}`);let r,t;const o=e.provider+e.hash;let i,s,a,$,n,p;return this.downloadIpfsModuleConfig(e).pipe(S.tap(e=>{e.module||console.log("Todo: create logic to load module which is not from rxdi infrastructure for now can be used useDynamic which will do the same job!")}),S.filter(e=>!!e.module),S.map(o=>(s=o.name,a=s.split("/"),r=`${od.cwd()}/${this.defaultOutputFolder}/`,t=`${e.provider}${o.module}`,i=`${e.provider}${o.typings}`,o.dependencies=o.dependencies||[],o.packages=o.packages||[],$=o,this.npmService.setPackages(o.packages),n=2===s.split("/").length,p=n?s:s.split("/")[0],this.logger.logFileService(`Package config for module ${s} downloaded! ${JSON.stringify(o)}`),o)),S.switchMap(r=>this.combineDependencies(r.dependencies,e)),S.switchMap(()=>(this.logger.logFileService(`--------------------${s}--------------------`),this.logger.logFileService(`\nDownloading... ${o} `),this.logger.logFileService(`Config: ${JSON.stringify($,null,2)} \n`),this.requestService.get(t,e.hash))),S.switchMap(e=>this.fileService.writeFile(r+s,"index.js",s,e)),S.switchMap(()=>this.requestService.get(i,e.hash)),S.switchMap(e=>this.fileService.writeFile(r+`${this.defaultNamespaceFolder}/${p}`,"index.d.ts",s,e)),S.tap(()=>{void 0}),S.switchMap(()=>this.addNamespaceToTypeRoots(s.split("/")[0])),S.map(()=>({provider:e.provider,hash:e.hash,version:$.version,name:$.name,dependencies:$.dependencies,packages:$.packages})),S.tap(()=>{$.packages.length&&this.npmService.installPackages()}))}downloadTypings(e,r,t,o){return e?this.requestService.get(e).pipe(S.take(1),S.map(e=>(this.logger.logFileService("Done!"),e)),S.switchMap(e=>this.fileService.writeFile(r,t,o.typingsFileName,e))):Va.of(!0)}importModule(e,r,{folderOverride:t,waitUntil:o}={}){const i=Va.timer(o||2e4);return this.validateConfig(e),this.isWeb()?(Wg.config(Object.assign({map:{[r]:e.link}},e.SystemJsConfig)),Wg.import(e.link)):new Va.Observable(r=>{const o=e.fileName,i=e.namespace,s=e.link,a=e.extension,$=e.SystemJsConfig||{},n=e.outputFolder||`/${this.defaultOutputFolder}/`,p=`${t||od.cwd()}${n}/${i}/${o}.${a}`,c=`${t||od.cwd()}${n}${i}`,l=`${o}.${a}`;Object.assign($,{paths:Object.assign({[o]:p},$.paths)}),Wg.config($),this.fileService.isPresent(p)?(this.logger.logImporter(`Bootstrap -> @Service('${o}'): present inside .${n}${i}/${o}.${a} folder and loaded from there`),this.importExternalModule(o).pipe(S.take(1)).subscribe(e=>{r.next(e),r.complete()},e=>{r.error(e),r.complete()})):(this.logger.logImporter(`Bootstrap -> @Service('${o}'): will be downloaded inside .${n}${i}/${o}.${a} folder and loaded from there`),this.logger.logImporter(`Bootstrap -> @Service('${o}'): ${s} downloading...`),this.requestService.get(s).pipe(S.take(1),S.tap(()=>this.logger.logImporter("Done!")),S.switchMap(r=>this.fileService.writeFile(c,l,e.fileName,r)),S.switchMap(()=>this.downloadTypings(e.typings,c,l,e)),S.switchMap(()=>this.importExternalModule(o))).subscribe(e=>{r.next(e),r.complete()},e=>{r.error(e),r.complete()}))}).pipe(S.takeUntil(i)).toPromise()}};ce([_e.Injector(Xs.RequestService),df("design:type",Xs.RequestService)],ae.prototype,"requestService",void 0),ce([_e.Injector(Ys.FileService),df("design:type",Ys.FileService)],ae.prototype,"fileService",void 0),ce([_e.Injector(Zs.BootstrapLogger),df("design:type",Zs.BootstrapLogger)],ae.prototype,"logger",void 0),ce([_e.Injector(_s.CompressionService),df("design:type",_s.CompressionService)],ae.prototype,"compressionService",void 0),ce([_e.Injector(at.NpmService),df("design:type",at.NpmService)],ae.prototype,"npmService",void 0);tX=ae=ce([hX.Service()],ae);pd.ExternalImporter=tX}var Ug,xX,yX,zX,AX,BX=false;function CX(){if(BX)return;BX=true;Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});xX=class $UwOa$var$ExternalImporterConfig{};yX=xX;Ug.ExternalImporterConfig=yX;zX=class $UwOa$var$ExternalImporterIpfsConfig{};AX=zX;Ug.ExternalImporterIpfsConfig=AX}var Xe,EX=false;function ft(r){for(var e in r)Xe.hasOwnProperty(e)||(Xe[e]=r[e])}function gt(){if(EX)return;EX=true;Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),ft((vX(),pd)),ft((CX(),Ug))}var _d,IX,JX,KX,LX,MX=false;function it(){if(MX)return;MX=true;_d={};IX=_d&&_d.__decorate||function(r,e,t,a){var o,$=arguments.length,c=$<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(r,e,t,a);else for(var y=r.length-1;y>=0;y--)(o=r[y])&&(c=($<3?o(c):$>3?o(e,t,c):o(e,t))||c);return $>3&&c&&Object.defineProperty(e,t,c),c};Object.defineProperty(_d,"__esModule",{value:!0});JX=(M(),E);KX=class{constructor(){this.lazyFactories=new Map}setLazyFactory(r,e){return this.lazyFactories.set(r,e),this.getLazyFactory(r)}getLazyFactory(r){return this.lazyFactories.get(r)}};LX=KX=IX([JX.Service()],KX);_d.LazyFactory=LX}var $d,PX,QX,RX,SX,TX=false;function kt(){if(TX)return;TX=true;$d={};PX=$d&&$d.__decorate||function(e,a,t,r){var o,d=arguments.length,l=d<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,a,t,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(d<3?o(l):d>3?o(a,t,l):o(a,t))||l);return d>3&&l&&Object.defineProperty(a,t,l),l};Object.defineProperty($d,"__esModule",{value:!0});QX=(M(),E);RX=class{validateEmpty(e,a,t){if(!e){const e=t.charAt(0).toUpperCase()+t.slice(1);throw new Error(`\n            ${a.metadata.raw}\n            -> @Module: ${a.metadata.moduleName}\n            -> @Module hash: ${a.metadata.moduleHash}\n                --\x3e Maybe you forgot to import some ${e} inside ${a.metadata.moduleName} ?\n\n                Hint: run ts-lint again, looks like imported ${e} is undefined or null inside ${a.metadata.moduleName}\n            `)}}genericWrongPluggableError(e,a,t){if(e.metadata.type!==t){const r=e.metadata.type.charAt(0).toUpperCase()+e.metadata.type.slice(1),o=t.charAt(0).toUpperCase()+t.slice(1);throw new Error(`\n            ${a.metadata.raw}\n            -> @Module: '${a.metadata.moduleName}'\n            -> @Module hash: '${a.metadata.moduleHash}'\n                --\x3e @${r} '${e.metadata.moduleName}' provided, where expected class decorated with '@${o}' instead,\n            -> @Hint: please provide class with @Service decorator or remove ${e.metadata.moduleName} class\n            `)}}validateImports(e,a){if("module"!==e.metadata.type)throw new Error(`\n            ${a.metadata.raw}\n            -> @Module: '${a.metadata.moduleName}'\n            -> @Module hash: '${a.metadata.moduleHash}'\n                --\x3e @${e.metadata.type.charAt(0).toUpperCase()+e.metadata.type.slice(1)} '${e.originalName}' provided, where expected class decorated with '@Module' instead,\n            -> @Hint: please provide class with @Module decorator or remove ${e.originalName} from imports\n            `)}validateServices(e,a){this.validateEmpty(e,a,"service"),e.provide||this.genericWrongPluggableError(e,a,"service")}validatePlugin(e,a){this.validateEmpty(e,a,"plugin"),e.provide||this.genericWrongPluggableError(e,a,"plugin")}validateController(e,a){this.validateEmpty(e,a,"controller"),e.provide||this.genericWrongPluggableError(e,a,"controller")}validateEffect(e,a){this.validateEmpty(e,a,"effect"),e.provide||this.genericWrongPluggableError(e,a,"effect")}validateComponent(e,a){this.validateEmpty(e,a,"component"),e.provide||this.genericWrongPluggableError(e,a,"component")}};SX=RX=PX([QX.Service()],RX);$d.ModuleValidators=SX}var nd,WX,XX,YX,ZX,$X,_X=false;function gl(){if(_X)return;_X=true;nd={};WX=nd&&nd.__decorate||function(e,r,t,o){var $,v=arguments.length,c=v<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,o);else for(var l=e.length-1;l>=0;l--)($=e[l])&&(c=(v<3?$(c):v>3?$(r,t,c):$(r,t))||c);return v>3&&c&&Object.defineProperty(r,t,c),c};Object.defineProperty(nd,"__esModule",{value:!0});XX=(M(),E);YX=(ka(),e);ZX=class{constructor(){this.controllers=new YX.BehaviorSubject([])}register(e){this.controllers.next([...this.controllers.getValue(),e])}getControllers(){return this.controllers.getValue()}};$X=ZX=WX([XX.Service()],ZX);nd.ControllersService=$X}var md,cY,dY,eY,fY,gY,hY=false;function el(){if(hY)return;hY=true;md={};cY=md&&md.__decorate||function(e,r,t,$){var c,f=arguments.length,s=f<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,t,$);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(s=(f<3?c(s):f>3?c(r,t,s):c(r,t))||s);return f>3&&s&&Object.defineProperty(r,t,s),s};Object.defineProperty(md,"__esModule",{value:!0});dY=(M(),E);eY=(ka(),e);fY=class{constructor(){this.effects=new eY.BehaviorSubject([])}register(e){this.effects.next([...this.effects.getValue(),e])}getEffects(){return this.effects.getValue()}};gY=fY=cY([dY.Service()],fY);md.EffectsService=gY}var ld,kY,lY,mY,nY,oY,pY=false;function cl(){if(pY)return;pY=true;ld={};kY=ld&&ld.__decorate||function(e,o,r,t){var $,c=arguments.length,n=c<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,r):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,o,r,t);else for(var s=e.length-1;s>=0;s--)($=e[s])&&(n=(c<3?$(n):c>3?$(o,r,n):$(o,r))||n);return c>3&&n&&Object.defineProperty(o,r,n),n};Object.defineProperty(ld,"__esModule",{value:!0});lY=(M(),E);mY=(ka(),e);nY=class{constructor(){this.components=new mY.BehaviorSubject([])}register(e){this.components.next([...this.components.getValue(),e])}getComponents(){return this.components.getValue()}};oY=nY=kY([lY.Service()],nY);ld.ComponentsService=oY}var kd,sY,tY,uY,vY,wY,xY=false;function al(){if(xY)return;xY=true;kd={};sY=kd&&kd.__decorate||function(e,r,t,o){var s,$=arguments.length,a=$<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=($<3?s(a):$>3?s(r,t,a):s(r,t))||a);return $>3&&a&&Object.defineProperty(r,t,a),a};Object.defineProperty(kd,"__esModule",{value:!0});tY=(M(),E);uY=(ka(),e);vY=class{constructor(){this.bootstraps=new uY.BehaviorSubject([])}register(e){this.bootstraps.next([...this.bootstraps.getValue(),e])}getBootstraps(){return this.bootstraps.getValue()}};wY=vY=sY([tY.Service()],vY);kd.BootstrapsServices=wY}var jd,AY,BY,CY,DY,EY,FY=false;function $k(){if(FY)return;FY=true;jd={};AY=jd&&jd.__decorate||function(e,r,K,t){var $,c=arguments.length,s=c<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,K):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,K,t);else for(var v=e.length-1;v>=0;v--)($=e[v])&&(s=(c<3?$(s):c>3?$(r,K,s):$(r,K))||s);return c>3&&s&&Object.defineProperty(r,K,s),s};Object.defineProperty(jd,"__esModule",{value:!0});BY=(M(),E);CY=(ka(),e);DY=class{constructor(){this.services=new CY.BehaviorSubject([])}register(e){this.services.next([...this.services.getValue(),e])}getServices(){return this.services.getValue()}};EY=DY=AY([BY.Service()],DY);jd.ServicesService=EY}var $b,kb,Zb,yt,kc,MY,At,Bt,Ct,Yb,Et,SY,Ft,Gt,Ht,It,Jt,Kt,xb,$Y,_Y=false;function Lk(){if(_Y)return;_Y=true;$b={};kb=$b&&$b.__decorate||function(e,r,t,a){var o,$=arguments.length,c=$<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=($<3?o(c):$>3?o(r,t,c):o(r,t))||c);return $>3&&c&&Object.defineProperty(r,t,c),c};Zb=$b&&$b.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty($b,"__esModule",{value:!0});yt=(ka(),e);kc=(Ya(),pa);MY=(M(),E);At=(it(),_d);Bt=(Wi(),mc);Ct=(gt(),Xe);Yb=(Fb(),Ra);Et=(kt(),$d);SY=(Wv(),jg);Ft=(gl(),nd);Gt=(el(),md);Ht=(cl(),ld);It=(al(),kd);Jt=($k(),jd);Kt=(we(),dc);xb=class{constructor(){this.watcherService=SY.constructorWatcherService}setServices(e,r,t){e.forEach(e=>{this.validators.validateServices(e,r),this.setInjectedDependencies(e),e.provide&&e.provide.constructor===Function&&(e.provide=e.provide.name),e.provide&&e.useFactory?this.setUseFactory(e):e.provide&&e.useDynamic?this.setUseDynamic(e):e.provide&&e.useClass&&e.useClass.constructor===Function?this.setUseClass(e):e.provide&&e.useValue?this.setUseValue(e):(t.putItem({data:e,key:e.name}),this.servicesService.register(e))})}setInjectedDependencies(e){e.deps=e.deps||[],e.deps.length&&(e.deps=e.deps.map(e=>kc.Container.get(e)))}setUseValue(e){kc.Container.set(e.provide,e.useValue),e.lazy&&this.lazyFactoryService.setLazyFactory(e.provide,yt.of(kc.Container.get(e.provide)))}setUseClass(e){e.lazy?this.lazyFactoryService.setLazyFactory(e.provide,yt.of(kc.Container.get(e.useClass))):kc.Container.set(e.provide,kc.Container.get(e.useClass))}setUseDynamic(e){const r=this.externalImporter.importModule(e.useDynamic,e.provide);this.lazyFactoryService.setLazyFactory(e.provide,r)}setUseFactory(e){const r=e.useFactory;e.useFactory=()=>r(...e.deps),e.lazy?this.lazyFactoryService.setLazyFactory(e.provide,e.useFactory()):kc.Container.set(e.provide,e.useFactory())}setControllers(e,r,t){e.forEach(e=>{this.validators.validateController(e,r),t.putItem({data:e,key:e.name}),this.controllersService.register(e)})}setEffects(e,r,t){e.forEach(e=>{this.validators.validateEffect(e,r),t.putItem({data:e,key:e.name}),this.effectsService.register(e)})}setComponents(e,r,t){e.forEach(e=>{e.metadata||Kt.ReflectDecorator({},{type:"component"})(e),this.validators.validateComponent(e,r),t.putItem({data:e,key:e.name}),this.componentsService.register(e)})}setPlugins(e,r,t){e.forEach(e=>{this.validators.validatePlugin(e,r),t.putItem({data:e,key:e.name}),this.pluginService.register(e)})}setBootstraps(e,r,t){e.forEach(e=>{e.metadata||Kt.ReflectDecorator({},{type:"component"})(e),this.validators.validateEmpty(e,r,e.metadata.type),t.putItem({data:e,key:e.name}),this.bootstraps.register(e)})}setAfterPlugins(e,r,t){e.forEach(e=>{this.validators.validatePlugin(e,r),t.putItem({data:e,key:e.name}),this.pluginService.registerAfter(e)})}setBeforePlugins(e,r,t){e.forEach(e=>{this.validators.validatePlugin(e,r),t.putItem({data:e,key:e.name}),this.pluginService.registerBefore(e)})}setImports(e,r){e.forEach(e=>{if(this.validators.validateImports(e,r),!e)throw new Error("Missing import module");kc.Container.get(e)})}};kb([Yb.Injector(At.LazyFactory),Zb("design:type",At.LazyFactory)],xb.prototype,"lazyFactoryService",void 0),kb([Yb.Injector(Bt.PluginService),Zb("design:type",Bt.PluginService)],xb.prototype,"pluginService",void 0),kb([Yb.Injector(Ht.ComponentsService),Zb("design:type",Ht.ComponentsService)],xb.prototype,"componentsService",void 0),kb([Yb.Injector(Ft.ControllersService),Zb("design:type",Ft.ControllersService)],xb.prototype,"controllersService",void 0),kb([Yb.Injector(Gt.EffectsService),Zb("design:type",Gt.EffectsService)],xb.prototype,"effectsService",void 0),kb([Yb.Injector(It.BootstrapsServices),Zb("design:type",It.BootstrapsServices)],xb.prototype,"bootstraps",void 0),kb([Yb.Injector(Ct.ExternalImporter),Zb("design:type",Ct.ExternalImporter)],xb.prototype,"externalImporter",void 0),kb([Yb.Injector(Et.ModuleValidators),Zb("design:type",Et.ModuleValidators)],xb.prototype,"validators",void 0),kb([Yb.Injector(Jt.ServicesService),Zb("design:type",Jt.ServicesService)],xb.prototype,"servicesService",void 0);$Y=xb=kb([MY.Service()],xb);$b.ModuleService=$Y}var Dg,cZ=false;function Ot(e){for(var r in e)Dg.hasOwnProperty(r)||(Dg[r]=e[r])}function eZ(){if(cZ)return;cZ=true;Dg={};Object.defineProperty(Dg,"__esModule",{value:!0}),Ot((Lk(),$b)),Ot((kt(),$d))}var qc,Hk,Rt,iZ,St,ng,Ek,mZ,Vt,Wt,pZ,Bk,rZ,sZ=false;function Yt(){if(sZ)return;sZ=true;qc={};Hk=qc&&qc.__decorate||function(e,r,o,t){var a,$=arguments.length,c=$<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,o,t);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(c=($<3?a(c):$>3?a(r,o,c):a(r,o))||c);return $>3&&c&&Object.defineProperty(r,o,c),c};Rt=qc&&qc.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(qc,"__esModule",{value:!0});iZ=(Ya(),pa);St=(Si(),nb);ng=(Ln(),De);Ek=(Ad(),d);mZ=(ka(),e);Vt=(kg(),Sa);Wt=(Fb(),Ra);pZ=(M(),E);Bk=class{resolveDependencies(e,r,o){this.cacheService.getLayer(ng.InternalLayers.modules).putItem({key:e,data:r});const t=this.cacheService.getLayer(e);return t.putItem({key:ng.InternalEvents.config,data:{moduleName:o,moduleHash:e}}),t.getItemObservable(ng.InternalEvents.load).pipe(Ek.switchMap(e=>e.data?t.items.asObservable():mZ.of(null)),Ek.filter(e=>e&&e.length),Ek.map(this.resolveContainerDependencies(r,o)))}resolveContainerDependencies(e,r){return o=>(o.forEach(o=>{if(o.key===ng.InternalEvents.load||o.key===ng.InternalEvents.config)return;const t=this.cacheService.searchForItem(o.data);if(t){if(t.provide)return t;const o=t.metadata.type.charAt(0).toUpperCase()+t.metadata.type.slice(1);return this.bootstrapLogger.log(`Start -> @Module('${r}')${this.bootstrapLogger.logHashes(`(${e.name})`)}: @${o}('${t.originalName}')${this.bootstrapLogger.logHashes(`(${t.name})`)}`+" initialized!"),iZ.Container.get(t)}throw new Error("not found")}),o)}};Hk([Wt.Injector(Vt.BootstrapLogger),Rt("design:type",Vt.BootstrapLogger)],Bk.prototype,"bootstrapLogger",void 0),Hk([Wt.Injector(St.CacheService),Rt("design:type",St.CacheService)],Bk.prototype,"cacheService",void 0);rZ=Bk=Hk([pZ.Service()],Bk);qc.ResolverService=rZ}var jj,vZ=false;function wZ(e){for(var r in e)jj.hasOwnProperty(r)||(jj[r]=e[r])}function xZ(){if(vZ)return;vZ=true;jj={};Object.defineProperty(jj,"__esModule",{value:!0}),wZ((Yt(),qc))}var Od,zZ,AZ,BZ,CZ,DZ,EZ=false;function _t(){if(EZ)return;EZ=true;Od={};zZ=Od&&Od.__decorate||function(e,r,t,$){var c,a=arguments.length,o=a<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,$);else for(var v=e.length-1;v>=0;v--)(c=e[v])&&(o=(a<3?c(o):a>3?c(r,t,o):c(r,t))||o);return a>3&&o&&Object.defineProperty(r,t,o),o};Object.defineProperty(Od,"__esModule",{value:!0});AZ=(M(),E);BZ=(ka(),e);CZ=class{constructor(){this.appStarted=new BZ.Subject}};DZ=CZ=zZ([AZ.Service()],CZ);Od.AfterStarterService=DZ}var xk,bu,IZ,JZ=false;function KZ(){if(JZ)return;JZ=true;xk={};Object.defineProperty(xk,"__esModule",{value:!0});bu=(qe(),fc);IZ=(e,n)=>{bu.Container.has(e)&&n&&console.log(`Warn: Injection Token '${e.name||e}' is extended after it has being declared! ${JSON.stringify(bu.Container.get(e))}`)};xk.logExtendedInjectables=IZ}var Vb,MZ,NZ,Qb,$,Pb,RZ,SZ,Zi,UZ,VZ,WZ,na,YZ,ZZ,$Z,_Z,a$,b$,c$,d$,e$,f$,g$=false;function h$(){if(g$)return;g$=true;Vb={};MZ=Vb&&Vb.__decorate||function(e,r,t,a){var i,s=arguments.length,v=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,r,t,a);else for(var $=e.length-1;$>=0;$--)(i=e[$])&&(v=(s<3?i(v):s>3?i(r,t,v):i(r,t))||v);return s>3&&v&&Object.defineProperty(r,t,v),v};NZ=Vb&&Vb.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Qb=Vb&&Vb.__awaiter||function(e,r,t,a){return new(t||(t=Promise))(function(i,s){function v(e){try{o(a.next(e))}catch(r){s(r)}}function $(e){try{o(a.throw(e))}catch(r){s(r)}}function o(e){e.done?i(e.value):new t(function(r){r(e.value)}).then(v,$)}o((a=a.apply(e,r||[])).next())})};Object.defineProperty(Vb,"__esModule",{value:!0});$=(ka(),e);Pb=(Ya(),pa);RZ=(kg(),Sa);SZ=(Si(),nb);Zi=(Ln(),De);UZ=(it(),_d);VZ=(qp(),Fe);WZ=(Wi(),mc);na=(Ad(),d);YZ=(el(),md);ZZ=(gl(),nd);$Z=(cl(),ld);_Z=(al(),kd);a$=($k(),jd);b$=(_t(),Od);c$=(KZ(),xk);d$=(M(),E);e$=class{constructor(e,r,t,a,i,s,v,$,o,n,c){this.logger=e,this.cacheService=r,this.lazyFactoriesService=t,this.configService=a,this.controllersService=i,this.effectsService=s,this.pluginService=v,this.componentsService=$,this.bootstrapsService=o,this.servicesService=n,this.afterStarterService=c,this.globalConfig=this.cacheService.createLayer({name:Zi.InternalLayers.globalConfig})}start(e,r){this.configService.setConfig(r),this.globalConfig.putItem({key:Zi.InternalEvents.config,data:r}),Pb.Container.get(e);const t=Array.from(this.lazyFactoriesService.lazyFactories.keys());return $.of(t).pipe(na.map(e=>this.prepareAsyncChainables(e)),na.switchMap(e=>$.combineLatest(e).pipe(na.take(1),na.map(e=>this.attachLazyLoadedChainables(t,e)),na.map(()=>this.validateSystem()),na.switchMap(()=>$.combineLatest(this.asyncChainableControllers())),na.switchMap(()=>$.combineLatest(this.asyncChainablePluginsBeforeRegister())),na.switchMap(()=>$.combineLatest(this.asyncChainablePluginsRegister())),na.switchMap(()=>$.combineLatest(this.asyncChainablePluginsAfterRegister())),na.switchMap(()=>$.combineLatest(this.asyncChainableServices())),na.switchMap(()=>$.combineLatest(this.asyncChainableEffects())),na.switchMap(()=>$.combineLatest(this.asyncChainableComponents())),na.map(()=>this.loadApplication()),na.switchMap(()=>$.combineLatest(this.asyncChainableBootstraps())),na.map(()=>this.final()))))}final(){return this.afterStarterService.appStarted.next(!0),this.configService.config.init||this.logger.log("Bootstrap -> press start!"),Pb.Container}asyncChainableComponents(){return[$.of(!0),...this.componentsService.getComponents().filter(e=>this.genericFilter(e,"components")).map(e=>Qb(this,void 0,void 0,function*(){return yield Pb.Container.get(e)}))]}asyncChainableBootstraps(){return[$.of(!0),...this.bootstrapsService.getBootstraps().map(e=>Qb(this,void 0,void 0,function*(){return yield Pb.Container.get(e)}))]}asyncChainableEffects(){return[$.of(!0),...this.effectsService.getEffects().filter(e=>this.genericFilter(e,"effects")).map(e=>Qb(this,void 0,void 0,function*(){return yield Pb.Container.get(e)}))]}asyncChainableServices(){return[$.of(!0),...this.servicesService.getServices().filter(e=>this.genericFilter(e,"services")).map(e=>Qb(this,void 0,void 0,function*(){return yield Pb.Container.get(e)}))]}asyncChainableControllers(){return[$.of(!0),...this.controllersService.getControllers().filter(e=>this.genericFilter(e,"controllers")).map(e=>Qb(this,void 0,void 0,function*(){return yield Pb.Container.get(e)}))]}asyncChainablePluginsRegister(){return[$.of(!0),...this.pluginService.getPlugins().filter(e=>this.genericFilter(e,"plugins")).map(e=>Qb(this,void 0,void 0,function*(){return yield this.registerPlugin(e)}))]}asyncChainablePluginsAfterRegister(){return[$.of(!0),...this.pluginService.getAfterPlugins().filter(e=>this.genericFilter(e,"pluginsAfter")).map(e=>Qb(this,void 0,void 0,function*(){return yield this.registerPlugin(e)}))]}asyncChainablePluginsBeforeRegister(){return[$.of(!0),...this.pluginService.getBeforePlugins().filter(e=>this.genericFilter(e,"pluginsBefore")).map(e=>Qb(this,void 0,void 0,function*(){return yield this.registerPlugin(e)}))]}genericFilter(e,r){return this.configService.config.initOptions[r]||e.metadata.options&&e.metadata.options.init||this.configService.config.init}registerPlugin(e){return Qb(this,void 0,void 0,function*(){const r=Pb.Container.get(e);return yield r.register(),r})}prepareAsyncChainables(e){const r=[$.of(!0)],t={},a=e=>e.name||e;return e.map(e=>{const i=Date.now();t[a(e)]={started:i,end:null},this.logger.log(`Bootstrap -> @Service('${a(e)}'): loading...`);const s=$.from(this.lazyFactoriesService.getLazyFactory(e)).pipe(na.shareReplay(1));r.push(s),s.subscribe(()=>{this.logger.log(`Bootstrap -> @Service('${a(e)}'): loading finished after ${Date.now()-t[a(e)].started}ms !`),delete t[a(e)]})}),r}validateSystem(){this.configService.config.strict&&this.cacheService.searchForDuplicateDependenciesInsideApp()}attachLazyLoadedChainables(e,r){r.splice(0,1);let t=0;return e.map(e=>{c$.logExtendedInjectables(e,this.configService.config.experimental.logExtendedInjectables),Pb.Container.set(e,r[t++])}),!0}loadApplication(){return Array.from(this.cacheService.getLayer(Zi.InternalLayers.modules).map.keys()).forEach(e=>this.cacheService.getLayer(e).putItem({key:Zi.InternalEvents.load,data:this.configService.config.init})),!0}};f$=e$=MZ([d$.Service(),NZ("design:paramtypes",[RZ.BootstrapLogger,SZ.CacheService,UZ.LazyFactory,VZ.ConfigService,ZZ.ControllersService,YZ.EffectsService,WZ.PluginService,$Z.ComponentsService,_Z.BootstrapsServices,a$.ServicesService,b$.AfterStarterService])],e$);Vb.BootstrapService=f$}var lk,eg,k$,l$,m$,n$=false;function o$(){if(n$)return;n$=true;lk={};eg=(qa(),ta);Object.defineProperty(lk,"__esModule",{value:!0});k$=(So(),bc);l$=(Ya(),pa);m$=()=>{const e=l$.Container.get(k$.ExitHandlerService);e.init(),eg.on("exit",e.exitHandler.bind(e,{cleanup:!0})),eg.on("SIGINT",e.exitHandler.bind(e,{exit:!0})),eg.on("SIGUSR1",e.exitHandler.bind(e,{exit:!0})),eg.on("SIGUSR2",e.exitHandler.bind(e,{exit:!0})),eg.on("uncaughtException",e.exitHandler.bind(e,{exit:!0}))};lk.exitHandlerInit=m$}var Fc,lu,r$,s$,Mi,u$,v$,nu,ou,y$,z$=false;function A$(){if(z$)return;z$=true;Fc={};Object.defineProperty(Fc,"__esModule",{value:!0}),dw();lu=(Ya(),pa);r$=(h$(),Vb);s$=(o$(),lk);s$.exitHandlerInit();Mi=lu.Container.get(r$.BootstrapService);u$=(r,e)=>Mi.start(r,e);Fc.Bootstrap=u$;v$=(r,e)=>Mi.start(r,e).toPromise();Fc.BootstrapPromisify=v$;nu=(r,e,t)=>(Mi.configService.setConfig(t),e.map(r=>lu.Container.get(r)),Mi.start(r,t));Fc.BootstrapFramework=nu;ou=(r,e=[],t)=>{const o=(Ru(),Jf).Module;return nu(o({imports:r.imports||[],providers:r.providers||[],services:r.services||[],bootstrap:r.bootstrap||[],components:r.components||[],controllers:r.controllers||[],effects:r.effects||[],plugins:r.plugins||[],afterPlugins:r.afterPlugins||[],beforePlugins:r.beforePlugins||[]})(function(){}),e,t)};Fc.setup=ou;y$=ou;Fc.createTestBed=y$}var ag,C$=false;function yi(r){for(var e in r)ag.hasOwnProperty(e)||(ag[e]=r[e])}function ru(){if(C$)return;C$=true;ag={};Object.defineProperty(ag,"__esModule",{value:!0}),yi((A$(),Fc)),yi(($v(),Jg)),yi((Ku(),Yh)),yi((_v(),bg))}var Hd,G$,H$,I$,J$,K$,L$=false;function tu(){if(L$)return;L$=true;Hd={};G$=Hd&&Hd.__decorate||function(e,t,r,a){var i,o=arguments.length,n=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(o<3?i(n):o>3?i(t,r,n):i(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n};Object.defineProperty(Hd,"__esModule",{value:!0});H$=(M(),E);I$=(ru(),ag);J$=class{generateHashData(e,t){const r=e.services||[],a=e.imports||[],i=r=>r&&r.provide?r.provide:r?(this.validateCustomInjectable(r,e,t),{moduleName:r.metadata.moduleName,hash:r.metadata.moduleHash}):void 0;return[[...r.map(e=>i(e))],[...a.map(e=>i(e))]]}validateCustomInjectableKeys(e){}validateCustomInjectable(e,t,r){if(!e.metadata&&!e.provide)throw new Error(`\n                ---- Wrong service ${JSON.stringify(e)} provided inside '${r.name}' ----\n                @Module({\n                    services: ${JSON.stringify([...t.services.filter(e=>!e.metadata),...t.services.filter(e=>e&&e.metadata&&e.metadata.moduleName).map(e=>e.metadata.moduleName)])}\n                })\n                ${JSON.stringify(`${r}`,null,2)}\n\n                Hint: System recieved Object but it is not with appropriate format you must provide object with following parameters:\n\n                YourObject: ${JSON.stringify(e)}\n\n                Option 1. [YourClass]\n\n                Option 2. [{provide: 'your-value', useClass: YourClass}]\n\n                Option 3. [{provide: 'your-value', deps: [YourClass], useFactory: (test: YourClass) => {}}]\n\n                Option 4. [{provide: 'your-value', useDynamic: {}}]\n\n                Option 5. [{provide: 'your-value', useValue: 'your-value'}]\n            `)}parseModuleTemplate(e,t,r){return`\n            ---- @gapi module '${e}' metadata----\n            @Module({\n                imports: ${JSON.stringify(t[1],null,"\t")},\n                services: ${JSON.stringify(t[0],null,"\t")}\n            })\n            ${JSON.stringify(r,null,2)}\n        `}createUniqueHash(e){return I$.createUniqueHash(e)}};K$=J$=G$([H$.Service()],J$);Hd.MetadataService=K$}var qi,O$=false;function P$(e){for(var r in e)qi.hasOwnProperty(r)||(qi[r]=e[r])}function Q$(){if(O$)return;O$=true;qi={};Object.defineProperty(qi,"__esModule",{value:!0}),P$((tu(),Hd))}var oi,S$=false;function T$(e){for(var r in e)oi.hasOwnProperty(r)||(oi[r]=e[r])}function U$(){if(S$)return;S$=true;oi={};Object.defineProperty(oi,"__esModule",{value:!0}),T$((Js(),uc))}var ni,W$=false;function X$(e){for(var r in e)ni.hasOwnProperty(r)||(ni[r]=e[r])}function Y$(){if(W$)return;W$=true;ni={};Object.defineProperty(ni,"__esModule",{value:!0}),X$((el(),md))}var li,$$=false;function _$(r){for(var e in r)li.hasOwnProperty(e)||(li[e]=r[e])}function a_(){if($$)return;$$=true;li={};Object.defineProperty(li,"__esModule",{value:!0}),_$((gl(),nd))}var yg,c_=false;function d_(e){for(var r in e)yg.hasOwnProperty(r)||(yg[r]=e[r])}function e_(){if(c_)return;c_=true;yg={};Object.defineProperty(yg,"__esModule",{value:!0}),d_((cl(),ld))}var ii,g_=false;function h_(r){for(var e in r)ii.hasOwnProperty(e)||(ii[e]=r[e])}function i_(){if(g_)return;g_=true;ii={};Object.defineProperty(ii,"__esModule",{value:!0}),h_((al(),kd))}var hi,k_=false;function l_(e){for(var r in e)hi.hasOwnProperty(r)||(hi[r]=e[r])}function m_(){if(k_)return;k_=true;hi={};Object.defineProperty(hi,"__esModule",{value:!0}),l_(($k(),jd))}var dd,o_,p_,q_,r_,s_,t_,u_=false;function v_(){if(u_)return;u_=true;dd={};o_=dd&&dd.__decorate||function(e,r,t,$){var a,s=arguments.length,i=s<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,t,$);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(i=(s<3?a(i):s>3?a(r,t,i):a(r,t))||i);return s>3&&i&&Object.defineProperty(r,t,i),i};p_=dd&&dd.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(dd,"__esModule",{value:!0});q_=(Wi(),mc);r_=(M(),E);s_=class{constructor(e){this.pluginService=e}listPlugins(){return this.pluginService.getPlugins()}getPlugin(e){return this.pluginService.getPlugins().filter(r=>r.name===e.name)[0]}};t_=s_=o_([r_.Service(),p_("design:paramtypes",[q_.PluginService])],s_);dd.PluginManager=t_}var Vf,x_=false;function da(e){for(var r in e)Vf.hasOwnProperty(r)||(Vf[r]=e[r])}function Eu(){if(x_)return;x_=true;Vf={};Object.defineProperty(Vf,"__esModule",{value:!0}),da((jp(),og)),da((Wi(),mc)),da((Je(),Ob)),da((QM(),aj)),da((gt(),Xe)),da((eZ(),Dg)),da((xZ(),jj)),da((Vn(),Ge)),da((Q$(),qi)),da((U$(),oi)),da((Es(),mf)),da((Vv(),qg)),da((Y$(),ni)),da((a_(),li)),da((e_(),yg)),da((i_(),ii)),da((m_(),hi)),da((v_(),dd)),da((_t(),Od))}var Yh,wj,Hu,lb,Ju,F_,G_=false;function H_(e,r,s){return function($,o){return e?(e.imports&&lb.setImports(e.imports,r),e.services&&lb.setServices(e.services,r,s),e.providers&&lb.setServices(e.providers,r,s),e.controllers&&lb.setControllers(e.controllers,r,s),e.effects&&lb.setEffects(e.effects,r,s),e.components&&lb.setComponents(e.components,r,s),e.beforePlugins&&lb.setBeforePlugins(e.beforePlugins,r,s),e.plugins&&lb.setPlugins(e.plugins,r,s),e.afterPlugins&&lb.setAfterPlugins(e.afterPlugins,r,s),e.bootstrap&&lb.setBootstraps(e.bootstrap,r,s),Ju.log(`Bootstrap -> @Module('${$.originalName}')${Ju.logHashes(`(${$.name})`)}: finished!`),wj.Container.get($)):new $}}function Ku(){if(G_)return;G_=true;Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});wj=(Ya(),pa);Hu=(Eu(),Vf);lb=wj.Container.get(Hu.ModuleService);Ju=wj.Container.get(Hu.BootstrapLogger);F_=H_;Yh.GenericConstruct=F_}var Jf,Ne,L_,M_,N_,O_,P_,Q_,Ih,S_,T_,Ho,Jb,W_,X_,Y_=false;function Qu(e){return r=>{e=e||{};const c=Object.assign(r),o=r.name||r.constructor.name,$=Ho.generateHashData(e,c),a=Ho.parseModuleTemplate(o,$,`${r}`),t=Ho.createUniqueHash(a);Object.defineProperty(c,"originalName",{value:c.name||c.constructor.name,writable:!1}),Object.defineProperty(c,"name",{value:t,writable:!0});const s=T_.createLayer({name:t});c.metadata={moduleName:c.originalName,moduleHash:t,options:null,type:"module",raw:a};const i=function(...r){return Ih.log(`Bootstrap -> @Module('${c.originalName}')${Ih.logHashes(`(${c.name})`)}: loading...`),M_.GenericConstruct(e,c,s)(c,r)};if(Object.assign(i,c),S_.resolveDependencies(t,c,o).subscribe(()=>Ih.log(`Start -> @Module('${c.originalName}')${Ih.logHashes(`(${c.name})`)}: loaded!`)),Object.getOwnPropertyNames(c).filter(e=>"function"==typeof c[e]).map(e=>Object.defineProperty(i,e,{configurable:!0,writable:!0,value:c[e]})),c.forRoot){const e=i.forRoot;i.forRoot=function(...r){const o=e(...r);if(!o)throw new Error(`forRoot configuration inside ${i.name} is returning undefined or null`);return o.frameworkImports&&Jb.setImports(o.frameworkImports,c),o.services&&Jb.setServices(o.services,c,s),o.providers&&Jb.setServices(o.providers,c,s),o.components&&Jb.setComponents(o.components,c,s),o.effects&&Jb.setEffects(o.effects,c,s),o.controllers&&Jb.setControllers(o.controllers,c,s),o.beforePlugins&&Jb.setBeforePlugins(o.beforePlugins,c,s),o.plugins&&Jb.setPlugins(o.plugins,c,s),o.afterPlugins&&Jb.setAfterPlugins(o.afterPlugins,c,s),o.ngModule?o.ngModule:o.module?o.module:o}}const n={type:i};return Ne.Container.set(n),i}}function Ru(){if(Y_)return;Y_=true;Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Ne=(Ya(),pa);L_=(Si(),nb);M_=(Ku(),Yh);N_=(kg(),Sa);O_=(Yt(),qc);P_=(tu(),Hd);Q_=(Lk(),$b);Ih=Ne.Container.get(N_.BootstrapLogger);S_=Ne.Container.get(O_.ResolverService);T_=Ne.Container.get(L_.CacheService);Ho=Ne.Container.get(P_.MetadataService);Jb=Ne.Container.get(Q_.ModuleService);W_=Qu;Jf.Module=W_;X_=Qu;Jf.NgModule=X_}Object.defineProperty(Ag,"__esModule",{value:!0}),CV((Ru(),Jf));var Eh={};function aaa(e){for(var r in e)Eh.hasOwnProperty(r)||(Eh[r]=e[r])}Object.defineProperty(Eh,"__esModule",{value:!0}),aaa((Fb(),Ra));var xh={};function caa(r){for(var t in r)xh.hasOwnProperty(t)||(xh[t]=r[t])}var po={};Object.defineProperty(po,"__esModule",{value:!0});const eaa=(Ya(),pa),faa=(Lk(),$b);function gaa(e){return eaa.Container.get(faa.ModuleService).watcherService.getByClass(e)}var haa=gaa;po.InjectSoft=haa;Object.defineProperty(xh,"__esModule",{value:!0}),caa(po);var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});class jaa extends Error{constructor(r,e){super(`Cannot inject value into '${r.constructor.name}.${e}'. `+"Please make sure you setup reflect-metadata properly and you don't use interfaces without service tokens as injection value."),this.name="ServiceNotFoundError",Object.setPrototypeOf(this,CannotInjectError.prototype)}}var Wu=jaa;Vu.CannotInjectError=Wu;var no={};Object.defineProperty(no,"__esModule",{value:!0});const maa=(pe(),Lb);var th=(e,r,t)=>{let n;if((n="string"==typeof e?e:e instanceof maa.Token?e:e())===Object)throw new Wu(r,t);return n};no.getIdentifier=th;var ko=()=>"undefined"!=typeof window&&void 0!==window.document;no.isClient=ko;var io={};Object.defineProperty(io,"__esModule",{value:!0});const _u=(qe(),fc);function raa(e){return function(t,r,$){ko()&&e&&"function"==typeof e?Object.defineProperty(t,r,{get:()=>_u.Container.get(e)}):(e||(e=()=>Reflect.getMetadata("design:type",t,r)),_u.Container.registerHandler({object:t,propertyName:r,index:$,value:$=>$.get(th(e,t,r))}))}}var saa=raa;io.Inject=saa;var mh={};function uaa(r){for(var e in r)mh.hasOwnProperty(e)||(mh[e]=r[e])}var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const waa=(we(),dc);function xaa(r){return waa.ReflectDecorator(r,{type:"controller"})}var yaa=xaa;bo.Controller=yaa;Object.defineProperty(mh,"__esModule",{value:!0}),uaa(bo);var jh={};function Aaa(r){for(var e in r)jh.hasOwnProperty(e)||(jh[e]=r[e])}var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const Caa=(we(),dc);function Daa(e){return Caa.ReflectDecorator(e,{type:"effect"})}var Eaa=Daa;Rn.Effect=Eaa;Object.defineProperty(jh,"__esModule",{value:!0}),Aaa(Rn);var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});const Gaa=(we(),dc);function Haa(e){return Gaa.ReflectDecorator(e,{type:"plugin"})}var Iaa=Haa;Qn.Plugin=Iaa;var dh={};function Kaa(e){for(var r in e)dh.hasOwnProperty(r)||(dh[r]=e[r])}var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Maa=(we(),dc);function Naa(e){return Maa.ReflectDecorator(e,{type:"component"})}var Oaa=Naa;Nn.Component=Oaa;Object.defineProperty(dh,"__esModule",{value:!0}),Kaa(Nn);var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const iv=(qe(),fc),Raa=(pe(),Lb);function Saa(e){return function(r,n,t){ko()&&e instanceof Raa.Token?Object.defineProperty(r,n,{get:()=>iv.Container.getMany(th(e,r,n))}):(e||(e=()=>Reflect.getMetadata("design:type",r,n)),iv.Container.registerHandler({object:r,propertyName:n,index:t,value:t=>t.getMany(th(e,r,n))}))}}var Taa=Saa;xn.InjectMany=Taa;Object.defineProperty(Ye,"__esModule",{value:!0}),yb(Ag),yb(Eh),yb(xh),yb(io),yb(mh),yb(jh),yb(Qn),yb((M(),E)),yb(dh),yb(xn);var Uaa=(M(),E),Vaa=Uaa.Service;Ye.Injectable=Vaa;Object.defineProperty(Ca,"__esModule",{value:!0}),dw(),Yg((Ya(),pa)),Yg(Ye),Yg((ru(),ag)),Yg((Eu(),Vf));var zla;function Xaa(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Ng(e)}]}}function Yaa(e,t){return{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:t||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:Ng(e)}]}}function Ng(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return Ng(e[0]);var t=[];return Object.keys(e).forEach(function(r){var n={kind:"Field",name:{kind:"Name",value:r},selectionSet:Ng(e[r])||void 0};t.push(n)}),{kind:"SelectionSet",selections:t}}var $aa=(qa(),ta);function _aa(e){return"StringValue"===e.kind}function aba(e){return"BooleanValue"===e.kind}function bba(e){return"IntValue"===e.kind}function cba(e){return"FloatValue"===e.kind}function dba(e){return"Variable"===e.kind}function eba(e){return"ObjectValue"===e.kind}function fba(e){return"ListValue"===e.kind}function gba(e){return"EnumValue"===e.kind}function hba(e){return"NullValue"===e.kind}function ne(e,t,r,n){if(bba(r)||cba(r))e[t.value]=Number(r.value);else if(aba(r)||_aa(r))e[t.value]=r.value;else if(eba(r)){var i={};r.fields.map(function(e){return ne(i,e.name,e.value,n)}),e[t.value]=i}else if(dba(r)){var $=(n||{})[r.name.value];e[t.value]=$}else if(fba(r))e[t.value]=r.values.map(function(e){var r={};return ne(r,t,e,n),r[t.value]});else if(gba(r))e[t.value]=r.value;else{if(!hba(r))throw new ga(17);e[t.value]=null}}function jba(e,t){var r=null;e.directives&&(r={},e.directives.forEach(function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach(function(n){var i=n.name,$=n.value;return ne(r[e.name.value],i,$,t)})}));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach(function(e){var r=e.name,i=e.value;return ne(n,r,i,t)})),Kv(e.name.value,n,r)}var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});var mv=void 0;Ue.default=mv;var mba="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0,nba=mba;mv=nba,Ue.default=mv;var Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});var pba=vba;Fg.default=pba;var qba=rba(Ue);function rba(t){return t&&t.__esModule?t:{default:t}}function sba(t){return(sba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tba=10,ov=2;function vba(t){return Bg(t,[])}function Bg(t,r){switch(sba(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":xba(t,r);default:return String(t);}}function xba(t,r){if(-1!==r.indexOf(t))return"[Circular]";var e=[].concat(r,[t]),u=Aba(t);if(void 0!==u){var n=u.call(t);if(n!==t)return"string"==typeof n?n:Bg(n,e)}else if(Array.isArray(t))return zba(t,e);return yba(t,e)}function yba(t,r){var e=Object.keys(t);return 0===e.length?"{}":r.length>ov?"["+Bba(t)+"]":"{ "+e.map(function(e){return e+": "+Bg(t[e],r)}).join(", ")+" }"}function zba(t,r){if(0===t.length)return"[]";if(r.length>ov)return"[Array]";for(var e=Math.min(tba,t.length),u=t.length-e,n=[],$=0;$<e;++$)n.push(Bg(t[$],r));return 1===u?n.push("... 1 more item"):u>1&&n.push("... ".concat(u," more items")),"["+n.join(", ")+"]"}function Aba(t){var r=t[String(qba.default)];return"function"==typeof r?r:"function"==typeof t.inspect?t.inspect:void 0}function Bba(t){var r=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===r&&"function"==typeof t.constructor){var e=t.constructor.name;if("string"==typeof e&&""!==e)return e}return r}var Gb={};Object.defineProperty(Gb,"__esModule",{value:!0});var cb=Nba;Gb.visit=cb;var Eba=Pba;Gb.visitInParallel=Eba;var Fba=Qba;Gb.visitWithTypeInfo=Fba;var Gba=ee;Gb.getVisitFn=Gba;var Sm=(uv=void 0,Gb.QueryDocumentKeys=uv);Gb.BREAK=Sm;var Iba=Jba(Fg);function Jba(e){return e&&e.__esModule?e:{default:e}}var tv={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},uv=tv;Gb.QueryDocumentKeys=uv;var ie=Object.freeze({});function Nba(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tv,n=void 0,r=Array.isArray(e),a=[e],$=-1,o=[],s=void 0,d=void 0,v=void 0,y=[],l=[],p=e;do{var u=++$===a.length,c=u&&0!==o.length;if(u){if(d=0===l.length?void 0:y[y.length-1],s=v,v=l.pop(),c){if(r)s=s.slice();else{for(var f={},T=0,j=Object.keys(s);T<j.length;T++){var m=j[T];f[m]=s[m]}s=f}for(var x=0,g=0;g<o.length;g++){var D=o[g][0],h=o[g][1];r&&(D-=x),r&&null===h?(s.splice(D,1),x++):s[D]=h}}$=n.index,a=n.keys,o=n.edits,r=n.inArray,n=n.prev}else{if(d=v?r?$:a[$]:void 0,null==(s=v?v[d]:p))continue;v&&y.push(d)}var E=void 0;if(!Array.isArray(s)){if(!Km(s))throw new Error("Invalid AST Node: "+(0,Iba.default)(s));var A=ee(i,s.kind,u);if(A){if((E=A.call(i,s,d,v,y,l))===ie)break;if(!1===E){if(!u){y.pop();continue}}else if(void 0!==E&&(o.push([d,E]),!u)){if(!Km(E)){y.pop();continue}s=E}}}void 0===E&&c&&o.push([d,s]),u?y.pop():(n={inArray:r,index:$,keys:a,edits:o,prev:n},a=(r=Array.isArray(s))?s:t[s.kind]||[],$=-1,o=[],v&&l.push(v),v=s)}while(void 0!==n);return 0!==o.length&&(p=o[o.length-1][1]),p}function Km(e){return Boolean(e&&"string"==typeof e.kind)}function Pba(e){var i=new Array(e.length);return{enter:function(t){for(var n=0;n<e.length;n++)if(!i[n]){var r=ee(e[n],t.kind,!1);if(r){var a=r.apply(e[n],arguments);if(!1===a)i[n]=t;else if(a===ie)i[n]=ie;else if(void 0!==a)return a}}},leave:function(t){for(var n=0;n<e.length;n++)if(i[n])i[n]===t&&(i[n]=null);else{var r=ee(e[n],t.kind,!0);if(r){var a=r.apply(e[n],arguments);if(a===ie)i[n]=ie;else if(void 0!==a&&!1!==a)return a}}}}}function Qba(e,i){return{enter:function(t){e.enter(t);var n=ee(i,t.kind,!1);if(n){var r=n.apply(i,arguments);return void 0!==r&&(e.leave(t),Km(r)&&e.enter(r)),r}},leave:function(t){var n,r=ee(i,t.kind,!0);return r&&(n=r.apply(i,arguments)),e.leave(t),n}}}function ee(e,i,t){var n=e[i];if(n){if(!t&&"function"==typeof n)return n;var r=t?n.leave:n.enter;if("function"==typeof r)return r}else{var a=t?e.leave:e.enter;if(a){if("function"==typeof a)return a;var $=a[i];if("function"==typeof $)return $}}}Sm=ie,Gb.BREAK=Sm;var Sba,yv=(qa(),ta);b();var Im="Invariant Violation",Av=Object.setPrototypeOf,Wba=void 0===Av?function(r,$){return r.__proto__=$,r}:Av,ga=function(r){function $(e){void 0===e&&(e=Im);var t=r.call(this,"number"==typeof e?Im+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return t.framesToPop=1,t.name=Im,Wba(t,$.prototype),t}return a($,r),$}(Error);function x(r,$){if(!r)throw new ga($)}function Dv(r){return function(){return console[r].apply(console,arguments)}}!function(r){r.warn=Dv("warn"),r.error=Dv("error")}(x||(Sba=x={},Sba));var $ba={env:{}};if("object"==typeof yv)$ba=yv;else try{Function("stub","process = stub")($ba)}catch(atLeastWeTried){}var _ba={};_ba=function(r,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(e=t.cmp,function(r){return function(t,n){var i={key:t,value:r[t]},o={key:n,value:r[n]};return e(i,o)}}),o=[];return function r(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var e,u;if(Array.isArray(t)){for(u="[",e=0;e<t.length;e++)e&&(u+=","),u+=r(t[e])||"null";return u+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(u="",e=0;e<c.length;e++){var l=c[e],y=r(t[l]);y&&(u&&(u+=","),u+=JSON.stringify(l)+":"+y)}return o.splice(f,1),"{"+u+"}"}}(r)};var Ev=Object.prototype,Fv=Ev.toString,cca=Ev.hasOwnProperty,nm=new Map;function Pa(r,e){try{return Yl(r,e)}finally{nm.clear()}}function Yl(r,e){if(r===e)return!0;var t=Fv.call(r);if(t!==Fv.call(e))return!1;switch(t){case"[object Array]":if(r.length!==e.length)return!1;case"[object Object]":if(Jv(r,e))return!0;var a=Object.keys(r),$=Object.keys(e),o=a.length;if(o!==$.length)return!1;for(var n=0;n<o;++n)if(!cca.call(e,a[n]))return!1;for(n=0;n<o;++n){var s=a[n];if(!Yl(r[s],e[s]))return!1}return!0;case"[object Error]":return r.name===e.name&&r.message===e.message;case"[object Number]":if(r!=r)return e!=e;case"[object Boolean]":case"[object Date]":return+r==+e;case"[object RegExp]":case"[object String]":return r==""+e;case"[object Map]":case"[object Set]":if(r.size!==e.size)return!1;if(Jv(r,e))return!0;for(var c=r.entries(),i="[object Map]"===t;;){var u=c.next();if(u.done)break;var v=u.value,p=v[0],f=v[1];if(!e.has(p))return!1;if(i&&!Yl(f,e.get(p)))return!1}return!0;}return!1}function Jv(r,e){var t=nm.get(r);if(t){if(t.has(e))return!0}else nm.set(r,t=new Set);return t.add(e),!1}b();var hca=["connection","include","skip","client","rest","export"];function Kv(e,t,r){if(r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i=t,$={};return n.forEach(function(e){$[e]=i[e]}),r.connection.key+"("+JSON.stringify($)+")"}return r.connection.key}var o=e;if(t){var $Xb3N$$interop$default=yl(_ba);var a=$Xb3N$$interop$default.d(t);o+="("+a+")"}return r&&Object.keys(r).forEach(function(e){-1===hca.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?o+="@"+e+"("+JSON.stringify(r[e])+")":o+="@"+e)}),o}function Jl(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(e){var n=e.name,i=e.value;return ne(r,n,i,t)}),r}return null}function Yf(e){return e.alias?e.alias.value:e.name.value}function ac(e){return"Field"===e.kind}function fh(e){return"InlineFragment"===e.kind}function Qg(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function Xh(e,t){return void 0===t&&(t=!1),k({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function pca(e){return null!=e&&"object"==typeof e&&"json"===e.type}function qca(e){throw new ga(18)}function Rv(e,t){switch(void 0===t&&(t=qca),e.kind){case"Variable":return t(e);case"NullValue":return null;case"IntValue":return parseInt(e.value,10);case"FloatValue":return parseFloat(e.value);case"ListValue":return e.values.map(function(e){return Rv(e,t)});case"ObjectValue":for(var r={},n=0,i=e.fields;n<i.length;n++){var $=i[n];r[$.name.value]=Rv($.value,t)}return r;default:return e.value;}}function sca(e,t){if(e.directives&&e.directives.length){var r={};return e.directives.forEach(function(e){r[e.name.value]=Jl(e,t)}),r}return null}function Mk(e,t){return void 0===t&&(t={}),yca(e.directives).every(function(e){var r=e.directive,n=e.ifArgument,i=!1;return"Variable"===n.value.kind?(i=t[n.value.name.value],x(void 0!==i,1)):i=n.value.value,"skip"===r.name.value?!i:i})}function uca(e){var t=[];return cb(e,{Directive:function(e){t.push(e.name.value)}}),t}function Fh(e,t){return uca(t).some(function(t){return e.indexOf(t)>-1})}function wca(e){return e&&Fh(["client"],e)&&Fh(["export"],e)}function xca(e){var t=e.name.value;return"skip"===t||"include"===t}function yca(e){return e?e.filter(xca).map(function(e){var t=e.arguments;e.name.value;x(t&&1===t.length,2);var r=t[0];x(r.name&&"if"===r.name.value,3);var n=r.value;return x(n&&("Variable"===n.kind||"BooleanValue"===n.kind),4),{directive:e,ifArgument:r}}):[]}function Uv(e,t){var r=t,n=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new ga(5);"FragmentDefinition"===e.kind&&n.push(e)}),void 0===r&&(x(1===n.length,6),r=n[0].name.value),k(k({},e),{definitions:cj([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions)})}function Ck(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){null!=t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e}function pg(e){x(e&&"Document"===e.kind,8);var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new ga(9);return e});return x(t.length<=1,10),e}function lg(e){return pg(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function uk(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function Sg(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function Fca(e){var t=lg(e);return x(t&&"query"===t.operation,12),t}function Gca(e){x("Document"===e.kind,13),x(e.definitions.length<=1,14);var t=e.definitions[0];return x("FragmentDefinition"===t.kind,15),t}function Og(e){var t;pg(e);for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var $=i.operation;if("query"===$||"mutation"===$||"subscription"===$)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new ga(16)}function Gg(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function gk(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,r=e.defaultValue,n={};return ne(n,t.name,r),n});return Ck.apply(void 0,cj([{}],t))}return{}}function bw(e,t,r){var n=0;return e.forEach(function(r,i){t.call(this,r,i,e)&&(e[n++]=r)},r),e.length=n,e}var Lca={kind:"Field",name:{kind:"Name",value:"__typename"}};function cw(e,t){return e.selectionSet.selections.every(function(e){return"FragmentSpread"===e.kind&&cw(t[e.name.value],t)})}function dk(e){return cw(lg(e)||Gca(e),Gg(Sg(e)))?null:e}function ck(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function fw(e,t){var r=Object.create(null),n=[],i=Object.create(null),$=[],o=dk(cb(t,{Variable:{enter:function(e,t,n){"VariableDefinition"!==n.kind&&(r[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some(function(e){return e.remove})&&t.directives&&t.directives.some(ck(e)))return t.arguments&&t.arguments.forEach(function(e){"Variable"===e.value.kind&&n.push({name:e.value.name.value})}),t.selectionSet&&gw(t.selectionSet).forEach(function(e){$.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(ck(e)(t))return null}}}));return o&&bw(n,function(e){return!r[e.name]}).length&&(o=Wca(n,o)),o&&bw($,function(e){return!i[e.name]}).length&&(o=Xca($,o)),o}function Qca(e){return cb(pg(e),{SelectionSet:{enter:function(e,t,r){if(!r||"OperationDefinition"!==r.kind){var n=e.selections;if(n)if(!n.some(function(e){return ac(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))})){var i=r;if(!(ac(i)&&i.directives&&i.directives.some(function(e){return"export"===e.name.value})))return k(k({},e),{selections:cj(n,[Lca])})}}}}})}var Rca={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some(function(e){return"key"===e.name.value})),t}};function Sca(e){return fw([Rca],pg(e))}function Tca(e,t,r){return void 0===r&&(r=!0),t&&t.selections&&t.selections.some(function(t){return Uca(e,t,r)})}function Uca(e,t,r){return void 0===r&&(r=!0),!ac(t)||!!t.directives&&(t.directives.some(ck(e))||r&&Tca(e,t.selectionSet,r))}function Vca(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}function Wca(e,t){var r=Vca(e);return dk(cb(t,{OperationDefinition:{enter:function(t){return k(k({},t),{variableDefinitions:t.variableDefinitions.filter(function(t){return!e.some(function(e){return e.name===t.variable.name.value})})})}},Field:{enter:function(t){if(e.some(function(e){return e.remove})){var n=0;if(t.arguments.forEach(function(e){r(e)&&(n+=1)}),1===n)return null}}},Argument:{enter:function(e){if(r(e))return null}}}))}function Xca(e,t){function r(t){if(e.some(function(e){return e.name===t.name.value}))return null}return dk(cb(t,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function gw(e){var t=[];return e.selections.forEach(function(e){(ac(e)||fh(e))&&e.selectionSet?gw(e.selectionSet).forEach(function(e){return t.push(e)}):"FragmentSpread"===e.kind&&t.push(e)}),t}function Zca(e){return"query"===Og(e).operation?e:cb(e,{OperationDefinition:{enter:function(e){return k(k({},e),{operation:"query"})}}})}function $ca(e){pg(e);var t=fw([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=cb(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return ac(e)&&"__typename"===e.name.value}))return null}}})),t}var Zj="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),ada=Object.prototype.toString;function bda(e){return Yj(e,new Map)}function Yj(e,t){switch(ada.call(e)){case"[object Array]":if(t.has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach(function(e,n){r[n]=Yj(e,t)}),r;case"[object Object]":if(t.has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach(function(r){n[r]=Yj(e[r],t)}),n;default:return e;}}function dda(){return void 0!==$aa?"production":"development"}function jw(e){return dda()===e}function fda(){return!0===jw("production")}function gda(){return!0===jw("test")}function Xj(e){try{return e()}catch(t){console.error&&console.error(t)}}function Qc(e){return e.errors&&e.errors.length}function jda(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||Object.isFrozen(e[t])||jda(e[t])}),e}var kda=Object.prototype.hasOwnProperty;function mw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hj(e)}function Hj(e){var t=e[0]||{},r=e.length;if(r>1){var n=[];t=Gj(t,n);for(var i=1;i<r;++i)t=pw(t,e[i],n)}return t}function ow(e){return null!==e&&"object"==typeof e}function pw(e,t,r){return ow(t)&&ow(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=Gj(e,r)),Object.keys(t).forEach(function(n){var i=t[n];if(kda.call(e,n)){var $=e[n];i!==$&&(e[n]=pw(Gj($,r),i,r))}else e[n]=i}),e):t}function Gj(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):k({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}var yla=Object.create({});var rda,sda={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},tda=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Uv(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Uv(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t=e.id,r=e.data;if(void 0!==t){var n=null;try{n=this.read({rootId:t,optimistic:!1,query:sda})}catch(o){}var i=n&&n.__typename||"__ClientData",a=Object.assign({__typename:i},r);this.writeFragment({id:t,fragment:Yaa(a,i),data:a})}else this.writeQuery({query:Xaa(r),data:r})},e}();rda||(zla=rda={});function uda(){}var Qa=null,sw={},xda=1,yda=function(){return function(){function t(){this.id=["slot",xda++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var t=Qa;t;t=t.parent)if(this.id in t.slots){var r=t.slots[this.id];if(r===sw)break;return t!==Qa&&(Qa.slots[this.id]=r),!0}return Qa&&(Qa.slots[this.id]=sw),!1},t.prototype.getValue=function(){if(this.hasValue())return Qa.slots[this.id]},t.prototype.withValue=function(t,r,$,e){var n,u=((n={__proto__:null})[this.id]=t,n),o=Qa;Qa={parent:o,slots:u};try{return r.apply(e,$)}finally{Qa=o}},t.bind=function(t){var r=Qa;return function(){var $=Qa;try{return Qa=r,t.apply(this,arguments)}finally{Qa=$}}},t.noContext=function(t,r,$){if(!Qa)return t.apply($,r);var e=Qa;try{return Qa=null,t.apply($,r)}finally{Qa=e}},t}()},Bj="@wry/context:Slot",yj=Array,vj=yj[Bj]||function(){var t=yda();try{Object.defineProperty(yj,Bj,{value:yj[Bj]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),xla=vj.bind,wla=vj.noContext;var Eda=function(){function e(e,r){void 0===e&&(e=1/0),void 0===r&&(r=uda),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var r=this.getEntry(e);return r&&r.value},e.prototype.getEntry=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var t=r.older,$=r.newer;$&&($.older=t),t&&(t.newer=$),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=$)}return r},e.prototype.set=function(e,r){var t=this.getEntry(e);return t?t.value=r:(t={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=t),this.newest=t,this.oldest=this.oldest||t,this.map.set(e,t),t.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var r=this.map.get(e);return!!r&&(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0)},e}(),Ei=new vj,Gda=[],pj=[],Ida=100;function de(e,r){if(!e)throw new Error(r||"assertion failure")}function Kda(e,r){var t=e.length;return t>0&&t===r.length&&e[t-1]===r[t-1]}function zw(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1];}}function Mda(e){return e.slice(0)}var Nda=function(){function e(r,t){this.fn=r,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(de(!this.recomputing,"already recomputing"),Oda(this)||!Io(this))return Ud(this)?Pda(this):zw(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Bw(this),yo(this))},e.prototype.dispose=function(){var e=this;Hw(this).forEach(Io),yo(this),this.parents.forEach(function(r){r.setDirty(),Iw(r,e)})},e.count=0,e}();function Oda(e){var r=Ei.getValue();if(r)return e.parents.add(r),r.childValues.has(e)||r.childValues.set(e,[]),Ud(e)?Dw(r,e):Ew(r,e),r}function Pda(e){var r=Hw(e);return Ei.withValue(e,Qda,[e]),_da(e)&&Sda(e),r.forEach(Io),zw(e.value)}function Qda(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(r){e.value[1]=r}e.recomputing=!1}function Ud(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Sda(e){e.dirty=!1,Ud(e)||Cw(e)}function Bw(e){e.parents.forEach(function(r){return Dw(r,e)})}function Cw(e){e.parents.forEach(function(r){return Ew(r,e)})}function Dw(e,r){if(de(e.childValues.has(r)),de(Ud(r)),e.dirtyChildren){if(e.dirtyChildren.has(r))return}else e.dirtyChildren=pj.pop()||new Set;e.dirtyChildren.add(r),Bw(e)}function Ew(e,r){de(e.childValues.has(r)),de(!Ud(r));var t=e.childValues.get(r);0===t.length?e.childValues.set(r,Mda(r.value)):Kda(t,r.value)||e.setDirty(),Fw(e,r),Ud(e)||Cw(e)}function Fw(e,r){var t=e.dirtyChildren;t&&(t.delete(r),0===t.size&&(pj.length<Ida&&pj.push(t),e.dirtyChildren=null))}function Io(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function Hw(e){var r=Gda;return e.childValues.size>0&&(r=[],e.childValues.forEach(function(t,$){Iw(e,$),r.push($)})),de(null===e.dirtyChildren),r}function Iw(e,r){r.parents.delete(e),e.childValues.delete(r),Fw(e,r)}function _da(e){if("function"==typeof e.subscribe)try{yo(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(r){return e.setDirty(),!1}return!0}function yo(e){var r=e.unsubscribe;"function"==typeof r&&(e.unsubscribe=void 0,r())}var xo=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var r=this;return e.forEach(function(e){return r=r.getChildTrie(e)}),r.data||(r.data=Object.create(null))},e.prototype.getChildTrie=function(r){var t=this.weakness&&cea(r)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),$=t.get(r);return $||t.set(r,$=new e(this.weakness)),$},e}();function cea(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0;}return!1}var dea=new xo("function"==typeof WeakMap);function eea(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return dea.lookupArray(e)}var wo=new Set;function ff(e,r){void 0===r&&(r=Object.create(null));var t=new Eda(r.max||Math.pow(2,16),function(e){return e.dispose()}),$=!!r.disposable,a=r.makeCacheKey||eea;function n(){if(!$||Ei.hasValue()){var n=a.apply(null,arguments);if(void 0===n)return e.apply(null,arguments);var i=Array.prototype.slice.call(arguments),o=t.get(n);o?o.args=i:(o=new Nda(e,i),t.set(n,o),o.subscribe=r.subscribe,$&&(o.reportOrphan=function(){return t.delete(n)}));var s=o.recompute();return t.set(n,o),wo.add(t),Ei.hasValue()||(wo.forEach(function(e){return e.clean()}),wo.clear()),$?void 0:s}}return n.dirty=function(){var e=a.apply(null,arguments),r=void 0!==e&&t.get(e);r&&r.setDirty()},n}b();var hea=!1;function iea(){var e=!hea;return gda()||(hea=!0),e}var jea=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,r){var a=r.store.get(e.id),i="ROOT_QUERY"===e.id;if(!a)return i;var o=a.__typename,n=void 0===o?i&&"Query":o;return n&&n===t||(iea(),"heuristic")},e}(),vla=function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return e.prototype.match=function(e,t,r){x(this.isReady,2);var a=r.store.get(e.id),i="ROOT_QUERY"===e.id;if(!a)return i;var o=a.__typename,n=void 0===o?i&&"Query":o;if(x(n,3),n===t)return!0;var c=this.possibleTypesMap[t];return!!(n&&c&&c.indexOf(n)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map(function(e){return e.name}))}),t},e}(),Nw=Object.prototype.hasOwnProperty,oe=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=ff(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){Nw.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(r){t.set(r,e[r])}),Object.keys(this.data).forEach(function(r){Nw.call(e,r)||t.delete(r)})):Object.keys(this.data).forEach(function(e){t.delete(e)})},e}();function Pw(e){return new oe(e)}var oea=function(){function e(e){var t=this,r=void 0===e?{}:e,a=r.cacheKeyRoot,i=void 0===a?new xo(Zj):a,o=r.freezeResults,n=void 0!==o&&o,c=this.executeStoreQuery,s=this.executeSelectionSet,$=this.executeSubSelectedArray;this.freezeResults=n,this.executeStoreQuery=ff(function(e){return c.call(t,e)},{makeCacheKey:function(e){var t=e.query,r=e.rootValue,a=e.contextValue,o=e.variableValues,n=e.fragmentMatcher;if(a.store instanceof oe)return i.lookup(a.store,t,n,JSON.stringify(o),r.id)}}),this.executeSelectionSet=ff(function(e){return s.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,r=e.rootValue,a=e.execContext;if(a.contextValue.store instanceof oe)return i.lookup(a.contextValue.store,t,a.fragmentMatcher,JSON.stringify(a.variableValues),r.id)}}),this.executeSubSelectedArray=ff(function(e){return $.call(t,e)},{makeCacheKey:function(e){var t=e.field,r=e.array,a=e.execContext;if(a.contextValue.store instanceof oe)return i.lookup(a.contextValue.store,t,r,JSON.stringify(a.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(k(k({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,a=e.variables,i=e.previousResult,o=e.returnPartialData,n=void 0===o||o,c=e.rootId,s=void 0===c?"ROOT_QUERY":c,$=e.fragmentMatcherFunction,u=e.config,p=Fca(r);a=Ck({},gk(p),a);var l={store:t,dataIdFromObject:u&&u.dataIdFromObject,cacheRedirects:u&&u.cacheRedirects||{}},d=this.executeStoreQuery({query:r,rootValue:{type:"id",id:s,generated:!0,typename:"Query"},contextValue:l,variableValues:a,fragmentMatcher:$}),m=d.missing&&d.missing.length>0;return m&&!n&&d.missing.forEach(function(e){if(!e.tolerable)throw new ga(8)}),i&&Pa(i,d.result)&&(d.result=i),{result:d.result,complete:!m}},e.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,a=e.contextValue,i=e.variableValues,o=e.fragmentMatcher,n=void 0===o?qea:o,c=Og(t),s=Sg(t),$={query:t,fragmentMap:Gg(s),contextValue:a,variableValues:i,fragmentMatcher:n};return this.executeSelectionSet({selectionSet:c.selectionSet,rootValue:r,execContext:$})},e.prototype.executeSelectionSet=function(e){var t=this,r=e.selectionSet,a=e.rootValue,i=e.execContext,o=i.fragmentMap,n=i.contextValue,c=i.variableValues,s={result:null},$=[],u=n.store.get(a.id),p=u&&u.__typename||"ROOT_QUERY"===a.id&&"Query"||void 0;function l(e){var t;return e.missing&&(s.missing=s.missing||[],(t=s.missing).push.apply(t,e.missing)),e.result}return r.selections.forEach(function(e){var r;if(Mk(e,c))if(ac(e)){var s=l(t.executeField(u,p,e,i));void 0!==s&&$.push(((r={})[Yf(e)]=s,r))}else{var d=void 0;if(fh(e))d=e;else if(!(d=o[e.name.value]))throw new ga(9);var m=d.typeCondition&&d.typeCondition.name.value,h=!m||i.fragmentMatcher(a,m,n);if(h){var f=t.executeSelectionSet({selectionSet:d.selectionSet,rootValue:a,execContext:i});"heuristic"===h&&f.missing&&(f=k(k({},f),{missing:f.missing.map(function(e){return k(k({},e),{tolerable:!0})})})),$.push(l(f))}}}),s.result=Hj($),this.freezeResults,s},e.prototype.executeField=function(e,t,r,a){var i=a.variableValues,o=a.contextValue,n=rea(e,t,r.name.value,Jl(r,i),o,{resultKey:Yf(r),directives:sca(r,i)});return Array.isArray(n.result)?this.combineExecResults(n,this.executeSubSelectedArray({field:r,array:n.result,execContext:a})):r.selectionSet?null==n.result?n:this.combineExecResults(n,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:n.result,execContext:a})):(Qw(r,n.result),this.freezeResults,n)},e.prototype.combineExecResults=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)}),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,r=this,a=e.field,i=e.array,o=e.execContext;function n(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return i=i.map(function(e){return null===e?null:Array.isArray(e)?n(r.executeSubSelectedArray({field:a,array:e,execContext:o})):a.selectionSet?n(r.executeSelectionSet({selectionSet:a.selectionSet,rootValue:e,execContext:o})):(Qw(a,e),e)}),this.freezeResults,{result:i,missing:t}},e}();function Qw(e,t){if(!e.selectionSet&&Qg(t))throw new ga(10)}function qea(){return!0}function rea(e,t,r,a,i,o){o.resultKey;var n=o.directives,c=r;(a||n)&&(c=Kv(c,a,n));var s=void 0;if(e&&void 0===(s=e[c])&&i.cacheRedirects&&"string"==typeof t){var $=i.cacheRedirects[t];if($){var u=$[r];u&&(s=u(e,a,{getCacheKey:function(e){var t=i.dataIdFromObject(e);return t&&Xh({id:t,typename:e.__typename})}}))}}return void 0===s?{result:s,missing:[{object:e,fieldName:c,tolerable:!1}]}:(pca(s)&&(s=s.json),{result:s})}var Tn=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}();var tea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return a(t,e),t}(Error);function uea(e,t){var r=new tea("Error writing result to store for query:\n "+JSON.stringify(t));return r.message+="\n"+e.message,r.stack=e.stack,r}var vea=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,a=e.store,i=void 0===a?Pw():a,o=e.variables,n=e.dataIdFromObject,c=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:t,store:i,variables:o,dataIdFromObject:n,fragmentMatcherFunction:c})},e.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,a=e.document,i=e.store,o=void 0===i?Pw():i,n=e.variables,c=e.dataIdFromObject,s=e.fragmentMatcherFunction,$=lg(a);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:$.selectionSet,context:{store:o,processedData:{},variables:Ck({},gk($),n),dataIdFromObject:c,fragmentMap:Gg(Sg(a)),fragmentMatcherFunction:s}})}catch(u){throw uea(u,a)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,r=e.result,a=e.dataId,i=e.selectionSet,o=e.context,n=o.variables,c=o.store,s=o.fragmentMap;return i.selections.forEach(function(e){var i;if(Mk(e,n))if(ac(e)){var c=Yf(e),$=r[c];if(void 0!==$)t.writeFieldToStore({dataId:a,value:$,field:e,context:o});else{var u=!1,p=!1;e.directives&&e.directives.length&&(u=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),p=e.directives.some(function(e){return e.name&&"client"===e.name.value})),!u&&!p&&o.fragmentMatcherFunction}}else{var l=void 0;fh(e)?l=e:(l=(s||{})[e.name.value],x(l,4));var d=!0;if(o.fragmentMatcherFunction&&l.typeCondition){var m=a||"self",h=Xh({id:m,typename:void 0}),f={store:new Tn((i={},i[m]=r,i)),cacheRedirects:{}},S=o.fragmentMatcherFunction(h,l.typeCondition.name.value,f);fda(),d=!!S}d&&t.writeSelectionSetToStore({result:r,selectionSet:l.selectionSet,dataId:a,context:o})}}),c},e.prototype.writeFieldToStore=function(e){var t,r,a,i=e.field,o=e.value,n=e.dataId,c=e.context,s=c.variables,$=c.dataIdFromObject,u=c.store,p=jba(i,s);if(i.selectionSet&&null!==o){if(Array.isArray(o)){var l=n+"."+p;r=this.processArrayValue(o,l,i.selectionSet,c)}else{var d=n+"."+p,m=!0;if(Pn(d)||(d="$"+d),$){var h=$(o);x(!h||!Pn(h),5),(h||"number"==typeof h&&0===h)&&(d=h,m=!1)}Uw(d,i,c.processedData)||this.writeSelectionSetToStore({dataId:d,result:o,selectionSet:i.selectionSet,context:c});var f=o.__typename;r=Xh({id:d,typename:f},m);var S=(a=u.get(n))&&a[p];if(S!==r&&Qg(S)){var v=void 0!==S.typename,M=void 0!==f,y=v&&M&&S.typename!==f;x(!m||S.generated||y,6),x(!v||M,7),S.generated&&(y?m||u.delete(S.id):Tw(S.id,r.id,u))}}}else r=null!=o&&"object"==typeof o?{type:"json",json:o}:o;(a=u.get(n))&&Pa(r,a[p])||u.set(n,k(k({},a),((t={})[p]=r,t)))},e.prototype.processArrayValue=function(e,t,r,a){var i=this;return e.map(function(e,o){if(null===e)return null;var n=t+"."+o;if(Array.isArray(e))return i.processArrayValue(e,n,r,a);var c=!0;if(a.dataIdFromObject){var s=a.dataIdFromObject(e);s&&(n=s,c=!1)}return Uw(n,r,a.processedData)||i.writeSelectionSetToStore({dataId:n,result:e,selectionSet:r,context:a}),Xh({id:n,typename:e.__typename},c)})},e}();function Pn(e){return"$"===e[0]}function Tw(e,t,r){if(e===t)return!1;var a=r.get(e),i=r.get(t),o=!1;Object.keys(a).forEach(function(e){var t=a[e],n=i[e];Qg(t)&&Pn(t.id)&&Qg(n)&&!Pa(t,n)&&Tw(t.id,n.id,r)&&(o=!0)}),r.delete(e);var n=k(k({},a),i);return Pa(n,i)?o:(r.set(t,n),!0)}function Uw(e,t,r){if(!r)return!1;if(r[e]){if(r[e].indexOf(t)>=0)return!0;r[e].push(t)}else r[e]=[t];return!1}var zea={fragmentMatcher:new jea,dataIdFromObject:Aea,addTypename:!0,resultCaching:!0,freezeResults:!1};function Aea(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null}var Bea=Object.prototype.hasOwnProperty,Vw=function(e){function t(t,r,a){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=r,i.transaction=a,i}return a(t,e),t.prototype.toObject=function(){return k(k({},this.parent.toObject()),this.data)},t.prototype.get=function(e){return Bea.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(Tn),Dea=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;r.watches=new Set,r.typenameDocumentCache=new Map,r.cacheKeyRoot=new xo(Zj),r.silenceBroadcast=!1,r.config=k(k({},zea),t),r.config.customResolvers&&(r.config.cacheRedirects=r.config.customResolvers),r.config.cacheResolvers&&(r.config.cacheRedirects=r.config.cacheResolvers),r.addTypename=!!r.config.addTypename,r.data=r.config.resultCaching?new oe:new Tn,r.optimisticData=r.data,r.storeWriter=new vea,r.storeReader=new oea({cacheKeyRoot:r.cacheKeyRoot,freezeResults:t.freezeResults});var a=r,i=a.maybeBroadcastWatch;return r.maybeBroadcastWatch=ff(function(e){return i.call(r,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return a.data instanceof oe?a.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),r}return a(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,r=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:r,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,r=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,r=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:r,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new ga(1)},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],r=0,a=this.optimisticData;a instanceof Vw;)a.optimisticId===e?++r:t.push(a),a=a.parent;if(r>0){for(this.optimisticData=a;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var r=this.data,a=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new Vw(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=a,this.data=r}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Qca(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){return e.maybeBroadcastWatch(t)})},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(tda);function Eea(r){for(var e=["query","operationName","variables","extensions","context"],t=0,$=Object.keys(r);t<$.length;t++){var o=$[t];if(e.indexOf(o)<0)throw new ga(2)}return r}var Fea={};var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});var Dn=void 0;function Cn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zw(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mo(e,r,t){return r&&Zw(e.prototype,r),t&&Zw(e,t),e}Jn.Observable=Dn;var kn=function(){return"function"==typeof Symbol},gn=function(e){return kn()&&Boolean(Symbol[e])},dn=function(e){return gn(e)?Symbol[e]:"@@"+e};kn()&&!gn("observable")&&(Symbol.observable=Symbol("observable"));var Oea=dn("iterator"),_m=dn("observable"),dx=dn("species");function wi(e,r){var t=e[r];if(null!=t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}}function Ze(e){var r=e.constructor;return void 0!==r&&null===(r=r[dx])&&(r=void 0),void 0!==r?r:Oh}function Tea(e){return e instanceof Oh}function Jd(e){Jd.log?Jd.log(e):setTimeout(function(){throw e})}function ji(e){Promise.resolve().then(function(){try{e()}catch(r){Jd(r)}})}function ix(e){var r=e._cleanup;if(void 0!==r&&(e._cleanup=void 0,r))try{if("function"==typeof r)r();else{var t=wi(r,"unsubscribe");t&&t.call(r)}}catch(n){Jd(n)}}function Om(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Yea(e){var r=e._queue;if(r){e._queue=void 0,e._state="ready";for(var t=0;t<r.length&&(kx(e,r[t].type,r[t].value),"closed"!==e._state);++t);}}function kx(e,r,t){e._state="running";var n=e._observer;try{var o=wi(n,r);switch(r){case"next":o&&o.call(n,t);break;case"error":if(Om(e),!o)throw t;o.call(n,t);break;case"complete":Om(e),o&&o.call(n);}}catch(i){Jd(i)}"closed"===e._state?ix(e):"running"===e._state&&(e._state="ready")}function Gm(e,r,t){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:r,value:t}],void ji(function(){return Yea(e)})):void kx(e,r,t);e._queue.push({type:r,value:t})}}var _ea=function(){function e(r,t){Cn(this,e),this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var n=new afa(this);try{this._cleanup=t.call(void 0,n)}catch(o){n.error(o)}"initializing"===this._state&&(this._state="ready")}return Mo(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(Om(this),ix(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),afa=function(){function e(r){Cn(this,e),this._subscription=r}return Mo(e,[{key:"next",value:function(e){Gm(this._subscription,"next",e)}},{key:"error",value:function(e){Gm(this._subscription,"error",e)}},{key:"complete",value:function(){Gm(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),Oh=function(){function e(r){if(Cn(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof r)throw new TypeError("Observable initializer must be a function");this._subscriber=r}return Mo(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new _ea(e,this._subscriber)}},{key:"forEach",value:function(e){var r=this;return new Promise(function(t,n){if("function"==typeof e)var o=r.subscribe({next:function(r){try{e(r,i)}catch(t){n(t),o.unsubscribe()}},error:n,complete:t});else n(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),t()}})}},{key:"map",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Ze(this))(function(t){return r.subscribe({next:function(r){try{r=e(r)}catch(n){return t.error(n)}t.next(r)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"filter",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Ze(this))(function(t){return r.subscribe({next:function(r){try{if(!e(r))return}catch(n){return t.error(n)}t.next(r)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"reduce",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=Ze(this),n=arguments.length>1,o=!1,i=arguments[1];return new t(function(t){return r.subscribe({next:function(r){var a=!o;if(o=!0,!a||n)try{i=e(i,r)}catch(c){return t.error(c)}else i=r},error:function(e){t.error(e)},complete:function(){if(!o&&!n)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}})})}},{key:"concat",value:function(){for(var e=this,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var o=Ze(this);return new o(function(r){var n,i=0;return function e(a){n=a.subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){i===t.length?(n=void 0,r.complete()):e(o.from(t[i++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}})}},{key:"flatMap",value:function(e){var r=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=Ze(this);return new t(function(n){var o=[],i=r.subscribe({next:function(r){if(e)try{r=e(r)}catch(c){return n.error(c)}var i=t.from(r).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){n.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&n.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),i.unsubscribe()}})}},{key:_m,value:function(){return this}}],[{key:"from",value:function(r){var t="function"==typeof this?this:e;if(null==r)throw new TypeError(r+" is not an object");var n=wi(r,_m);if(n){var o=n.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return Tea(o)&&o.constructor===t?o:new t(function(e){return o.subscribe(e)})}if(gn("iterator")&&(n=wi(r,Oea)))return new t(function(e){ji(function(){if(!e.closed){var t=!0,o=!1,i=void 0;try{for(var a,c=n.call(r)[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var u=a.value;if(e.next(u),e.closed)return}}catch($){o=!0,i=$}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}e.complete()}})});if(Array.isArray(r))return new t(function(e){ji(function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return new("function"==typeof this?this:e)(function(e){ji(function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}})})}},{key:dx,get:function(){return this}}]),e}();Dn=Oh,Jn.Observable=Dn,kn()&&Object.defineProperty(Oh,Symbol("extensions"),{value:{symbol:_m,hostReportError:Jd},configurable:!0});Fea=Dn;var cfa=yl(Fea);var ra=cfa.d;b();var ula=function(r){function e(e,t){var $=r.call(this,e)||this;return $.link=t,$}return a(e,r),e}(Error);function Ti(r){return r.request.length<=1}function qx(r){return new ra(function(e){e.error(r)})}function hfa(r){var e={variables:r.variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query};return e.operationName||(e.operationName="string"!=typeof e.query?uk(e.query):""),e}function ifa(r,e){var t=k({},r);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(r){t="function"==typeof r?k({},t,r(t)):k({},t,r)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return k({},t)}}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return jfa(e)}}),e}function jfa(r){var e=r.query,t=r.variables,$=r.operationName;return JSON.stringify([$,e,t])}function rx(r,e){return e?e(r):ra.of()}function We(r){return"function"==typeof r?new Ha(r):r}function tx(){return new Ha(function(){return ra.of()})}function ux(r){return 0===r.length?tx():r.map(We).reduce(function(r,e){return r.concat(e)})}function Ul(r,e,t){var $=We(e),o=We(t||new Ha(rx));return Ti($)&&Ti(o)?new Ha(function(e){return r(e)?$.request(e)||ra.of():o.request(e)||ra.of()}):new Ha(function(e,t){return r(e)?$.request(e,t)||ra.of():o.request(e,t)||ra.of()})}var wx=function(r,e){var t=We(r);if(Ti(t))return t;var $=We(e);return Ti($)?new Ha(function(r){return t.request(r,function(r){return $.request(r)||ra.of()})||ra.of()}):new Ha(function(r,e){return t.request(r,function(r){return $.request(r,e)||ra.of()})||ra.of()})},Ha=function(){function r(r){r&&(this.request=r)}return r.prototype.split=function(e,t,$){return this.concat(Ul(e,t,$||new r(rx)))},r.prototype.concat=function(r){return wx(this,r)},r.prototype.request=function(r,e){throw new ga(1)},r.empty=tx,r.from=ux,r.split=Ul,r.execute=zh,r}();function zh(r,e){return r.request(ifa(e.context,hfa(Eea(e))))||ra.of()}var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});var Ax=wfa;Vi.dedentBlockStringValue=Ax;var ufa=Cx;Vi.getBlockStringIndentation=ufa;var Bx=Afa;function wfa(t){var n=t.split(/\r\n|[\n\r]/g),e=Cx(n);if(0!==e)for(var r=1;r<n.length;r++)n[r]=n[r].slice(e);for(;n.length>0&&Ex(n[0]);)n.shift();for(;n.length>0&&Ex(n[n.length-1]);)n.pop();return n.join("\n")}function Cx(t){for(var n=null,e=1;e<t.length;e++){var r=t[e],$=Dx(r);if($!==r.length&&(null===n||$<n)&&0===(n=$))break}return null===n?0:n}function Dx(t){for(var n=0;n<t.length&&(" "===t[n]||"\t"===t[n]);)n++;return n}function Ex(t){return Dx(t)===t.length}function Afa(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===t.indexOf("\n"),$=" "===t[0]||"\t"===t[0],i="\""===t[t.length-1],l=!r||i||e,o="";return!l||r&&$||(o+="\n"+n),o+=n?t.replace(/\n/g,"\n"+n):t,l&&(o+="\n"),"\"\"\""+o.replace(/"""/g,"\\\"\"\"")+"\"\"\""}Vi.printBlockString=Bx;var Fx={};Object.defineProperty(Fx,"__esModule",{value:!0});var xl=Dfa;Fx.print=xl;function Dfa(n){return(0,cb)(n,{leave:Efa})}var Efa={Name:function(n){return n.value},Variable:function(n){return"$"+n.name},Document:function(n){return j(n.definitions,"\n\n")+"\n"},OperationDefinition:function(n){var a=n.operation,$=n.name,r=ea("(",j(n.variableDefinitions,", "),")"),e=j(n.directives," "),i=n.selectionSet;return $||e||r||"query"!==a?j([a,j([$,r]),e,i]," "):i},VariableDefinition:function(n){var a=n.variable,$=n.type,r=n.defaultValue,e=n.directives;return a+": "+$+ea(" = ",r)+ea(" ",j(e," "))},SelectionSet:function(n){return Ta(n.selections)},Field:function(n){var a=n.alias,$=n.name,r=n.arguments,e=n.directives,i=n.selectionSet;return j([ea("",a,": ")+$+ea("(",j(r,", "),")"),j(e," "),i]," ")},Argument:function(n){return n.name+": "+n.value},FragmentSpread:function(n){return"..."+n.name+ea(" ",j(n.directives," "))},InlineFragment:function(n){var a=n.typeCondition,$=n.directives,r=n.selectionSet;return j(["...",ea("on ",a),j($," "),r]," ")},FragmentDefinition:function(n){var a=n.name,$=n.typeCondition,r=n.variableDefinitions,e=n.directives,i=n.selectionSet;return"fragment ".concat(a).concat(ea("(",j(r,", "),")")," ")+"on ".concat($," ").concat(ea("",j(e," ")," "))+i},IntValue:function(n){return n.value},FloatValue:function(n){return n.value},StringValue:function(n,a){var $=n.value;return n.block?(0,Bx)($,"description"===a?"":"  "):JSON.stringify($)},BooleanValue:function(n){return n.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(n){return n.value},ListValue:function(n){return"["+j(n.values,", ")+"]"},ObjectValue:function(n){return"{"+j(n.fields,", ")+"}"},ObjectField:function(n){return n.name+": "+n.value},Directive:function(n){return"@"+n.name+ea("(",j(n.arguments,", "),")")},NamedType:function(n){return n.name},ListType:function(n){return"["+n.type+"]"},NonNullType:function(n){return n.type+"!"},SchemaDefinition:function(n){var a=n.directives,$=n.operationTypes;return j(["schema",j(a," "),Ta($)]," ")},OperationTypeDefinition:function(n){return n.operation+": "+n.type},ScalarTypeDefinition:eb(function(n){return j(["scalar",n.name,j(n.directives," ")]," ")}),ObjectTypeDefinition:eb(function(n){var a=n.name,$=n.interfaces,r=n.directives,e=n.fields;return j(["type",a,ea("implements ",j($," & ")),j(r," "),Ta(e)]," ")}),FieldDefinition:eb(function(n){var a=n.name,$=n.arguments,r=n.type,e=n.directives;return a+(Mx($)?ea("(\n",kl(j($,"\n")),"\n)"):ea("(",j($,", "),")"))+": "+r+ea(" ",j(e," "))}),InputValueDefinition:eb(function(n){var a=n.name,$=n.type,r=n.defaultValue,e=n.directives;return j([a+": "+$,ea("= ",r),j(e," ")]," ")}),InterfaceTypeDefinition:eb(function(n){var a=n.name,$=n.directives,r=n.fields;return j(["interface",a,j($," "),Ta(r)]," ")}),UnionTypeDefinition:eb(function(n){var a=n.name,$=n.directives,r=n.types;return j(["union",a,j($," "),r&&0!==r.length?"= "+j(r," | "):""]," ")}),EnumTypeDefinition:eb(function(n){var a=n.name,$=n.directives,r=n.values;return j(["enum",a,j($," "),Ta(r)]," ")}),EnumValueDefinition:eb(function(n){return j([n.name,j(n.directives," ")]," ")}),InputObjectTypeDefinition:eb(function(n){var a=n.name,$=n.directives,r=n.fields;return j(["input",a,j($," "),Ta(r)]," ")}),DirectiveDefinition:eb(function(n){var a=n.name,$=n.arguments,r=n.repeatable,e=n.locations;return"directive @"+a+(Mx($)?ea("(\n",kl(j($,"\n")),"\n)"):ea("(",j($,", "),")"))+(r?" repeatable":"")+" on "+j(e," | ")}),SchemaExtension:function(n){var a=n.directives,$=n.operationTypes;return j(["extend schema",j(a," "),Ta($)]," ")},ScalarTypeExtension:function(n){return j(["extend scalar",n.name,j(n.directives," ")]," ")},ObjectTypeExtension:function(n){var a=n.name,$=n.interfaces,r=n.directives,e=n.fields;return j(["extend type",a,ea("implements ",j($," & ")),j(r," "),Ta(e)]," ")},InterfaceTypeExtension:function(n){var a=n.name,$=n.directives,r=n.fields;return j(["extend interface",a,j($," "),Ta(r)]," ")},UnionTypeExtension:function(n){var a=n.name,$=n.directives,r=n.types;return j(["extend union",a,j($," "),r&&0!==r.length?"= "+j(r," | "):""]," ")},EnumTypeExtension:function(n){var a=n.name,$=n.directives,r=n.values;return j(["extend enum",a,j($," "),Ta(r)]," ")},InputObjectTypeExtension:function(n){var a=n.name,$=n.directives,r=n.fields;return j(["extend input",a,j($," "),Ta(r)]," ")}};function eb(n){return function(a){return j([a.description,n(a)],"\n")}}function j(n,a){return n?n.filter(function(n){return n}).join(a||""):""}function Ta(n){return n&&0!==n.length?"{\n"+kl(j(n,"\n"))+"\n}":""}function ea(n,a,$){return a?n+a+($||""):""}function kl(n){return n&&"  "+n.replace(/\n/g,"\n  ")}function Kfa(n){return-1!==n.indexOf("\n")}function Mx(n){return n&&n.some(Kfa)}b();var Mfa={includeQuery:!0,includeExtensions:!1},Nfa={accept:"*/*","content-type":"application/json"},Ofa={method:"POST"},Pfa={http:Mfa,headers:Nfa,options:Ofa},Nx=function(e,r,t){var n=new Error(t);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=r,n},Rfa=function(e){return function(r){return r.text().then(function(e){try{return JSON.parse(e)}catch(n){var t=n;return t.name="ServerParseError",t.response=r,t.statusCode=r.status,t.bodyText=e,Promise.reject(t)}}).then(function(t){return r.status>=300&&Nx(r,t,"Response not successful: Received status code "+r.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||Nx(r,t,"Server response was missing for query '"+(Array.isArray(e)?e.map(function(e){return e.operationName}):e.operationName)+"'."),t})}},Sfa=function(e){if(!e&&"undefined"==typeof fetch){throw"undefined"==typeof window&&"node-fetch",new ga(1)}},Tfa=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}},Ufa=function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=k({},r.options,{headers:r.headers,credentials:r.credentials}),a=r.http;t.forEach(function(e){o=k({},o,e.options,{headers:k({},o.headers,e.headers)}),e.credentials&&(o.credentials=e.credentials),a=k({},a,e.http)});var $=e.operationName,s=e.extensions,p=e.variables,i=e.query,c={operationName:$,variables:p};return a.includeExtensions&&(c.extensions=s),a.includeQuery&&(c.query=xl(i)),{options:o,body:c}},fl=function(e,r){var t;try{t=JSON.stringify(e)}catch(o){var n=new ga(2);throw n.parseError=o,n}return t},Wfa=function(e,r){var t=e.getContext().uri;return t||("function"==typeof r?r(e):r||"/graphql")};b();var Px=function(t){void 0===t&&(t={});var e=t.uri,r=void 0===e?"/graphql":e,n=t.fetch,i=t.includeExtensions,o=t.useGETForQueries,a=bk(t,["uri","fetch","includeExtensions","useGETForQueries"]);Sfa(n),n||(n=fetch);var s={http:{includeExtensions:i},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new Ha(function(t){var e=Wfa(t,r),i=t.getContext(),a={};if(i.clientAwareness){var $=i.clientAwareness,p=$.name,c=$.version;p&&(a["apollographql-client-name"]=p),c&&(a["apollographql-client-version"]=c)}var l,u=k({},a,i.headers),m={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:u},A=Ufa(t,Pfa,s,m),h=A.options,f=A.body;if(!h.signal){var d=Tfa(),j=d.controller,M=d.signal;(l=j)&&(h.signal=M)}if(o&&!t.query.definitions.some(function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation})&&(h.method="GET"),"GET"===h.method){var v=Yfa(e,f),x=v.newURI,E=v.parseError;if(E)return qx(E);e=x}else try{h.body=fl(f,"Payload")}catch(E){return qx(E)}return new ra(function(r){return n(e,h).then(function(e){return t.setContext({response:e}),e}).then(Rfa(t)).then(function(t){return r.next(t),r.complete(),t}).catch(function(t){"AbortError"!==t.name&&(t.result&&t.result.errors&&t.result.data&&r.next(t.result),r.error(t))}),function(){l&&l.abort()}})})};function Yfa(t,e){var r=[],n=function(t,e){r.push(t+"="+encodeURIComponent(e))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=fl(e.variables,"Variables map")}catch(c){return{parseError:c}}n("variables",i)}if(e.extensions){var o=void 0;try{o=fl(e.extensions,"Extensions map")}catch(c){return{parseError:c}}n("extensions",o)}var a="",s=t,$=t.indexOf("#");-1!==$&&(a=t.substr($),s=t.substr(0,$));var p=-1===s.indexOf("?")?"?":"&";return{newURI:s+p+r.join("&")+a}}var tla=function(t){function e(e){return t.call(this,Px(e).request)||this}return a(e,t),e}(Ha);var $fa,_fa,Y,zb={};CS(zb);function Sx(t){return t<7}function dga(e){var o,r=e.Symbol;return"function"==typeof r?r.observable?o=r.observable:(o=r("observable"),r.observable=o):o="@@observable",o}var Tx=function(){var e,l={exports:this};this.__esModule=!0,e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof aa?aa:void 0!==l?l:Function("return this")();var o=dga(e);return this.default=o,l.exports}.call({});var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Vx=new Ca.InjectionToken("apollo-link");Oe.ApolloClient=Vx;var Wx="graphql-documents";Oe.GraphqlDocuments=Wx;var Xx=()=>new Headers;Oe.noopHeaders=Xx;var jga=()=>null;Oe.noop=jga;b(),function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(Y||(_fa=Y={},zb.NetworkStatus=Y,_fa));var Df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var $LkZ7$$interop$default=yl(Tx);return a(e,t),e.prototype[$LkZ7$$interop$default.d]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(ra);function Nd(t){return Array.isArray(t)&&t.length>0}function $x(t){return t.hasOwnProperty("graphQLErrors")}var nc,oga=function(t){var e="";return Nd(t.graphQLErrors)&&t.graphQLErrors.forEach(function(t){var r=t?t.message:"Error message not found.";e+="GraphQL error: "+r+"\n"}),t.networkError&&(e+="Network error: "+t.networkError.message+"\n"),e=e.replace(/\n$/,"")},Bb=function(t){function e(r){var o=r.graphQLErrors,s=r.networkError,i=r.errorMessage,a=r.extraInfo,n=t.call(this,i)||this;return n.graphQLErrors=o||[],n.networkError=s||null,n.message=i||oga(n),n.extraInfo=a,n.__proto__=e.prototype,n}return a(e,t),e}(Error);!function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"}(nc||($fa=nc={},zb.FetchType=nc,$fa));var qga=function(t,e){return void 0===e&&(e="none"),t&&(t.networkError||"none"===e&&Nd(t.graphQLErrors))},by=function(t){function e(e){var r=e.queryManager,o=e.options,s=e.shouldSubscribe,i=void 0===s||s,a=t.call(this,function(t){return a.onSubscribe(t)})||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=o,a.variables=o.variables||{},a.queryId=r.generateQueryId(),a.shouldSubscribe=i;var n=lg(o.query);return a.queryName=n&&n.name&&n.name.value,a.queryManager=r,a}return a(e,t),e.prototype.result=function(){var t=this;return new Promise(function(e,r){var o={next:function(r){e(r),t.observers.delete(o),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){s.unsubscribe()},0)},error:r},s=t.subscribe(o)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return void 0===t.data&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:Y.error}}var e,r=this.queryManager.getCurrentQueryResult(this),o=r.data,s=r.partial,i=this.queryManager.queryStore.get(this.queryId),a=this.options.fetchPolicy,n="network-only"===a||"no-cache"===a;if(i){var u=i.networkStatus;if(qga(i,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:u,error:new Bb({graphQLErrors:i.graphQLErrors,networkError:i.networkError})};i.variables&&(this.options.variables=k(k({},this.options.variables),i.variables),this.variables=this.options.variables),e={data:o,loading:Sx(u),networkStatus:u},i.graphQLErrors&&"all"===this.options.errorPolicy&&(e.errors=i.graphQLErrors)}else{var l=n||s&&"cache-only"!==a;e={data:o,loading:l,networkStatus:l?Y.loading:Y.ready}}return s||this.updateLastResult(k(k({},e),{stale:!1})),k(k({},e),{partial:s})},e.prototype.isDifferentFromLastResult=function(t){var e=this.lastResultSnapshot;return!(e&&t&&e.networkStatus===t.networkStatus&&e.stale===t.stale&&Pa(e.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var e=this.options.fetchPolicy;return"cache-only"===e?Promise.reject(new ga(3)):("no-cache"!==e&&"cache-and-network"!==e&&(e="network-only"),Pa(this.variables,t)||(this.variables=k(k({},this.variables),t)),Pa(this.options.variables,this.variables)||(this.options.variables=k(k({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,k(k({},this.options),{fetchPolicy:e}),nc.refetch))},e.prototype.fetchMore=function(t){var e=this;x(t.updateQuery,4);var r=k(k({},t.query?t:k(k(k({},this.options),t),{variables:k(k({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),o=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(o,r,nc.normal,this.queryId).then(function(s){return e.updateQuery(function(e){return t.updateQuery(e,{fetchMoreResult:s.data,variables:r.variables})}),e.queryManager.stopQuery(o),s},function(t){throw e.queryManager.stopQuery(o),t})},e.prototype.subscribeToMore=function(t){var e=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(r){var o=t.updateQuery;o&&e.updateQuery(function(t,e){var s=e.variables;return o(t,{subscriptionData:r,variables:s})})},error:function(e){t.onError&&t.onError(e)}});return this.subscriptions.add(r),function(){e.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var e=this.options.fetchPolicy;this.options=k(k({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):0===t.pollInterval&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,e!==r&&("cache-only"===e||"standby"===e||"network-only"===r),t.fetchResults)},e.prototype.setVariables=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!0),this.isTornDown=!1,t=t||this.variables,!e&&Pa(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var e=this.queryManager,r=e.getQueryWithPreviousResult(this.queryId),o=r.previousResult,s=r.variables,i=r.document,a=Xj(function(){return t(o,{variables:s})});a&&(e.dataStore.markUpdateQueryResult(i,s,a),e.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){dy(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var e=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:bda(t),e},e.prototype.onSubscribe=function(t){var e=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=sga)}catch(s){}var o=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),o&&this.setUpQuery(),function(){e.observers.delete(t)&&!e.observers.size&&e.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,e=this.queryManager,r=this.queryId;this.shouldSubscribe&&e.addObservableQuery(r,this),this.options.pollInterval&&(dy(this),e.startPollingQuery(this.options,r));var o=function(e){t.updateLastResult(k(k({},t.lastResult),{errors:e.graphQLErrors,networkStatus:Y.error,loading:!1})),Rj(t.observers,"error",t.lastError=e)};e.observeQuery(r,this.options,{next:function(r){if(t.lastError||t.isDifferentFromLastResult(r)){var o=t.updateLastResult(r),s=t.options,i=s.query,a=s.variables,n=s.fetchPolicy;e.transform(i).hasClientExports?e.getLocalState().addExportedVariables(i,a).then(function(s){var a=t.variables;t.variables=t.options.variables=s,!r.loading&&o&&"cache-only"!==n&&e.transform(i).serverQuery&&!Pa(a,s)?t.refetch():Rj(t.observers,"next",r)}):Rj(t.observers,"next",r)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(Df);function sga(t){}function Rj(t,e,r){var o=[];t.forEach(function(t){return t[e]&&o.push(t)}),o.forEach(function(t){return t[e](r)})}function dy(t){var e=t.options.fetchPolicy;x("cache-first"!==e&&"cache-only"!==e,5)}var vga=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initMutation=function(t,e,r){this.store[t]={mutation:e,variables:r||{},loading:!0,error:null}},t.prototype.markMutationError=function(t,e){var r=this.store[t];r&&(r.loading=!1,r.error=e)},t.prototype.markMutationResult=function(t){var e=this.store[t];e&&(e.loading=!1,e.error=null)},t.prototype.reset=function(){this.store={}},t}(),wga=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initQuery=function(t){var e=this.store[t.queryId];x(!e||e.document===t.document||Pa(e.document,t.document),19);var r,o=!1,s=null;t.storePreviousVariables&&e&&e.networkStatus!==Y.loading&&(Pa(e.variables,t.variables)||(o=!0,s=e.variables)),r=o?Y.setVariables:t.isPoll?Y.poll:t.isRefetch?Y.refetch:Y.loading;var i=[];e&&e.graphQLErrors&&(i=e.graphQLErrors),this.store[t.queryId]={document:t.document,variables:t.variables,previousVariables:s,networkError:null,graphQLErrors:i,networkStatus:r,metadata:t.metadata},"string"==typeof t.fetchMoreForQueryId&&this.store[t.fetchMoreForQueryId]&&(this.store[t.fetchMoreForQueryId].networkStatus=Y.fetchMore)},t.prototype.markQueryResult=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=Nd(e.errors)?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=Y.ready,"string"==typeof r&&this.store[r]&&(this.store[r].networkStatus=Y.ready))},t.prototype.markQueryError=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=Y.error,"string"==typeof r&&this.markQueryResultClient(r,!0))},t.prototype.markQueryResultClient=function(t,e){var r=this.store&&this.store[t];r&&(r.networkError=null,r.previousVariables=null,e&&(r.networkStatus=Y.ready))},t.prototype.stopQuery=function(t){delete this.store[t]},t.prototype.reset=function(t){var e=this;Object.keys(this.store).forEach(function(r){t.indexOf(r)<0?e.stopQuery(r):e.store[r].networkStatus=Y.loading})},t}();function xga(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ey=function(){function t(t){var e=t.cache,r=t.client,o=t.resolvers,s=t.fragmentMatcher;this.cache=e,r&&(this.client=r),o&&this.addResolvers(o),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(t){e.resolvers=mw(e.resolvers,t)}):this.resolvers=mw(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,r=t.remoteResult,o=t.context,s=t.variables,i=t.onlyRunForcedResolvers,a=void 0!==i&&i;return Tb(this,void 0,void 0,function(){return Sb(this,function(t){return e?[2,this.resolveDocument(e,r.data,o,s,this.fragmentMatcher,a).then(function(t){return k(k({},r),{data:t.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return Fh(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return this.resolvers?$ca(t):t},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.cache;return k(k({},t),{cache:e,getCacheKey:function(t){if(e.config)return e.config.dataIdFromObject(t);x(!1,6)}})},t.prototype.addExportedVariables=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),Tb(this,void 0,void 0,function(){return Sb(this,function(o){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(r),e).then(function(t){return k(k({},e),t.exportedVariables)})]:[2,k({},e)]})})},t.prototype.shouldForceResolvers=function(t){var e=!1;return cb(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some(function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value})))return Sm}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:Zca(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,r,o,s,i){return void 0===r&&(r={}),void 0===o&&(o={}),void 0===s&&(s=function(){return!0}),void 0===i&&(i=!1),Tb(this,void 0,void 0,function(){var a,n,u,l,c,p,$,h,v;return Sb(this,function(y){return a=Og(t),n=Sg(t),u=Gg(n),l=a.operation,c=l?xga(l):"Query",$=(p=this).cache,h=p.client,v={fragmentMap:u,context:k(k({},r),{cache:$,client:h}),variables:o,fragmentMatcher:s,defaultOperationType:c,exportedVariables:{},onlyRunForcedResolvers:i},[2,this.resolveSelectionSet(a.selectionSet,e,v).then(function(t){return{result:t,exportedVariables:v.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(t,e,r){return Tb(this,void 0,void 0,function(){var o,s,i,a,n,u=this;return Sb(this,function(l){return o=r.fragmentMap,s=r.context,i=r.variables,a=[e],n=function(t){return Tb(u,void 0,void 0,function(){var n,u;return Sb(this,function(l){return Mk(t,i)?ac(t)?[2,this.resolveField(t,e,r).then(function(e){var r;void 0!==e&&a.push(((r={})[Yf(t)]=e,r))})]:(fh(t)?n=t:(n=o[t.name.value],x(n,7)),n&&n.typeCondition&&(u=n.typeCondition.name.value,r.fragmentMatcher(e,u,s))?[2,this.resolveSelectionSet(n.selectionSet,e,r).then(function(t){a.push(t)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(n)).then(function(){return Hj(a)})]})})},t.prototype.resolveField=function(t,e,r){return Tb(this,void 0,void 0,function(){var o,s,i,a,n,u,l,c,p,$=this;return Sb(this,function(h){return o=r.variables,s=t.name.value,i=Yf(t),a=s!==i,n=e[i]||e[s],u=Promise.resolve(n),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(l=e.__typename||r.defaultOperationType,(c=this.resolvers&&this.resolvers[l])&&(p=c[a?s:i])&&(u=Promise.resolve(p(e,Jl(t,o),r.context,{field:t,fragmentMap:r.fragmentMap})))),[2,u.then(function(e){return void 0===e&&(e=n),t.directives&&t.directives.forEach(function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach(function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(r.exportedVariables[t.value.value]=e)})}),t.selectionSet?null==e?e:Array.isArray(e)?$.resolveSubSelectedArray(t,e,r):t.selectionSet?$.resolveSelectionSet(t.selectionSet,e,r):void 0:e})]})})},t.prototype.resolveSubSelectedArray=function(t,e,r){var o=this;return Promise.all(e.map(function(e){return null===e?null:Array.isArray(e)?o.resolveSubSelectedArray(t,e,r):t.selectionSet?o.resolveSelectionSet(t.selectionSet,e,r):void 0}))},t}();function fy(t){var e=new Set,r=null;return new Df(function(o){return e.add(o),r=r||t.subscribe({next:function(t){e.forEach(function(e){return e.next&&e.next(t)})},error:function(t){e.forEach(function(e){return e.error&&e.error(t)})},complete:function(){e.forEach(function(t){return t.complete&&t.complete()})}}),function(){e.delete(o)&&!e.size&&r&&(r.unsubscribe(),r=null)}})}function Aga(t,e){return new Df(function(r){var o=r.next,s=r.error,i=r.complete,a=0,n=!1,u={next:function(t){++a,new Promise(function(r){r(e(t))}).then(function(t){--a,o&&o.call(r,t),n&&u.complete()},function(t){--a,s&&s.call(r,t)})},error:function(t){s&&s.call(r,t)},complete:function(){n=!0,a||i&&i.call(r)}},l=t.subscribe(u);return function(){return l.unsubscribe()}})}var Bga=Object.prototype.hasOwnProperty,Cga=function(){function t(t){var e=t.link,r=t.queryDeduplication,o=void 0!==r&&r,s=t.store,i=t.onBroadcast,a=void 0===i?function(){}:i,n=t.ssrMode,u=void 0!==n&&n,l=t.clientAwareness,c=void 0===l?{}:l,p=t.localState,$=t.assumeImmutableResults;this.mutationStore=new vga,this.queryStore=new wga,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Zj?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=e,this.queryDeduplication=o,this.dataStore=s,this.onBroadcast=a,this.clientAwareness=c,this.localState=p||new ey({cache:s.getCache()}),this.ssrMode=u,this.assumeImmutableResults=!!$}return t.prototype.stop=function(){var t=this;this.queries.forEach(function(e,r){t.stopQueryNoBroadcast(r)}),this.fetchQueryRejectFns.forEach(function(t){t(new ga(8))})},t.prototype.mutate=function(t){var e=t.mutation,r=t.variables,o=t.optimisticResponse,s=t.updateQueries,i=t.refetchQueries,a=void 0===i?[]:i,n=t.awaitRefetchQueries,u=void 0!==n&&n,l=t.update,c=t.errorPolicy,p=void 0===c?"none":c,$=t.fetchPolicy,h=t.context,v=void 0===h?{}:h;return Tb(this,void 0,void 0,function(){var t,i,n,c=this;return Sb(this,function(h){switch(h.label){case 0:return x(e,9),x(!$||"no-cache"===$,10),t=this.generateQueryId(),e=this.transform(e).document,this.setQuery(t,function(){return{document:e}}),r=this.getVariables(e,r),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,r,v)]:[3,2];case 1:r=h.sent(),h.label=2;case 2:return i=function(){var t={};return s&&c.queries.forEach(function(e,r){var o=e.observableQuery;if(o){var i=o.queryName;i&&Bga.call(s,i)&&(t[r]={updater:s[i],query:c.queryStore.get(r)})}}),t},this.mutationStore.initMutation(t,e,r),this.dataStore.markMutationInit({mutationId:t,document:e,variables:r,updateQueries:i(),update:l,optimisticResponse:o}),this.broadcastQueries(),n=this,[2,new Promise(function(s,c){var h,y;n.getObservableFromLink(e,k(k({},v),{optimisticResponse:o}),r,!1).subscribe({next:function(o){Qc(o)&&"none"===p?y=new Bb({graphQLErrors:o.errors}):(n.mutationStore.markMutationResult(t),"no-cache"!==$&&n.dataStore.markMutationResult({mutationId:t,result:o,document:e,variables:r,updateQueries:i(),update:l}),h=o)},error:function(e){n.mutationStore.markMutationError(t,e),n.dataStore.markMutationComplete({mutationId:t,optimisticResponse:o}),n.broadcastQueries(),n.setQuery(t,function(){return{document:null}}),c(new Bb({networkError:e}))},complete:function(){if(y&&n.mutationStore.markMutationError(t,y),n.dataStore.markMutationComplete({mutationId:t,optimisticResponse:o}),n.broadcastQueries(),y)c(y);else{"function"==typeof a&&(a=a(h));var e=[];Nd(a)&&a.forEach(function(t){if("string"==typeof t)n.queries.forEach(function(r){var o=r.observableQuery;o&&o.queryName===t&&e.push(o.refetch())});else{var r={query:t.query,variables:t.variables,fetchPolicy:"network-only"};t.context&&(r.context=t.context),e.push(n.query(r))}}),Promise.all(u?e:[]).then(function(){n.setQuery(t,function(){return{document:null}}),"ignore"===p&&h&&Qc(h)&&delete h.errors,s(h)})}}})})];}})})},t.prototype.fetchQuery=function(t,e,r,o){return Tb(this,void 0,void 0,function(){var s,i,a,n,u,l,c,p,$,h,v,y,f,d,m,P,b,L,g=this;return Sb(this,function(Q){switch(Q.label){case 0:return s=e.metadata,i=void 0===s?null:s,a=e.fetchPolicy,n=void 0===a?"cache-first":a,u=e.context,l=void 0===u?{}:u,c=this.transform(e.query).document,p=this.getVariables(c,e.variables),this.transform(c).hasClientExports?[4,this.localState.addExportedVariables(c,p,l)]:[3,2];case 1:p=Q.sent(),Q.label=2;case 2:if(e=k(k({},e),{variables:p}),v=h="network-only"===n||"no-cache"===n,h||(y=this.dataStore.getCache().diff({query:c,variables:p,returnPartialData:!0,optimistic:!1}),f=y.complete,d=y.result,v=!f||"cache-and-network"===n,$=d),m=v&&"cache-only"!==n&&"standby"!==n,Fh(["live"],c)&&(m=!0),P=this.idCounter++,b="no-cache"!==n?this.updateQueryWatch(t,c,e):void 0,this.setQuery(t,function(){return{document:c,lastRequestId:P,invalidated:!0,cancel:b}}),this.invalidate(o),this.queryStore.initQuery({queryId:t,document:c,storePreviousVariables:m,variables:p,isPoll:r===nc.poll,isRefetch:r===nc.refetch,metadata:i,fetchMoreForQueryId:o}),this.broadcastQueries(),m){if(L=this.fetchRequest({requestId:P,queryId:t,document:c,options:e,fetchMoreForQueryId:o}).catch(function(e){throw $x(e)?e:(P>=g.getQuery(t).lastRequestId&&(g.queryStore.markQueryError(t,e,o),g.invalidate(t),g.invalidate(o),g.broadcastQueries()),new Bb({networkError:e}))}),"cache-and-network"!==n)return[2,L];L.catch(function(){})}return this.queryStore.markQueryResultClient(t,!m),this.invalidate(t),this.invalidate(o),this.transform(c).hasForcedResolvers?[2,this.localState.runResolvers({document:c,remoteResult:{data:$},context:l,variables:p,onlyRunForcedResolvers:!0}).then(function(r){return g.markQueryResult(t,r,e,o),g.broadcastQueries(),r})]:(this.broadcastQueries(),[2,{data:$}]);}})})},t.prototype.markQueryResult=function(t,e,r,o){var s=r.fetchPolicy,i=r.variables,a=r.errorPolicy;"no-cache"===s?this.setQuery(t,function(){return{newData:{result:e.data,complete:!0}}}):this.dataStore.markQueryResult(e,this.getQuery(t).document,i,o,"ignore"===a||"all"===a)},t.prototype.queryListenerForObserver=function(t,e,r){var o=this;function s(t,e){if(r[t])try{r[t](e)}catch(o){}}return function(r,i){if(o.invalidate(t,!1),r){var a=o.getQuery(t),n=a.observableQuery,u=a.document,l=n?n.options.fetchPolicy:e.fetchPolicy;if("standby"!==l){var c=Sx(r.networkStatus),p=n&&n.getLastResult(),$=!(!p||p.networkStatus===r.networkStatus),h=e.returnPartialData||!i&&r.previousVariables||$&&e.notifyOnNetworkStatusChange||"cache-only"===l||"cache-and-network"===l;if(!c||h){var v=Nd(r.graphQLErrors),y=n&&n.options.errorPolicy||e.errorPolicy||"none";if("none"===y&&v||r.networkError)return s("error",new Bb({graphQLErrors:r.graphQLErrors,networkError:r.networkError}));try{var f=void 0,d=void 0;if(i)"no-cache"!==l&&"network-only"!==l&&o.setQuery(t,function(){return{newData:null}}),f=i.result,d=!i.complete;else{var m=n&&n.getLastError(),P="none"!==y&&(m&&m.graphQLErrors)!==r.graphQLErrors;if(p&&p.data&&!P)f=p.data,d=!1;else{var b=o.dataStore.getCache().diff({query:u,variables:r.previousVariables||r.variables,returnPartialData:!0,optimistic:!0});f=b.result,d=!b.complete}}var L=d&&!(e.returnPartialData||"cache-only"===l),g={data:L?p&&p.data:f,loading:c,networkStatus:r.networkStatus,stale:L};"all"===y&&v&&(g.errors=r.graphQLErrors),s("next",g)}catch(Q){s("error",new Bb({networkError:Q}))}}}}}},t.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var r=this.dataStore.getCache(),o=r.transformDocument(t),s=Sca(r.transformForLink(o)),i=this.localState.clientQuery(o),a=this.localState.serverQuery(s),n={document:o,hasClientExports:wca(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:i,serverQuery:a,defaultVars:gk(lg(o))},u=function(t){t&&!e.has(t)&&e.set(t,n)};u(t),u(o),u(i),u(a)}return e.get(t)},t.prototype.getVariables=function(t,e){return k(k({},this.transform(t).defaultVars),e)},t.prototype.watchQuery=function(t,e){void 0===e&&(e=!0),x("standby"!==t.fetchPolicy,11),t.variables=this.getVariables(t.query,t.variables),void 0===t.notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var r=k({},t);return new by({queryManager:this,options:r,shouldSubscribe:e})},t.prototype.query=function(t){var e=this;return x(t.query,12),x("Document"===t.query.kind,13),x(!t.returnPartialData,14),x(!t.pollInterval,15),new Promise(function(r,o){var s=e.watchQuery(t,!1);e.fetchQueryRejectFns.set("query:"+s.queryId,o),s.result().then(r,o).then(function(){return e.fetchQueryRejectFns.delete("query:"+s.queryId)})})},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){this.stopPollingQuery(t),this.queryStore.stopQuery(t),this.invalidate(t)},t.prototype.addQueryListener=function(t,e){this.setQuery(t,function(t){return t.listeners.add(e),{invalidated:!1}})},t.prototype.updateQueryWatch=function(t,e,r){var o=this,s=this.getQuery(t).cancel;s&&s();return this.dataStore.getCache().watch({query:e,variables:r.variables,optimistic:!0,previousResult:function(){var e=null,r=o.getQuery(t).observableQuery;if(r){var s=r.getLastResult();s&&(e=s.data)}return e},callback:function(e){o.setQuery(t,function(){return{invalidated:!0,newData:e}})}})},t.prototype.addObservableQuery=function(t,e){this.setQuery(t,function(){return{observableQuery:e}})},t.prototype.removeObservableQuery=function(t){var e=this.getQuery(t).cancel;this.setQuery(t,function(){return{observableQuery:null}}),e&&e()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new ga(16))});var t=[];return this.queries.forEach(function(e,r){e.observableQuery&&t.push(r)}),this.queryStore.reset(t),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then(function(){return t.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var r=[];return this.queries.forEach(function(o,s){var i=o.observableQuery;if(i){var a=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===a||!t&&"standby"===a||r.push(i.refetch()),e.setQuery(s,function(){return{newData:null}}),e.invalidate(s)}}),this.broadcastQueries(),Promise.all(r)},t.prototype.observeQuery=function(t,e,r){return this.addQueryListener(t,this.queryListenerForObserver(t,e,r)),this.fetchQuery(t,e)},t.prototype.startQuery=function(t,e,r){return this.addQueryListener(t,r),this.fetchQuery(t,e).catch(function(){}),t},t.prototype.startGraphQLSubscription=function(t){var e=this,r=t.query,o=t.fetchPolicy,s=t.variables;r=this.transform(r).document,s=this.getVariables(r,s);var i=function(t){return e.getObservableFromLink(r,{},t,!1).map(function(s){if(o&&"no-cache"===o||(e.dataStore.markSubscriptionResult(s,r,t),e.broadcastQueries()),Qc(s))throw new Bb({graphQLErrors:s.errors});return s})};if(this.transform(r).hasClientExports){var a=this.localState.addExportedVariables(r,s).then(i);return new Df(function(t){var e=null;return a.then(function(r){return e=r.subscribe(t)},t.error),function(){return e&&e.unsubscribe()}})}return i(s)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchQueryRejectFns.delete("query:"+t),this.fetchQueryRejectFns.delete("fetchRequest:"+t),this.getQuery(t).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(t)},t.prototype.getCurrentQueryResult=function(t,e){void 0===e&&(e=!0);var r=t.options,o=r.variables,s=r.query,i=r.fetchPolicy,a=r.returnPartialData,n=t.getLastResult(),u=this.getQuery(t.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};var l=this.dataStore.getCache().diff({query:s,variables:o,previousResult:n?n.data:void 0,returnPartialData:!0,optimistic:e}),c=l.result,p=l.complete;return{data:p||a?c:void 0,partial:!p}},t.prototype.getQueryWithPreviousResult=function(t){var e;if("string"==typeof t){var r=this.getQuery(t).observableQuery;x(r,17),e=r}else e=t;var o=e.options,s=o.variables,i=o.query;return{previousResult:this.getCurrentQueryResult(e,!1).data,variables:s,document:i}},t.prototype.broadcastQueries=function(){var t=this;this.onBroadcast(),this.queries.forEach(function(e,r){e.invalidated&&e.listeners.forEach(function(o){o&&o(t.queryStore.get(r),e.newData)})})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,r,o){var s,i=this;void 0===o&&(o=this.queryDeduplication);var a=this.transform(t).serverQuery;if(a){var n=this.inFlightLinkObservables,u=this.link,l={query:a,variables:r,operationName:uk(a)||void 0,context:this.prepareContext(k(k({},e),{forceFetch:!o}))};if(e=l.context,o){var c=n.get(a)||new Map;n.set(a,c);var p=JSON.stringify(r);if(!(s=c.get(p))){c.set(p,s=fy(zh(u,l)));var $=function(){c.delete(p),c.size||n.delete(a),h.unsubscribe()},h=s.subscribe({next:$,error:$,complete:$})}}else s=fy(zh(u,l))}else s=Df.of({data:{}}),e=this.prepareContext(e);var v=this.transform(t).clientQuery;return v&&(s=Aga(s,function(t){return i.localState.runResolvers({document:v,remoteResult:t,context:e,variables:r})})),s},t.prototype.fetchRequest=function(t){var e,r,o=this,s=t.requestId,i=t.queryId,a=t.document,n=t.options,u=t.fetchMoreForQueryId,l=n.variables,c=n.errorPolicy,p=void 0===c?"none":c,$=n.fetchPolicy;return new Promise(function(t,c){var h=o.getObservableFromLink(a,n.context,l),v="fetchRequest:"+i;o.fetchQueryRejectFns.set(v,c);var y=function(){o.fetchQueryRejectFns.delete(v),o.setQuery(i,function(t){t.subscriptions.delete(f)})},f=h.map(function(t){if(s>=o.getQuery(i).lastRequestId&&(o.markQueryResult(i,t,n,u),o.queryStore.markQueryResult(i,t,u),o.invalidate(i),o.invalidate(u),o.broadcastQueries()),"none"===p&&Nd(t.errors))return c(new Bb({graphQLErrors:t.errors}));if("all"===p&&(r=t.errors),u||"no-cache"===$)e=t.data;else{var h=o.dataStore.getCache().diff({variables:l,query:a,optimistic:!1,returnPartialData:!0}),v=h.result;(h.complete||n.returnPartialData)&&(e=v)}}).subscribe({error:function(t){y(),c(t)},complete:function(){y(),t({data:e,errors:r,loading:!1,networkStatus:Y.ready,stale:!1})}});o.setQuery(i,function(t){t.subscriptions.add(f)})})},t.prototype.getQuery=function(t){return this.queries.get(t)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(t,e){var r=this.getQuery(t),o=k(k({},r),e(r));this.queries.set(t,o)},t.prototype.invalidate=function(t,e){void 0===e&&(e=!0),t&&this.setQuery(t,function(){return{invalidated:e}})},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return k(k({},e),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(t){var e=this.queryStore.get(t);return e&&e.networkStatus!==Y.ready&&e.networkStatus!==Y.error},t.prototype.startPollingQuery=function(t,e,r){var o=this,s=t.pollInterval;if(x(s,18),!this.ssrMode){var i=this.pollingInfoByQueryId.get(e);i||this.pollingInfoByQueryId.set(e,i={}),i.interval=s,i.options=k(k({},t),{fetchPolicy:"network-only"});var a=function(){var t=o.pollingInfoByQueryId.get(e);t&&(o.checkInFlight(e)?n():o.fetchQuery(e,t.options,nc.poll).then(n,n))},n=function(){var t=o.pollingInfoByQueryId.get(e);t&&(clearTimeout(t.timeout),t.timeout=setTimeout(a,t.interval))};r&&this.addQueryListener(e,r),n()}return e},t.prototype.stopPollingQuery=function(t){this.pollingInfoByQueryId.delete(t)},t}(),Dga=function(){function t(t){this.cache=t}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(t,e,r,o,s){void 0===s&&(s=!1);var i=!Qc(t);s&&Qc(t)&&t.data&&(i=!0),!o&&i&&this.cache.write({result:t.data,dataId:"ROOT_QUERY",query:e,variables:r})},t.prototype.markSubscriptionResult=function(t,e,r){Qc(t)||this.cache.write({result:t.data,dataId:"ROOT_SUBSCRIPTION",query:e,variables:r})},t.prototype.markMutationInit=function(t){var e,r=this;t.optimisticResponse&&(e="function"==typeof t.optimisticResponse?t.optimisticResponse(t.variables):t.optimisticResponse,this.cache.recordOptimisticTransaction(function(o){var s=r.cache;r.cache=o;try{r.markMutationResult({mutationId:t.mutationId,result:{data:e},document:t.document,variables:t.variables,updateQueries:t.updateQueries,update:t.update})}finally{r.cache=s}},t.mutationId))},t.prototype.markMutationResult=function(t){var e=this;if(!Qc(t.result)){var r=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],o=t.updateQueries;o&&Object.keys(o).forEach(function(s){var i=o[s],a=i.query,n=i.updater,u=e.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),l=u.result;if(u.complete){var c=Xj(function(){return n(l,{mutationResult:t.result,queryName:uk(a.document)||void 0,queryVariables:a.variables})});c&&r.push({result:c,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}),this.cache.performTransaction(function(e){r.forEach(function(t){return e.write(t)});var o=t.update;o&&Xj(function(){return o(e,t.result)})})}},t.prototype.markMutationComplete=function(t){var e=t.mutationId;t.optimisticResponse&&this.cache.removeOptimistic(e)},t.prototype.markUpdateQueryResult=function(t,e,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:e,query:t})},t.prototype.reset=function(){return this.cache.reset()},t}(),Ega="2.6.8",Oj=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=t.cache,o=t.ssrMode,s=void 0!==o&&o,i=t.ssrForceFetchDelay,a=void 0===i?0:i,n=t.connectToDevTools,u=t.queryDeduplication,l=void 0===u||u,c=t.defaultOptions,p=t.assumeImmutableResults,$=void 0!==p&&p,h=t.resolvers,v=t.typeDefs,y=t.fragmentMatcher,f=t.name,d=t.version,m=t.link;if(!m&&h&&(m=Ha.empty()),!m||!r)throw new ga(1);this.link=m,this.cache=r,this.store=new Dga(r),this.disableNetworkFetches=s||a>0,this.queryDeduplication=l,this.defaultOptions=c||{},this.typeDefs=v,a&&setTimeout(function(){return e.disableNetworkFetches=!1},a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==n&&n&&"undefined"!=typeof window&&(window.__APOLLO_CLIENT__=this),this.version=Ega,this.localState=new ey({cache:r,client:this,resolvers:h,fragmentMatcher:y}),this.queryManager=new Cga({link:this.link,store:this.store,queryDeduplication:l,ssrMode:s,clientAwareness:{name:f,version:d},localState:this.localState,assumeImmutableResults:$,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=k(k({},this.defaultOptions.watchQuery),t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=k(k({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=k(k({},this.defaultOptions.query),t)),x("cache-and-network"!==t.fetchPolicy,2),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=k(k({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=k(k({},this.defaultOptions.mutate),t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.cache.writeQuery(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.cache.writeFragment(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeData=function(t){var e=this.cache.writeData(t);return this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return zh(this.link,t)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore()}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return t.reFetchObservableQueries()})},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore()}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(t){return t()}))})},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(e){return e!==t})}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(e){return e!==t})}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t}();zb.default=Oj,zb.isApolloError=$x,zb.ObservableQuery=by,zb.NetworkStatus=Y,zb.FetchType=nc,zb.ApolloError=Bb,zb.ApolloClient=Oj;var hy={};function Zd(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}hy=Zd,Zd.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),o=Math.floor(a*this.jitter*t);t=0==(1&Math.floor(10*a))?t-o:t+o}return 0|Math.min(t,this.max)},Zd.prototype.reset=function(){this.attempts=0},Zd.prototype.setMin=function(t){this.ms=t},Zd.prototype.setMax=function(t){this.max=t},Zd.prototype.setJitter=function(t){this.jitter=t};var Iga={},Jga=Object.prototype.hasOwnProperty,ya="~";function ug(){}function Mga(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function ly(e,t,r,n,$){if("function"!=typeof r)throw new TypeError("The listener must be a function");var v=new Mga(r,n||e,$),a=ya?ya+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],v]:e._events[a].push(v):(e._events[a]=v,e._eventsCount++),e}function Rg(e,t){0==--e._eventsCount?e._events=new ug:delete e._events[t]}function ma(){this._events=new ug,this._eventsCount=0}Object.create&&(ug.prototype=Object.create(null),new ug().__proto__||(ya=!1)),ma.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)Jga.call(e,t)&&r.push(ya?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},ma.prototype.listeners=function(e){var t=ya?ya+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,$=r.length,v=new Array($);n<$;n++)v[n]=r[n].fn;return v},ma.prototype.listenerCount=function(e){var t=ya?ya+e:e,r=this._events[t];return r?r.fn?1:r.length:0},ma.prototype.emit=function(e,t,r,n,$,v){var a=ya?ya+e:e;if(!this._events[a])return!1;var i,J,l=this._events[a],s=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,$),!0;case 6:return l.fn.call(l.context,t,r,n,$,v),!0;}for(J=1,i=new Array(s-1);J<s;J++)i[J-1]=arguments[J];l.fn.apply(l.context,i)}else{var o,f=l.length;for(J=0;J<f;J++)switch(l[J].once&&this.removeListener(e,l[J].fn,void 0,!0),s){case 1:l[J].fn.call(l[J].context);break;case 2:l[J].fn.call(l[J].context,t);break;case 3:l[J].fn.call(l[J].context,t,r);break;case 4:l[J].fn.call(l[J].context,t,r,n);break;default:if(!i)for(o=1,i=new Array(s-1);o<s;o++)i[o-1]=arguments[o];l[J].fn.apply(l[J].context,i);}}return!0},ma.prototype.on=function(e,t,r){return ly(this,e,t,r,!1)},ma.prototype.once=function(e,t,r){return ly(this,e,t,r,!0)},ma.prototype.removeListener=function(e,t,r,n){var $=ya?ya+e:e;if(!this._events[$])return this;if(!t)return Rg(this,$),this;var v=this._events[$];if(v.fn)v.fn!==t||n&&!v.once||r&&v.context!==r||Rg(this,$);else{for(var a=0,i=[],J=v.length;a<J;a++)(v[a].fn!==t||n&&!v[a].once||r&&v[a].context!==r)&&i.push(v[a]);i.length?this._events[$]=1===i.length?i[0]:i:Rg(this,$)}return this},ma.prototype.removeAllListeners=function(e){var t;return e?(t=ya?ya+e:e,this._events[t]&&Rg(this,t)):(this._events=new ug,this._eventsCount=0),this},ma.prototype.off=ma.prototype.removeListener,ma.prototype.addListener=ma.prototype.on,ma.prefixed=ya,ma.EventEmitter=ma,Iga=ma;var oy={};function Rga($){return"string"==typeof $}Object.defineProperty(oy,"__esModule",{value:!0});var ro=Rga;oy.default=ro;var qy={};function Uga(e){return null!==e&&"object"==typeof e}Object.defineProperty(qy,"__esModule",{value:!0});var ry=Uga;qy.default=ry;var go={};Object.defineProperty(go,"__esModule",{value:!0});var v=void 0;go.Kind=v;var Yga=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});v=Yga,go.Kind=v;var uy={};Object.defineProperty(uy,"__esModule",{value:!0});var vy=_ga;uy.getOperationAST=vy;function _ga(e,r){for(var $=null,n=0,t=e.definitions;n<t.length;n++){var a=t[n];if(a.kind===v.OPERATION_DEFINITION)if(r){if(a.name&&a.name.value===r)return a}else{if($)return null;$=a}}return $}var ao={};Object.defineProperty(ao,"__esModule",{value:!0});var bha="graphql-ws",xy=bha;ao.GRAPHQL_WS=xy;var dha="graphql-subscriptions",eha=dha;ao.GRAPHQL_SUBSCRIPTIONS=eha;var yy={};Object.defineProperty(yy,"__esModule",{value:!0});var gha=3e4,zy=gha;yy.WS_TIMEOUT=zy;var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});var jha=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}(),oa=jha;Ay.default=oa;var jc={},Dy=jc&&jc.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nha=jc&&jc.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},oha=jc&&jc.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue;}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(jc,"__esModule",{value:!0});var Ey="undefined"!=typeof aa?aa:"undefined"!=typeof window?window:{},qha=Ey.WebSocket||Ey.MozWebSocket,rha=function(){function e(e,t,n,r){var i=t||{},o=i.connectionCallback,s=void 0===o?void 0:o,a=i.connectionParams,c=void 0===a?{}:a,u=i.timeout,l=void 0===u?zy:u,p=i.reconnect,h=void 0!==p&&p,d=i.reconnectionAttempts,y=void 0===d?1/0:d,$=i.lazy,f=void 0!==$&&$,v=i.inactivityTimeout,m=void 0===v?0:v;if(this.wsImpl=n||qha,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||xy,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=l,this.unsentMessagesQueue=[],this.reconnect=h,this.reconnecting=!1,this.reconnectionAttempts=y,this.lazy=!!f,this.inactivityTimeout=m,this.closedByUser=!1,this.backoff=new hy({jitter:.5}),this.eventEmitter=new Iga.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(c),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,oa.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),i=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[Tx.default]=function(){return this},t.subscribe=function(t,s,a){var c=r(t,s,a);return n=i(e,function(e,t){null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)}),{unsubscribe:function(){n&&(o(n),n=null)}}},t},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(n,r){var i,o,s;i=t.middlewares.slice(),o=t,(s=function(t){if(t)r(t);else if(i.length>0){var a=i.shift();a&&a.applyMiddleware.apply(o,[e,s])}else n(e)})()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise(function(t,n){if("function"==typeof e)try{return t(e.call(null))}catch(r){return n(r)}t(e)})}},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,oa.GQL_START,e))}).catch(function(e){n.unsubscribe(r),t(n.formatErrors(e))}),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.wsTimeout;return new hy({min:1e3,max:e,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(e.operations).length&&e.close()},this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,i=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!ro(n)&&!vy(n,i)||i&&!ro(i)||r&&!ry(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,n){return{id:e,type:t,payload:n&&n.query?Dy({},n,{query:"string"==typeof n.query?n.query:xl(n.query)}):n}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(n){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)));}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,oa.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return nha(e,void 0,void 0,function(){var e,t;return oha(this,function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=n.sent(),this.sendMessage(void 0,oa.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=n.sent(),this.sendMessage(void 0,oa.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2];}})})},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var n=t.data;e.processReceivedData(n)}},e.prototype.processReceivedData=function(e){var t,n;try{n=(t=JSON.parse(e)).id}catch(o){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[oa.GQL_DATA,oa.GQL_COMPLETE,oa.GQL_ERROR].indexOf(t.type)||this.operations[n])switch(t.type){case oa.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case oa.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case oa.GQL_COMPLETE:this.operations[n].handler(null,null),delete this.operations[n];break;case oa.GQL_ERROR:this.operations[n].handler(this.formatErrors(t.payload),null),delete this.operations[n];break;case oa.GQL_DATA:var r=t.payload.errors?Dy({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[n].handler(null,r);break;case oa.GQL_CONNECTION_KEEP_ALIVE:var i=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,i&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!");}else this.unsubscribe(n)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,oa.GQL_STOP,void 0))},e}(),nh=rha;jc.SubscriptionClient=nh;b();var tha=function(t){function i(i){var e=t.call(this)||this;return i instanceof nh?e.subscriptionClient=i:e.subscriptionClient=new nh(i.uri,i.options,i.webSocketImpl),e}return a(i,t),i.prototype.request=function(t){return this.subscriptionClient.request(t)},i}(Ha);function uha(e){return new Ha(function(t,r){var n=bk(t,[]);return new ra(function(o){var $;return Promise.resolve(n).then(function(r){return e(r,t.getContext())}).then(t.setContext).then(function(){$=r(t).subscribe({next:o.next.bind(o),error:o.error.bind(o),complete:o.complete.bind(o)})}).catch(o.error.bind(o)),function(){$&&$.unsubscribe()}})})}b();var vha,Ib={},xha=Ib&&Ib.__decorate||function(e,r,$,o){var l,a=arguments.length,t=a<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,$):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)t=Reflect.decorate(e,r,$,o);else for(var n=e.length-1;n>=0;n--)(l=e[n])&&(t=(a<3?l(t):a>3?l(r,$,t):l(r,$))||t);return a>3&&t&&Object.defineProperty(r,$,t),t},yha=Ib&&Ib.__awaiter||function(e,r,$,o){return new($||($=Promise))(function(l,a){function t(e){try{v(o.next(e))}catch(r){a(r)}}function n(e){try{v(o.throw(e))}catch(r){a(r)}}function v(e){e.done?l(e.value):new $(function(r){r(e.value)}).then(t,n)}v((o=o.apply(e,r||[])).next())})};function Hy(e){for(var r in e)Ib.hasOwnProperty(r)||(Ib[r]=e[r])}Object.defineProperty(Ib,"__esModule",{value:!0});let Aha=vha=class{static forRoot({uri:e,pubsub:r,onRequest:$}={},o={}){const l={};return{module:vha,providers:[{provide:Wx,useValue:o},{provide:Vx,useFactory:()=>new Oj({link:wx(ux([uha(e=>yha(this,void 0,void 0,function*(){const r=$||Xx;return((yield r.call(e))||{}).forEach((e,r)=>{l[r]=e}),{headers:l}})),new Ha((e,r)=>r(e))]),Ul(({query:e})=>{const{kind:r,operation:$}=Og(e);return"OperationDefinition"===r&&"subscription"===$},new tha(new nh(r,{lazy:!0,connectionParams:l,reconnect:!0})),Px({uri:e}))),cache:new Dea})}]}}};var Iy=Aha=vha=xha([Ca.Module({})],Aha);var vn={};Object.defineProperty(vn,"__esModule",{value:!0});function Dha(r){let e;const o=Ca.Container.get("graphql-documents");if(Object.keys(o).filter($=>{-1!==$.indexOf(r)&&(e=o[$])}),!e)throw new Error(`Missing query: ${r}`);return e}var Eha=Dha;vn.importQuery=Eha;Ib.GraphqlModule=Iy,Hy(Oe),Hy(vn);var sh={};Object.defineProperty(sh,"__esModule",{value:!0});var Gha=Hha;function Hha(e,$){if(!Boolean(e))throw new Error($)}sh.default=Gha;var uh={};Object.defineProperty(uh,"__esModule",{value:!0});var Jha=Mha;uh.default=Jha;var My=Lha(Ue);function Lha(e){return e&&e.__esModule?e:{default:e}}function Mha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,My.default&&(e.prototype[My.default]=t)}var vm={};Object.defineProperty(vm,"__esModule",{value:!0});var Oha=Qha;function Pha(t){return(Pha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qha(t){return"object"==Pha(t)&&null!==t}vm.default=Oha;var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});var Gh=Tha;function Tha(e,o){for(var t,$=/\r\n|[\n\r]/g,r=1,n=o+1;(t=$.exec(e.body))&&t.index<o;)r+=1,n=o+1-(t.index+t[0].length);return{line:r,column:n}}Oy.getLocation=Gh;var lm={};Object.defineProperty(lm,"__esModule",{value:!0});var Ry=Xha;lm.printLocation=Ry;var Sy=Ty;lm.printSourceLocation=Sy;function Xha(r){return Ty(r.source,(0,Gh)(r.source,r.start))}function Ty(r,n){var t=r.locationOffset.column-1,o=Jh(t)+r.body,f=n.line-1,$=r.locationOffset.line-1,a=n.line+$,e=1===n.line?t:0,i=n.column+e,c="".concat(r.name,":").concat(a,":").concat(i,"\n"),p=o.split(/\r\n|[\n\r]/g),u=p[f];if(u.length>120){for(var l=Math.floor(i/80),v=i%80,C=[],V=0;V<u.length;V+=80)C.push(u.slice(V,V+80));return c+Uy([["".concat(a),C[0]]].concat(C.slice(1,l+1).map(function(r){return["",r]}),[[" ",Jh(v-1)+"^"],["",C[l+1]]]))}return c+Uy([["".concat(a-1),p[f-1]],["".concat(a),u],["",Jh(i-1)+"^"],["".concat(a+1),p[f+1]]])}function Uy(r){var n=r.filter(function(r){r[0];return void 0!==r[1]}),t=Math.max.apply(Math,n.map(function(r){return r[0].length}));return n.map(function(r){var n=r[0],o=r[1];return _ha(t,n)+(o?" | "+o:" |")}).join("\n")}function Jh(r){return Array(r+1).join(" ")}function _ha(r,n){return Jh(r-n.length)+n}var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});var Xy=Kh;Pl.GraphQLError=Xy;var cia=Zy;Pl.printError=cia;var dia=eia(vm);function eia(r){return r&&r.__esModule?r:{default:r}}function Kh(r,e,o,a,t,c,n){var i=Array.isArray(e)?0!==e.length?e:void 0:e?[e]:void 0,$=o;if(!$&&i){var l=i[0];$=l&&l.loc&&l.loc.source}var u,v=a;!v&&i&&(v=i.reduce(function(r,e){return e.loc&&r.push(e.loc.start),r},[])),v&&0===v.length&&(v=void 0),a&&o?u=a.map(function(r){return(0,Gh)(o,r)}):i&&(u=i.reduce(function(r,e){return e.loc&&r.push((0,Gh)(e.loc.source,e.loc.start)),r},[]));var s=n;if(null==s&&null!=c){var p=c.extensions;(0,dia.default)(p)&&(s=p)}Object.defineProperties(this,{message:{value:r,enumerable:!0,writable:!0},locations:{value:u||void 0,enumerable:Boolean(u)},path:{value:t||void 0,enumerable:Boolean(t)},nodes:{value:i||void 0},source:{value:$||void 0},positions:{value:v||void 0},originalError:{value:c},extensions:{value:s||void 0,enumerable:Boolean(s)}}),c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Kh):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function Zy(r){var e=r.message;if(r.nodes)for(var o=0,a=r.nodes;o<a.length;o++){var t=a[o];t.loc&&(e+="\n\n"+(0,Ry)(t.loc))}else if(r.source&&r.locations)for(var c=0,n=r.locations;c<n.length;c++){var i=n[c];e+="\n\n"+(0,Sy)(r.source,i)}return e}Kh.prototype=Object.create(Error.prototype,{constructor:{value:Kh},name:{value:"GraphQLError"},toString:{value:function(){return Zy(this)}}});var $y={};Object.defineProperty($y,"__esModule",{value:!0});var wa=jia;$y.syntaxError=wa;function jia(r,o,$){return new Xy("Syntax Error: ".concat($),void 0,r,[o])}var ul={};Object.defineProperty(ul,"__esModule",{value:!0});var lia=mia;function mia(t){"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}})}ul.default=lia;var tl={};Object.defineProperty(tl,"__esModule",{value:!0});var Ph=void 0;tl.Source=Ph;var dz=ez(sh),qia=ez(ul);function ez(e){return e&&e.__esModule?e:{default:e}}var fz=function(e,r,$){this.body=e,this.name=r||"GraphQL request",this.locationOffset=$||{line:1,column:1},this.locationOffset.line>0||(0,dz.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,dz.default)(0,"column in locationOffset is 1-indexed and must be positive")};Ph=fz,tl.Source=Ph,(0,qia.default)(fz);var ol={};Object.defineProperty(ol,"__esModule",{value:!0});var g=void 0;ol.TokenKind=g;var via=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});g=via,ol.TokenKind=g;var ll={};Object.defineProperty(ll,"__esModule",{value:!0});var jz=Bia;ll.createLexer=jz;var yia=Eia;ll.isPunctuatorToken=yia;var zia=Aia(uh);function Aia(r){return r&&r.__esModule?r:{default:r}}function Bia(r,e){var a=new T(g.SOF,0,0,0,0,null);return{source:r,options:e,lastToken:a,token:a,line:1,lineStart:0,advance:Cia,lookahead:Dia}}function Cia(){return this.lastToken=this.token,this.token=this.lookahead()}function Dia(){var r=this.token;if(r.kind!==g.EOF)do{r=r.next||(r.next=Hia(this,r))}while(r.kind===g.COMMENT);return r}function Eia(r){var e=r.kind;return e===g.BANG||e===g.DOLLAR||e===g.AMP||e===g.PAREN_L||e===g.PAREN_R||e===g.SPREAD||e===g.COLON||e===g.EQUALS||e===g.AT||e===g.BRACKET_L||e===g.BRACKET_R||e===g.BRACE_L||e===g.PIPE||e===g.BRACE_R}function T(r,e,a,n,$,d,t){this.kind=r,this.start=e,this.end=a,this.line=n,this.column=$,this.value=t,this.prev=d,this.next=null}function cd(r){return isNaN(r)?g.EOF:r<127?JSON.stringify(String.fromCharCode(r)):"\"\\u".concat(("00"+r.toString(16).toUpperCase()).slice(-4),"\"")}function Hia(r,e){var a=r.source,n=a.body,$=n.length,d=Jia(n,e.end,r),t=r.line,o=1+d-r.lineStart;if(d>=$)return new T(g.EOF,$,$,t,o,e);var i=n.charCodeAt(d);switch(i){case 33:return new T(g.BANG,d,d+1,t,o,e);case 35:return Kia(a,d,t,o,e);case 36:return new T(g.DOLLAR,d,d+1,t,o,e);case 38:return new T(g.AMP,d,d+1,t,o,e);case 40:return new T(g.PAREN_L,d,d+1,t,o,e);case 41:return new T(g.PAREN_R,d,d+1,t,o,e);case 46:if(46===n.charCodeAt(d+1)&&46===n.charCodeAt(d+2))return new T(g.SPREAD,d,d+3,t,o,e);break;case 58:return new T(g.COLON,d,d+1,t,o,e);case 61:return new T(g.EQUALS,d,d+1,t,o,e);case 64:return new T(g.AT,d,d+1,t,o,e);case 91:return new T(g.BRACKET_L,d,d+1,t,o,e);case 93:return new T(g.BRACKET_R,d,d+1,t,o,e);case 123:return new T(g.BRACE_L,d,d+1,t,o,e);case 124:return new T(g.PIPE,d,d+1,t,o,e);case 125:return new T(g.BRACE_R,d,d+1,t,o,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ria(a,d,t,o,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Lia(a,d,i,t,o,e);case 34:return 34===n.charCodeAt(d+1)&&34===n.charCodeAt(d+2)?Oia(a,d,t,o,e,r):Nia(a,d,t,o,e);}throw(0,wa)(a,d,Iia(i))}function Iia(r){return r<32&&9!==r&&10!==r&&13!==r?"Cannot contain the invalid character ".concat(cd(r),"."):39===r?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(cd(r),".")}function Jia(r,e,a){for(var n=r.length,$=e;$<n;){var d=r.charCodeAt($);if(9===d||32===d||44===d||65279===d)++$;else if(10===d)++$,++a.line,a.lineStart=$;else{if(13!==d)break;10===r.charCodeAt($+1)?$+=2:++$,++a.line,a.lineStart=$}}return $}function Kia(r,e,a,n,$){var d,t=r.body,o=e;do{d=t.charCodeAt(++o)}while(!isNaN(d)&&(d>31||9===d));return new T(g.COMMENT,e,o,a,n,$,t.slice(e+1,o))}function Lia(r,e,a,n,$,d){var t=r.body,o=a,i=e,c=!1;if(45===o&&(o=t.charCodeAt(++i)),48===o){if((o=t.charCodeAt(++i))>=48&&o<=57)throw(0,wa)(r,i,"Invalid number, unexpected digit after 0: ".concat(cd(o),"."))}else i=Sk(r,i,o),o=t.charCodeAt(i);if(46===o&&(c=!0,o=t.charCodeAt(++i),i=Sk(r,i,o),o=t.charCodeAt(i)),69!==o&&101!==o||(c=!0,43!==(o=t.charCodeAt(++i))&&45!==o||(o=t.charCodeAt(++i)),i=Sk(r,i,o),o=t.charCodeAt(i)),46===o||69===o||101===o)throw(0,wa)(r,i,"Invalid number, expected digit but got: ".concat(cd(o),"."));return new T(c?g.FLOAT:g.INT,e,i,n,$,d,t.slice(e,i))}function Sk(r,e,a){var n=r.body,$=e,d=a;if(d>=48&&d<=57){do{d=n.charCodeAt(++$)}while(d>=48&&d<=57);return $}throw(0,wa)(r,$,"Invalid number, expected digit but got: ".concat(cd(d),"."))}function Nia(r,e,a,n,$){for(var d=r.body,t=e+1,o=t,i=0,c="";t<d.length&&!isNaN(i=d.charCodeAt(t))&&10!==i&&13!==i;){if(34===i)return c+=d.slice(o,t),new T(g.STRING,e,t+1,a,n,$,c);if(i<32&&9!==i)throw(0,wa)(r,t,"Invalid character within String: ".concat(cd(i),"."));if(++t,92===i){switch(c+=d.slice(o,t-1),i=d.charCodeAt(t)){case 34:c+="\"";break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var s=Pia(d.charCodeAt(t+1),d.charCodeAt(t+2),d.charCodeAt(t+3),d.charCodeAt(t+4));if(s<0){var v=d.slice(t+1,t+5);throw(0,wa)(r,t,"Invalid character escape sequence: \\u".concat(v,"."))}c+=String.fromCharCode(s),t+=4;break;default:throw(0,wa)(r,t,"Invalid character escape sequence: \\".concat(String.fromCharCode(i),"."));}o=++t}}throw(0,wa)(r,t,"Unterminated string.")}function Oia(r,e,a,n,$,d){for(var t=r.body,o=e+3,i=o,c=0,s="";o<t.length&&!isNaN(c=t.charCodeAt(o));){if(34===c&&34===t.charCodeAt(o+1)&&34===t.charCodeAt(o+2))return s+=t.slice(i,o),new T(g.BLOCK_STRING,e,o+3,a,n,$,(0,Ax)(s));if(c<32&&9!==c&&10!==c&&13!==c)throw(0,wa)(r,o,"Invalid character within String: ".concat(cd(c),"."));10===c?(++o,++d.line,d.lineStart=o):13===c?(10===t.charCodeAt(o+1)?o+=2:++o,++d.line,d.lineStart=o):92===c&&34===t.charCodeAt(o+1)&&34===t.charCodeAt(o+2)&&34===t.charCodeAt(o+3)?(s+=t.slice(i,o)+"\"\"\"",i=o+=4):++o}throw(0,wa)(r,o,"Unterminated string.")}function Pia(r,e,a,n){return ej(r)<<12|ej(e)<<8|ej(a)<<4|ej(n)}function ej(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function Ria(r,e,a,n,$){for(var d=r.body,t=d.length,o=e+1,i=0;o!==t&&!isNaN(i=d.charCodeAt(o))&&(95===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122);)++o;return new T(g.NAME,e,o,a,n,$,d.slice(e,o))}(0,zia.default)(T,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var Ij={};Object.defineProperty(Ij,"__esModule",{value:!0});var Dj=void 0;Ij.DirectiveLocation=Dj;var Uia=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});Dj=Uia,Ij.DirectiveLocation=Dj;var zg={};Object.defineProperty(zg,"__esModule",{value:!0});var rz=bja;zg.parse=rz;var Xia=cja;zg.parseValue=Xia;var Yia=dja;zg.parseType=Yia;var Zia=Fo(Fg),$ia=Fo(sh),_ia=Fo(uh);function Fo(e){return e&&e.__esModule?e:{default:e}}function bja(e,i){return new zo(e,i).parseDocument()}function cja(e,i){var n=new zo(e,i);n.expectToken(g.SOF);var t=n.parseValueLiteral(!1);return n.expectToken(g.EOF),t}function dja(e,i){var n=new zo(e,i);n.expectToken(g.SOF);var t=n.parseTypeReference();return n.expectToken(g.EOF),t}var zo=function(){function e(e,i){var n="string"==typeof e?new Ph(e):e;n instanceof Ph||(0,$ia.default)(0,"Must provide Source. Received: ".concat((0,Zia.default)(n))),this._lexer=(0,jz)(n),this._options=i||{}}var i=e.prototype;return i.parseName=function(){var e=this.expectToken(g.NAME);return{kind:v.NAME,value:e.value,loc:this.loc(e)}},i.parseDocument=function(){var e=this._lexer.token;return{kind:v.DOCUMENT,definitions:this.many(g.SOF,this.parseDefinition,g.EOF),loc:this.loc(e)}},i.parseDefinition=function(){if(this.peek(g.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension();}else{if(this.peek(g.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},i.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(g.BRACE_L))return{kind:v.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var i,n=this.parseOperationType();return this.peek(g.NAME)&&(i=this.parseName()),{kind:v.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},i.parseOperationType=function(){var e=this.expectToken(g.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription";}throw this.unexpected(e)},i.parseVariableDefinitions=function(){return this.optionalMany(g.PAREN_L,this.parseVariableDefinition,g.PAREN_R)},i.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:v.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(g.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(g.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},i.parseVariable=function(){var e=this._lexer.token;return this.expectToken(g.DOLLAR),{kind:v.VARIABLE,name:this.parseName(),loc:this.loc(e)}},i.parseSelectionSet=function(){var e=this._lexer.token;return{kind:v.SELECTION_SET,selections:this.many(g.BRACE_L,this.parseSelection,g.BRACE_R),loc:this.loc(e)}},i.parseSelection=function(){return this.peek(g.SPREAD)?this.parseFragment():this.parseField()},i.parseField=function(){var e,i,n=this._lexer.token,t=this.parseName();return this.expectOptionalToken(g.COLON)?(e=t,i=this.parseName()):i=t,{kind:v.FIELD,alias:e,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(g.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},i.parseArguments=function(e){var i=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(g.PAREN_L,i,g.PAREN_R)},i.parseArgument=function(){var e=this._lexer.token,i=this.parseName();return this.expectToken(g.COLON),{kind:v.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(e)}},i.parseConstArgument=function(){var e=this._lexer.token;return{kind:v.ARGUMENT,name:this.parseName(),value:(this.expectToken(g.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},i.parseFragment=function(){var e=this._lexer.token;this.expectToken(g.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(g.NAME)?{kind:v.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:v.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},i.parseFragmentDefinition=function(){var e=this._lexer.token;return this.expectKeyword("fragment"),this._options.experimentalFragmentVariables?{kind:v.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:v.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},i.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},i.parseValueLiteral=function(e){var i=this._lexer.token;switch(i.kind){case g.BRACKET_L:return this.parseList(e);case g.BRACE_L:return this.parseObject(e);case g.INT:return this._lexer.advance(),{kind:v.INT,value:i.value,loc:this.loc(i)};case g.FLOAT:return this._lexer.advance(),{kind:v.FLOAT,value:i.value,loc:this.loc(i)};case g.STRING:case g.BLOCK_STRING:return this.parseStringLiteral();case g.NAME:return"true"===i.value||"false"===i.value?(this._lexer.advance(),{kind:v.BOOLEAN,value:"true"===i.value,loc:this.loc(i)}):"null"===i.value?(this._lexer.advance(),{kind:v.NULL,loc:this.loc(i)}):(this._lexer.advance(),{kind:v.ENUM,value:i.value,loc:this.loc(i)});case g.DOLLAR:if(!e)return this.parseVariable();}throw this.unexpected()},i.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:v.STRING,value:e.value,block:e.kind===g.BLOCK_STRING,loc:this.loc(e)}},i.parseList=function(e){var i=this,n=this._lexer.token;return{kind:v.LIST,values:this.any(g.BRACKET_L,function(){return i.parseValueLiteral(e)},g.BRACKET_R),loc:this.loc(n)}},i.parseObject=function(e){var i=this,n=this._lexer.token;return{kind:v.OBJECT,fields:this.any(g.BRACE_L,function(){return i.parseObjectField(e)},g.BRACE_R),loc:this.loc(n)}},i.parseObjectField=function(e){var i=this._lexer.token,n=this.parseName();return this.expectToken(g.COLON),{kind:v.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(i)}},i.parseDirectives=function(e){for(var i=[];this.peek(g.AT);)i.push(this.parseDirective(e));return i},i.parseDirective=function(e){var i=this._lexer.token;return this.expectToken(g.AT),{kind:v.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(i)}},i.parseTypeReference=function(){var e,i=this._lexer.token;return this.expectOptionalToken(g.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(g.BRACKET_R),e={kind:v.LIST_TYPE,type:e,loc:this.loc(i)}):e=this.parseNamedType(),this.expectOptionalToken(g.BANG)?{kind:v.NON_NULL_TYPE,type:e,loc:this.loc(i)}:e},i.parseNamedType=function(){var e=this._lexer.token;return{kind:v.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},i.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===g.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition();}throw this.unexpected(e)},i.peekDescription=function(){return this.peek(g.STRING)||this.peek(g.BLOCK_STRING)},i.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},i.parseSchemaDefinition=function(){var e=this._lexer.token;this.expectKeyword("schema");var i=this.parseDirectives(!0),n=this.many(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);return{kind:v.SCHEMA_DEFINITION,directives:i,operationTypes:n,loc:this.loc(e)}},i.parseOperationTypeDefinition=function(){var e=this._lexer.token,i=this.parseOperationType();this.expectToken(g.COLON);var n=this.parseNamedType();return{kind:v.OPERATION_TYPE_DEFINITION,operation:i,type:n,loc:this.loc(e)}},i.parseScalarTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),t=this.parseDirectives(!0);return{kind:v.SCALAR_TYPE_DEFINITION,description:i,name:n,directives:t,loc:this.loc(e)}},i.parseObjectTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),t=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),s=this.parseFieldsDefinition();return{kind:v.OBJECT_TYPE_DEFINITION,description:i,name:n,interfaces:t,directives:r,fields:s,loc:this.loc(e)}},i.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(g.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(g.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(g.NAME))}return e},i.parseFieldsDefinition=function(){return this._options.allowLegacySDLEmptyFields&&this.peek(g.BRACE_L)&&this._lexer.lookahead().kind===g.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(g.BRACE_L,this.parseFieldDefinition,g.BRACE_R)},i.parseFieldDefinition=function(){var e=this._lexer.token,i=this.parseDescription(),n=this.parseName(),t=this.parseArgumentDefs();this.expectToken(g.COLON);var r=this.parseTypeReference(),s=this.parseDirectives(!0);return{kind:v.FIELD_DEFINITION,description:i,name:n,arguments:t,type:r,directives:s,loc:this.loc(e)}},i.parseArgumentDefs=function(){return this.optionalMany(g.PAREN_L,this.parseInputValueDef,g.PAREN_R)},i.parseInputValueDef=function(){var e=this._lexer.token,i=this.parseDescription(),n=this.parseName();this.expectToken(g.COLON);var t,r=this.parseTypeReference();this.expectOptionalToken(g.EQUALS)&&(t=this.parseValueLiteral(!0));var s=this.parseDirectives(!0);return{kind:v.INPUT_VALUE_DEFINITION,description:i,name:n,type:r,defaultValue:t,directives:s,loc:this.loc(e)}},i.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),t=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:v.INTERFACE_TYPE_DEFINITION,description:i,name:n,directives:t,fields:r,loc:this.loc(e)}},i.parseUnionTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),t=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:v.UNION_TYPE_DEFINITION,description:i,name:n,directives:t,types:r,loc:this.loc(e)}},i.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(g.EQUALS)){this.expectOptionalToken(g.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(g.PIPE))}return e},i.parseEnumTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),t=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:v.ENUM_TYPE_DEFINITION,description:i,name:n,directives:t,values:r,loc:this.loc(e)}},i.parseEnumValuesDefinition=function(){return this.optionalMany(g.BRACE_L,this.parseEnumValueDefinition,g.BRACE_R)},i.parseEnumValueDefinition=function(){var e=this._lexer.token,i=this.parseDescription(),n=this.parseName(),t=this.parseDirectives(!0);return{kind:v.ENUM_VALUE_DEFINITION,description:i,name:n,directives:t,loc:this.loc(e)}},i.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),t=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:v.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:n,directives:t,fields:r,loc:this.loc(e)}},i.parseInputFieldsDefinition=function(){return this.optionalMany(g.BRACE_L,this.parseInputValueDef,g.BRACE_R)},i.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===g.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension();}throw this.unexpected(e)},i.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),n=this.optionalMany(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);if(0===i.length&&0===n.length)throw this.unexpected();return{kind:v.SCHEMA_EXTENSION,directives:i,operationTypes:n,loc:this.loc(e)}},i.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:v.SCALAR_TYPE_EXTENSION,name:i,directives:n,loc:this.loc(e)}},i.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),n=this.parseImplementsInterfaces(),t=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===t.length&&0===r.length)throw this.unexpected();return{kind:v.OBJECT_TYPE_EXTENSION,name:i,interfaces:n,directives:t,fields:r,loc:this.loc(e)}},i.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),n=this.parseDirectives(!0),t=this.parseFieldsDefinition();if(0===n.length&&0===t.length)throw this.unexpected();return{kind:v.INTERFACE_TYPE_EXTENSION,name:i,directives:n,fields:t,loc:this.loc(e)}},i.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),n=this.parseDirectives(!0),t=this.parseUnionMemberTypes();if(0===n.length&&0===t.length)throw this.unexpected();return{kind:v.UNION_TYPE_EXTENSION,name:i,directives:n,types:t,loc:this.loc(e)}},i.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),n=this.parseDirectives(!0),t=this.parseEnumValuesDefinition();if(0===n.length&&0===t.length)throw this.unexpected();return{kind:v.ENUM_TYPE_EXTENSION,name:i,directives:n,values:t,loc:this.loc(e)}},i.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),n=this.parseDirectives(!0),t=this.parseInputFieldsDefinition();if(0===n.length&&0===t.length)throw this.unexpected();return{kind:v.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:n,fields:t,loc:this.loc(e)}},i.parseDirectiveDefinition=function(){var e=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(g.AT);var n=this.parseName(),t=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:v.DIRECTIVE_DEFINITION,description:i,name:n,arguments:t,repeatable:r,locations:s,loc:this.loc(e)}},i.parseDirectiveLocations=function(){this.expectOptionalToken(g.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(g.PIPE));return e},i.parseDirectiveLocation=function(){var e=this._lexer.token,i=this.parseName();if(void 0!==Dj[i.value])return i;throw this.unexpected(e)},i.loc=function(e){if(!this._options.noLocation)return new uz(e,this._lexer.lastToken,this._lexer.source)},i.peek=function(e){return this._lexer.token.kind===e},i.expectToken=function(e){var i=this._lexer.token;if(i.kind===e)return this._lexer.advance(),i;throw(0,wa)(this._lexer.source,i.start,"Expected ".concat(e,", found ").concat(ho(i)))},i.expectOptionalToken=function(e){var i=this._lexer.token;if(i.kind===e)return this._lexer.advance(),i},i.expectKeyword=function(e){var i=this._lexer.token;if(i.kind!==g.NAME||i.value!==e)throw(0,wa)(this._lexer.source,i.start,"Expected \"".concat(e,"\", found ").concat(ho(i)));this._lexer.advance()},i.expectOptionalKeyword=function(e){var i=this._lexer.token;return i.kind===g.NAME&&i.value===e&&(this._lexer.advance(),!0)},i.unexpected=function(e){var i=e||this._lexer.token;return(0,wa)(this._lexer.source,i.start,"Unexpected ".concat(ho(i)))},i.any=function(e,i,n){this.expectToken(e);for(var t=[];!this.expectOptionalToken(n);)t.push(i.call(this));return t},i.optionalMany=function(e,i,n){if(this.expectOptionalToken(e)){var t=[];do{t.push(i.call(this))}while(!this.expectOptionalToken(n));return t}return[]},i.many=function(e,i,n){this.expectToken(e);var t=[];do{t.push(i.call(this))}while(!this.expectOptionalToken(n));return t},e}();function uz(e,i,n){this.start=e.start,this.end=i.end,this.startToken=e,this.endToken=i,this.source=n}function ho(e){var i=e.value;return i?"".concat(e.kind," \"").concat(i,"\""):e.kind}(0,_ia.default)(uz,function(){return{start:this.start,end:this.end}});var hja={},ija=rz;function wz(r){return r.replace(/[\s,]+/g," ").trim()}var Yn={},Sd={};function mja(r){return wz(r.source.body.substring(r.start,r.end))}function nja(){Yn={},Sd={}}var oja=!0;function pja(r){for(var a={},e=[],$=0;$<r.definitions.length;$++){var n=r.definitions[$];if("FragmentDefinition"===n.kind){var t=n.name.value,s=mja(n.loc);Sd.hasOwnProperty(t)&&!Sd[t][s]?(oja&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Sd[t][s]=!0):Sd.hasOwnProperty(t)||(Sd[t]={},Sd[t][s]=!0),a[s]||(a[s]=!0,e.push(n))}else e.push(n)}return r.definitions=e,r}function qja(){oja=!1}function Bn(r,a){var e=Object.prototype.toString.call(r);if("[object Array]"===e)return r.map(function(r){return Bn(r,a)});if("[object Object]"!==e)throw new Error("Unexpected input.");a&&r.loc&&delete r.loc,r.loc&&(delete r.loc.startToken,delete r.loc.endToken);var $,n,t,s=Object.keys(r);for($ in s)s.hasOwnProperty($)&&(n=r[s[$]],"[object Object]"!==(t=Object.prototype.toString.call(n))&&"[object Array]"!==t||(r[s[$]]=Bn(n,!0)));return r}var sja=!1;function tja(r){var a=wz(r);if(Yn[a])return Yn[a];var e=ija(r,{experimentalFragmentVariables:sja});if(!e||"Document"!==e.kind)throw new Error("Not a valid GraphQL document.");return e=Bn(e=pja(e),!1),Yn[a]=e,e}function uja(){sja=!0}function vja(){sja=!1}function id(){for(var r=Array.prototype.slice.call(arguments),a=r[0],e="string"==typeof a?a:a[0],$=1;$<r.length;$++)r[$]&&r[$].kind&&"Document"===r[$].kind?e+=r[$].loc.source.body:e+=r[$],e+=a[$];return tja(e)}id.default=id,id.resetCaches=nja,id.disableFragmentWarnings=qja,id.enableExperimentalFragmentVariables=uja,id.disableExperimentalFragmentVariables=vja,hja=id;function om(r){for(;r;){var e=r,o=e.closed,t=e.destination,$=e.isStopped;if(o||$)return!1;r=t&&t instanceof m?t:null}return!0}function fe(n){return"function"==typeof n}var zja=!1,Wa={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&new Error().stack;zja=e},get useDeprecatedSynchronousErrorHandling(){return zja}};function ge(t){setTimeout(function(){throw t},0)}var qh={closed:!0,next:function(r){},error:function(r){if(Wa.useDeprecatedSynchronousErrorHandling)throw r;ge(r)},complete:function(){}};var ic=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();function Hz(t){return null!==t&&"object"==typeof t}var Fja=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,o){return o+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),Bh=Fja;var W=function(){function r(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}var i;return r.prototype.unsubscribe=function(){var i;if(!this.closed){var t=this._parentOrParents,s=this._unsubscribe,n=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof r)t.remove(this);else if(null!==t)for(var e=0;e<t.length;++e){t[e].remove(this)}if(fe(s))try{s.call(this)}catch(c){i=c instanceof Bh?Kz(c.errors):[c]}if(ic(n)){e=-1;for(var o=n.length;++e<o;){var u=n[e];if(Hz(u))try{u.unsubscribe()}catch(c){i=i||[],c instanceof Bh?i=i.concat(Kz(c.errors)):i.push(c)}}}if(i)throw new Bh(i)}},r.prototype.add=function(i){var t=i;if(!i)return r.EMPTY;switch(typeof i){case"function":t=new r(i);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var s=t;(t=new r)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.");}var n=t._parentOrParents;if(null===n)t._parentOrParents=this;else if(n instanceof r){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[t]:e.push(t),t},r.prototype.remove=function(r){var i=this._subscriptions;if(i){var t=i.indexOf(r);-1!==t&&i.splice(t,1)}},r.EMPTY=((i=new r).closed=!0,i),r}();function Kz(r){return r.reduce(function(r,i){return r.concat(i instanceof Bh?i.errors:i)},[])}var Dh=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();b();var m=function(r){function t(e,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=qh;break;case 1:if(!e){o.destination=qh;break}if("object"==typeof e){e instanceof t?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new Nz(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new Nz(o,e,n,i);}return o}return a(t,r),t.prototype[Dh]=function(){return this},t.create=function(r,e,n){var i=new t(r,e,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(W);var Nz=function(r){function t(t,e,n,i){var o,s=r.call(this)||this;s._parentSubscriber=t;var c=s;return fe(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==qh&&(c=Object.create(e),fe(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=o,s._error=n,s._complete=i,s}return a(t,r),t.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Wa.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},t.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=Wa.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):ge(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;ge(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};Wa.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),Wa.useDeprecatedSynchronousErrorHandling)throw e;ge(e)}},t.prototype.__tryOrSetError=function(r,t,e){if(!Wa.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(n){return Wa.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=n,r.syncErrorThrown=!0,!0):(ge(n),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(m);function Mja(r,e,$){if(r){if(r instanceof m)return r;if(r[Dh])return r[Dh]()}return r||e||$?new m(r,e,$):new m(qh)}var zf=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Oja(r){return r?1===r.length?r[0]:function(e){return r.reduce(function(r,e){return e(r)},e)}:ub}function ub(){}var P=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var o=new r;return o.source=this,o.operator=e,o},r.prototype.subscribe=function(r,e,o){var t=this.operator,n=Mja(r,e,o);if(t?n.add(t.call(n,this.source)):n.add(this.source||Wa.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),Wa.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){Wa.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),om(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var o=this;return new(e=Rz(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(o){t(o),n&&n.unsubscribe()}},t,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[zf]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:Oja(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=Rz(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},r.create=function(e){return new r(e)},r}();function Rz(r){if(r||(r=Wa.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var Sja=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),xd=Sja;b();var Tz=function(t){function e(e,i){var r=t.call(this)||this;return r.subject=e,r.subscriber=i,r.closed=!1,r}return a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(W);b();var Uz=function(r){function t(t){var e=r.call(this,t)||this;return e.destination=t,e}return a(t,r),t}(m);var xa=function(r){function t(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,r),t.prototype[Dh]=function(){return new Uz(this)},t.prototype.lift=function(r){var t=new Wz(this,this);return t.operator=r,t},t.prototype.next=function(r){if(this.closed)throw new xd;if(!this.isStopped)for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].next(r)},t.prototype.error=function(r){if(this.closed)throw new xd;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var t=this.observers,e=t.length,o=t.slice(),i=0;i<e;i++)o[i].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new xd;this.isStopped=!0;for(var r=this.observers,t=r.length,e=r.slice(),o=0;o<t;o++)e[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new xd;return r.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(r){if(this.closed)throw new xd;return this.hasError?(r.error(this.thrownError),W.EMPTY):this.isStopped?(r.complete(),W.EMPTY):(this.observers.push(r),new Tz(this,r))},t.prototype.asObservable=function(){var r=new P;return r.source=this,r},t.create=function(r,t){return new Wz(r,t)},t}(P);var Wz=function(r){function t(t,e){var o=r.call(this)||this;return o.destination=t,o.source=e,o}return a(t,r),t.prototype.next=function(r){var t=this.destination;t&&t.next&&t.next(r)},t.prototype.error=function(r){var t=this.destination;t&&t.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):W.EMPTY},t}(xa);function Yja(){return function(n){return n.lift(new Zja(n))}}b();var Zja=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,e){var t=this.connectable;t._refCount++;var o=new $ja(n,t),r=e.subscribe(o);return o.closed||(o.connection=t.connect()),r},n}(),$ja=function(n){function e(e,t){var o=n.call(this,e)||this;return o.connectable=t,o}return a(e,n),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._refCount;if(e<=0)this.connection=null;else if(n._refCount=e-1,e>1)this.connection=null;else{var t=this.connection,o=n._connection;this.connection=null,!o||t&&o!==t||o.unsubscribe()}}else this.connection=null},e}(m);b();var _ja=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new W).add(this.source.subscribe(new bka(this.getSubject(),this))),e.closed&&(this._connection=null,e=W.EMPTY)),e},t.prototype.refCount=function(){return Yja()(this)},t}(P);var sla=function(){var e=_ja.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();var bka=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(Uz),s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new dka(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),dka=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(m);b();var p=function(){function t(t,e,r,o){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=o}return t.prototype.call=function(t,e){return e.subscribe(new fka(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),fka=function(t){function e(e,r,o,s,i){var n=t.call(this,e)||this;return n.keySelector=r,n.elementSelector=o,n.durationSelector=s,n.subjectSelector=i,n.groups=null,n.attemptedToUnsubscribe=!1,n.count=0,n}return a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var o,s=r.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!s){s=this.subjectSelector?this.subjectSelector():new xa,r.set(e,s);var i=new Zz(e,s,this);if(this.destination.next(i),this.durationSelector){var n=void 0;try{n=this.durationSelector(new Zz(e,s))}catch(u){return void this.error(u)}this.add(n.subscribe(new gka(e,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(m),gka=function(t){function e(e,r,o){var s=t.call(this,r)||this;return s.key=e,s.group=r,s.parent=o,s}return a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(m),Zz=function(t){function e(e,r,o){var s=t.call(this)||this;return s.key=e,s.groupSubject=r,s.refCountSubscription=o,s}return a(e,t),e.prototype._subscribe=function(t){var e=new W,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&e.add(new ika(r)),e.add(o.subscribe(t)),e},e}(P);var ika=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(W);b();var jka=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xd;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(xa);b();var kka=function(t){function r(r,i){return t.call(this)||this}return a(r,t),r.prototype.schedule=function(t,r){return void 0===r&&(r=0),this},r}(W);b();var Xf=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.scheduler=e,n.work=i,n.pending=!1,n}return a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var i=!1,n=void 0;try{this.work(t)}catch(s){i=!0,n=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(kka);b();var mka=function(t){function e(e,r){var s=t.call(this,e,r)||this;return s.scheduler=e,s.work=r,s}return a(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,s){return void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,s):e.flush(this)},e}(Xf);var _z=function(){function e(r,t){void 0===t&&(t=e.now),this.SchedulerAction=r,this.now=t}return e.prototype.schedule=function(e,r,t){return void 0===r&&(r=0),new this.SchedulerAction(this,e).schedule(t,r)},e.now=function(){return Date.now()},e}();b();var dg=function(e){function t(r,i){void 0===i&&(i=_z.now);var c=e.call(this,r,function(){return t.delegate&&t.delegate!==c?t.delegate.now():i()})||this;return c.actions=[],c.active=!1,c.scheduled=void 0,c}return a(t,e),t.prototype.schedule=function(r,i,c){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,i,c):e.prototype.schedule.call(this,r,i,c)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(_z);b();var pka=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return a(r,e),r}(dg);var qka=new pka(mka);var rka,ska;var bA=new P(function(e){return e.complete()});function uka(e){return e?vka(e):bA}function vka(e){return new P(function($){return e.schedule(function(){return $.complete()})})}function cA(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var $=r[r.length-1];return rk($)?(r.pop(),qj(r,$)):yka(r)}function rk(e){return e&&"function"==typeof e.schedule}function yka(r,e){return e?qj(r,e):new P(eA(r))}var eA=function(r){return function(e){for(var o=0,t=r.length;o<t&&!e.closed;o++)e.next(r[o]);e.complete()}};function qj(e,r){return new P(function($){var t=new W,T=0;return t.add(r.schedule(function(){T!==e.length?($.next(e[T++]),$.closed||t.add(this.schedule())):$.complete()})),t})}function Bka(r,e){return e?new P(function($){return e.schedule(Cka,0,{error:r,subscriber:$})}):new P(function(e){return e.error(r)})}function Cka(r){var e=r.error;r.subscriber.error(e)}(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(ska||(rka=ska={},rka));var cc=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete();}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r();}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return cA(this.value);case"E":return Bka(this.error);case"C":return uka();}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();b();var o=function(){function e(e,r){void 0===r&&(r=0),this.scheduler=e,this.delay=r}return e.prototype.call=function(e,r){return r.subscribe(new iA(e,this.scheduler,this.delay))},e}();var iA=function(e){function r(r,t,s){void 0===s&&(s=0);var i=e.call(this,r)||this;return i.scheduler=t,i.delay=s,i}return a(r,e),r.dispatch=function(e){var r=e.notification,t=e.destination;r.observe(t),this.unsubscribe()},r.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(r.dispatch,this.delay,new Gka(e,this.destination)))},r.prototype._next=function(e){this.scheduleMessage(cc.createNext(e))},r.prototype._error=function(e){this.scheduleMessage(cc.createError(e)),this.unsubscribe()},r.prototype._complete=function(){this.scheduleMessage(cc.createComplete()),this.unsubscribe()},r}(m);var Gka=function(){return function(e,r){this.notification=e,this.destination=r}}();b();var Hka=function(e){function t(t,r,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new Ika(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,o=i.length;if(this.closed)throw new xd;if(this.isStopped||this.hasError?t=W.EMPTY:(this.observers.push(e),t=new Tz(this,e)),n&&e.add(e=new iA(e,n)),r)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||qka).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(e-i[o].time<r);)o++;return n>t&&(o=Math.max(o,n-t)),o>0&&i.splice(0,o),i},t}(xa);var Ika=function(){return function(e,t){this.time=e,this.value=t}}();b();var Di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),W.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),W.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(xa);var Kka=1,Vm={};function Mka(e){var $=Vm[e];$&&$()}var lA={setImmediate:function(e){var $=Kka++;return Vm[$]=e,Promise.resolve().then(function(){return Mka($)}),$},clearImmediate:function(e){delete Vm[e]}};b();var Oka=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return a(t,e),t.prototype.requestAsyncId=function(t,r,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t.scheduled||(t.scheduled=lA.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,i);0===t.actions.length&&(lA.clearImmediate(r),t.scheduled=void 0)},t}(Xf);b();var Pka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,i=-1,s=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<s&&(e=r.shift()));if(this.active=!1,t){for(;++i<s&&(e=r.shift());)e.unsubscribe();throw t}},t}(dg);var Dl=new Pka(Oka);var n=new dg(Xf);b();var Ska=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(Xf);b();var Tka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,i=this.actions,r=-1,s=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<s&&(e=i.shift()));if(this.active=!1,t){for(;++r<s&&(e=i.shift());)e.unsubscribe();throw t}},t}(dg);var i=new Tka(Ska);b();var yna=function(e){function t(t,r){void 0===t&&(t=Wka),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return a(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,i=this.maxFrames;(t=r[0])&&t.delay<=i&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(dg);var Wka=function(e){function t(t,r,i){void 0===i&&(i=t.index+=1);var o=e.call(this,t,r)||this;return o.scheduler=t,o.work=r,o.index=i,o.active=!0,o.index=t.index=i,o}return a(t,e),t.prototype.schedule=function(r,i){if(void 0===i&&(i=0),!this.id)return e.prototype.schedule.call(this,r,i);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,i)},t.prototype.requestAsyncId=function(e,r,i){void 0===i&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Xf);function Xka(e){return!!e&&(e instanceof P||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var Yka=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),Dk=Yka;var $ka=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),_ka=$ka;var f=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();function bla(r,e,t){if(e){if(!rk(e))return function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return bla(r,t).apply(void 0,c).pipe(Cc(function(r){return ic(r)?e.apply(void 0,r):e(r)}))};t=e}return function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];var a,l=this,$={context:l,subject:a,callbackFunc:r,scheduler:t};return new P(function(c){if(t){var n={args:e,subscriber:c,params:$};return t.schedule(cla,0,n)}if(!a){a=new Di;try{r.apply(l,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];a.next(r.length<=1?r[0]:r),a.complete()}]))}catch(i){om(a)?a.error(i):console.warn(i)}}return a.subscribe(c)})}}function cla(r){var e=this,t=r.args,c=r.subscriber,a=r.params,l=a.callbackFunc,$=a.context,n=a.scheduler,i=a.subject;if(!i){i=a.subject=new Di;try{l.apply($,t.concat([function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var c=r.length<=1?r[0]:r;e.add(n.schedule(dla,0,{value:c,subject:i}))}]))}catch(u){i.error(u)}}this.add(i.subscribe(c))}function dla(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function Cc(r,t){return function(i){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new fla(r,t))}}b();var fla=function(){function r(r,t){this.project=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new gla(r,this.project,this.thisArg))},r}();var gla=function(r){function t(t,i,e){var o=r.call(this,t)||this;return o.project=i,o.count=0,o.thisArg=e||o,o}return a(t,r),t.prototype._next=function(r){var t;try{t=this.project.call(this.thisArg,r,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)},t}(m);function hla(r,e,t){if(e){if(!rk(e))return function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return hla(r,t).apply(void 0,c).pipe(Cc(function(r){return ic(r)?e.apply(void 0,r):e(r)}))};t=e}return function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];var a={subject:void 0,args:e,callbackFunc:r,scheduler:t,context:this};return new P(function(c){var $=a.context,i=a.subject;if(t)return t.schedule(ila,0,{params:a,subscriber:c,context:$});if(!i){i=a.subject=new Di;try{r.apply($,e.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.shift();t?i.error(t):(i.next(r.length<=1?r[0]:r),i.complete())}]))}catch(n){om(i)?i.error(n):console.warn(n)}}return i.subscribe(c)})}}function ila(r){var e=this,t=r.params,c=r.subscriber,a=r.context,$=t.callbackFunc,i=t.args,n=t.scheduler,o=t.subject;if(!o){o=t.subject=new Di;try{$.apply(a,i.concat([function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var c=r.shift();if(c)e.add(n.schedule(rA,0,{err:c,subject:o}));else{var a=r.length<=1?r[0]:r;e.add(n.schedule(jla,0,{value:a,subject:o}))}}]))}catch(s){this.add(n.schedule(rA,0,{err:s,subject:o}))}}this.add(o.subscribe(c))}function jla(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function rA(r){var e=r.err;r.subject.error(e)}b();var J=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t,r){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(m);function A(e,r,i,$,s){if(void 0===s&&(s=new vc(e,i,$)),!s.closed)return r instanceof P?r.subscribe(s):Yz(r)(s)}b();var vc=function(e){function r(r,t,n){var i=e.call(this)||this;return i.parent=r,i.outerValue=t,i.outerIndex=n,i.index=0,i}return a(r,e),r.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},r.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(m);var ola=function(r){return function(e){return r.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,ge),e}};function pla(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var yc=pla();var Vka=function(r){return function(e){for(var o=r[yc]();;){var t=o.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof o.return&&e.add(function(){o.return&&o.return()}),e}};var Uka=function(e){return function(r){var b=e[zf]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(r)}};var nA=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function hA(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}var Yz=function(e){if(e&&"function"==typeof e[zf])return Uka(e);if(nA(e))return eA(e);if(hA(e))return ola(e);if(e&&"function"==typeof e[yc])return Vka(e);var r=Hz(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};b();var Xz={};var rla=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new aka(t,this.resultSelector))},t}();var aka=function(t){function e(e,r){var i=t.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return a(e,t),e.prototype._next=function(t){this.values.push(Xz),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var i=t[r];this.add(A(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,o){var s=this.values,$=s[r],n=this.toRespond?$===Xz?--this.toRespond:this.toRespond:0;s[r]=e,0===n&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(J);function Zfa(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(i){return i.pipe(Zfa(function(r,i){return Mc(e(r,i)).pipe(Cc(function(e,o){return t(r,e,i,o)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new OR(e,r))})}function Mc(e,r){return r?kea(e,r):e instanceof P?e:new P(Yz(e))}function kea(e,r){if(null!=e){if(Waa(e))return Dda(e,r);if(hA(e))return Cda(e,r);if(nA(e))return qj(e,r);if(YW(e)||"string"==typeof e)return qda(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Dda(e,r){return new P(function(t){var n=new W;return n.add(r.schedule(function(){var d=e[zf]();n.add(d.subscribe({next:function(e){n.add(r.schedule(function(){return t.next(e)}))},error:function(e){n.add(r.schedule(function(){return t.error(e)}))},complete:function(){n.add(r.schedule(function(){return t.complete()}))}}))})),n})}function Cda(e,r){return new P(function(i){var n=new W;return n.add(r.schedule(function(){return e.then(function(e){n.add(r.schedule(function(){i.next(e),n.add(r.schedule(function(){return i.complete()}))}))},function(e){n.add(r.schedule(function(){return i.error(e)}))})})),n})}function qda(e,r){if(!e)throw new Error("Iterable cannot be null");return new P(function(t){var l,n=new W;return n.add(function(){l&&"function"==typeof l.return&&l.return()}),n.add(r.schedule(function(){l=e[yc](),n.add(r.schedule(function(){if(!t.closed){var e,r;try{var n=l.next();e=n.value,r=n.done}catch(o){return void t.error(o)}r?t.complete():(t.next(e),this.schedule())}}))})),n})}function Waa(e){return e&&"function"==typeof e[zf]}function YW(r){return r&&"function"==typeof r[yc]}b();var OR=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new vQ(e,this.project,this.concurrent))},e}();var vQ=function(e){function t(t,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var i=new vc(this,void 0,void 0);this.destination.add(i),A(this,e,t,r,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,i,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(J);var Dla=function(){return Object.prototype.toString}();function $B(e,t,r,o){return fe(r)&&(o=r,r=void 0),o?$B(e,t,r).pipe(Cc(function(e){return ic(e)?o.apply(void 0,e):o(e)})):new P(function(o){ku(e,t,function(e){arguments.length>1?o.next(Array.prototype.slice.call(arguments)):o.next(e)},o,r)})}function ku(e,t,r,o,n){var i;if($P(e)){var v=e;e.addEventListener(t,r,n),i=function(){return v.removeEventListener(t,r,n)}}else if(aQ(e)){var $=e;e.on(t,r),i=function(){return $.off(t,r)}}else if(qZ(e)){var u=e;e.addListener(t,r),i=function(){return u.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,f=e.length;a<f;a++)ku(e[a],t,r,o,n)}o.add(i)}function qZ(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function aQ(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function $P(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function ZP(r,e,t){return t?ZP(r,e).pipe(Cc(function(r){return ic(r)?t.apply(void 0,r):t(r)})):new P(function(t){var i,$=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.next(1===r.length?r[0]:r)};try{i=r($)}catch(n){return void t.error(n)}if(fe(e))return function(){return e($,i)}})}function nP(r){return!ic(r)&&r-parseFloat(r)+1>=0}var Lla=new P(ub);function xw(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(0===r.length)return bA;var t=r[0],$=r.slice(1);return 1===r.length&&ic(t)?xw.apply(void 0,t):new P(function(r){var e=function(){return r.add(xw.apply(void 0,$).subscribe(r))};return Mc(t).subscribe({next:function(e){r.next(e)},error:e,complete:e})})}b();var Nla=function(){function r(r,t){this.predicate=r,this.thisArg=t}return r.prototype.call=function(r,t){return t.subscribe(new GO(r,this.predicate,this.thisArg))},r}(),GO=function(r){function t(t,i,e){var c=r.call(this,t)||this;return c.predicate=i,c.thisArg=e,c.count=0,c}return a(t,r),t.prototype._next=function(r){var t;try{t=this.predicate.call(this.thisArg,r,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(r)},t}(m);b();var Pla=function(){function r(){}return r.prototype.call=function(r,t){return t.subscribe(new EO(r))},r}();var EO=function(r){function t(t){var e=r.call(this,t)||this;return e.hasFirst=!1,e.observables=[],e.subscriptions=[],e}return a(t,r),t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,t=r.length;if(0===t)this.destination.complete();else{for(var e=0;e<t&&!this.hasFirst;e++){var s=r[e],i=A(this,s,s,e);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(r,t,e,s,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==e){var $=this.subscriptions[o];$.unsubscribe(),this.remove($)}this.subscriptions=null}this.destination.next(t)},t}(J);b();var Rla=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new zO(t,this.resultSelector))},t}();var zO=function(t){function e(e,r,o){void 0===o&&(o=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=o,i}return a(e,t),e.prototype._next=function(t){var e=this.iterators;ic(t)?e.push(new cM(t)):"function"==typeof t[yc]?e.push(new kM(t[yc]())):e.push(new _L(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var o=t[r];if(o.stillUnsubscribed)this.destination.add(o.subscribe(o,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,o=0;o<e;o++){if("function"==typeof(s=t[o]).hasValue&&!s.hasValue())return}var i=!1,n=[];for(o=0;o<e;o++){var s,u=(s=t[o]).next();if(s.hasCompleted()&&(i=!0),u.done)return void r.complete();n.push(u.value)}this.resultSelector?this._tryresultSelector(n):r.next(n),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(m);var kM=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),cM=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[yc]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),_L=function(t){function e(e,r,o){var i=t.call(this,e)||this;return i.parent=r,i.observable=o,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return a(e,t),e.prototype[yc]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return A(this,this.observable,this,e)},e}(J);var fd={},ax=fd&&fd.__decorate||function(e,r,t,$){var a,c=arguments.length,q=c<3?r:null===$?$=Object.getOwnPropertyDescriptor(r,t):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(e,r,t,$);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(q=(c<3?a(q):c>3?a(r,t,q):a(r,t))||q);return c>3&&q&&Object.defineProperty(r,t,q),q},DL=fd&&fd.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(fd,"__esModule",{value:!0});let bx=class{query(e){return Mc(this.graphql.query.bind(this.graphql)(e))}mutate(e){return Mc(this.graphql.mutate.bind(this.graphql)(e))}watchQuery(e){return this.graphql.watchQuery(e)}subscribe(e){return Mc(this.graphql.subscribe.bind(this.graphql)(e))}};ax([Ca.Injector(Ib.ApolloClient),DL("design:type",Object)],bx.prototype,"graphql",void 0);var cn=bx=ax([Ca.Injectable()],bx);fd.BaseService=cn;b();var _la=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,r){return r.subscribe(new yL(t,this.durationSelector))},t}(),yL=function(t){function r(r,e){var i=t.call(this,r)||this;return i.durationSelector=e,i.hasValue=!1,i}return a(r,t),r.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var r=void 0;try{r=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var e=A(this,r);!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},r.prototype.clearThrottle=function(){var t=this.value,r=this.hasValue,e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},r.prototype.notifyNext=function(t,r,e,i){this.clearThrottle()},r.prototype.notifyComplete=function(){this.clearThrottle()},r}(J);b();var bma=function(){function r(r){this.closingNotifier=r}return r.prototype.call=function(r,e){return e.subscribe(new lL(r,this.closingNotifier))},r}(),lL=function(r){function e(e,t){var i=r.call(this,e)||this;return i.buffer=[],i.add(A(i,t)),i}return a(e,r),e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(r,e,t,i,u){var $=this.buffer;this.buffer=[],this.destination.next($)},e}(J);b();var dma=function(){function t(t,r){this.bufferSize=t,this.startBufferEvery=r,this.subscriberClass=r&&t!==r?dL:fL}return t.prototype.call=function(t,r){return r.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),fL=function(t){function r(r,e){var i=t.call(this,r)||this;return i.bufferSize=e,i.buffer=[],i}return a(r,t),r.prototype._next=function(t){var r=this.buffer;r.push(t),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},r.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},r}(m),dL=function(t){function r(r,e,i){var u=t.call(this,r)||this;return u.bufferSize=e,u.startBufferEvery=i,u.buffers=[],u.count=0,u}return a(r,t),r.prototype._next=function(t){var r=this.bufferSize,e=this.startBufferEvery,i=this.buffers,u=this.count;this.count++,u%e==0&&i.push([]);for(var n=i.length;n--;){var f=i[n];f.push(t),f.length===r&&(i.splice(n,1),this.destination.next(f))}},r.prototype._complete=function(){for(var r=this.buffers,e=this.destination;r.length>0;){var i=r.shift();i.length>0&&e.next(i)}t.prototype._complete.call(this)},r}(m);b();var gma=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new VK(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),$K=function(){return function(){this.buffer=[]}}(),VK=function(e){function t(t,r,n,i,s){var o=e.call(this,t)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=n,o.maxBufferSize=i,o.scheduler=s,o.contexts=[];var a=o.openContext();if(o.timespanOnly=null==n||n<0,o.timespanOnly){var u={subscriber:o,context:a,bufferTimeSpan:r};o.add(a.closeAction=s.schedule(cx,r,u))}else{var c={subscriber:o,context:a},f={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:o,scheduler:s};o.add(a.closeAction=s.schedule(ex,r,c)),o.add(s.schedule(GK,n,f))}return o}return a(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var s=r[i],o=s.buffer;o.push(e),o.length==this.maxBufferSize&&(t=s)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(cx,r,n))}},t.prototype.openContext=function(){var e=new $K;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(m);function cx(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function GK(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,s=n.openContext();n.closed||(n.add(s.closeAction=i.schedule(ex,r,{subscriber:n,context:s})),this.schedule(e,t))}function ex(e){var t=e.subscriber,r=e.context;t.closeContext(r)}b();var mma=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new lK(t,this.openings,this.closingSelector))},t}(),lK=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.openings=r,o.closingSelector=n,o.contexts=[],o.add(A(o,r)),o}return a(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,o){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(r){this._error(r)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new W,n={buffer:[],subscription:r};e.push(n);var o=A(this,t,n);!o||o.closed?this.closeBuffer(n):(o.context=n,this.add(o),r.add(o))},e}(J);b();var oma=function(){function r(r){this.closingSelector=r}return r.prototype.call=function(r,t){return t.subscribe(new $J(r,this.closingSelector))},r}(),$J=function(r){function t(t,e){var i=r.call(this,t)||this;return i.closingSelector=e,i.subscribing=!1,i.openBuffer(),i}return a(t,r),t.prototype._next=function(r){this.buffer.push(r)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(r,t,e,i,n){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var t,e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];try{t=(0,this.closingSelector)()}catch(i){return this.error(i)}r=new W,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(A(this,t)),this.subscribing=!1},t}(J);function PJ(r){return function(t){var e=new KJ(r),u=t.lift(e);return e.caught=u}}b();var KJ=function(){function r(r){this.selector=r}return r.prototype.call=function(r,t){return t.subscribe(new AJ(r,this.selector,this.caught))},r}(),AJ=function(r){function t(t,e,u){var i=r.call(this,t)||this;return i.selector=e,i.caught=u,i}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(i){return void r.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var u=new vc(this,void 0,void 0);this.add(u),A(this,e,void 0,void 0,u)}},t}(J);b();var tma=function(){function t(t,r){this.predicate=t,this.source=r}return t.prototype.call=function(t,r){return r.subscribe(new xJ(t,this.predicate,this.source))},t}(),xJ=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.predicate=e,n.source=i,n.count=0,n.index=0,n}return a(r,t),r.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},r.prototype._tryPredicate=function(t){var r;try{r=this.predicate(t,this.index++,this.source)}catch(e){return void this.destination.error(e)}r&&this.count++},r.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},r}(m);b();var vma=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new pJ(t,this.durationSelector))},t}(),pJ=function(t){function e(e,r){var i=t.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i.durationSubscription=null,i}return a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=A(this,e))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,i,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(J);b();var xma=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new kJ(e,this.dueTime,this.scheduler))},e}(),kJ=function(e){function t(t,i,u){var r=e.call(this,t)||this;return r.dueTime=i,r.scheduler=u,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(hJ,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(m);function hJ(e){e.debouncedNext()}b();var Ama=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new XI(t,this.defaultValue))},t}(),XI=function(t){function e(e,r){var i=t.call(this,e)||this;return i.defaultValue=r,i.isEmpty=!0,i}return a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(m);b();var Cma=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new NI(t,this.delay,this.scheduler))},t}(),NI=function(t){function e(e,i,r){var s=t.call(this,e)||this;return s.delay=i,s.scheduler=r,s.queue=[],s.active=!1,s.errored=!1,s}return a(e,t),e.dispatch=function(t){for(var e=t.source,i=e.queue,r=t.scheduler,s=t.destination;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var o=Math.max(0,i[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,i=new JI(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(cc.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(cc.createComplete()),this.unsubscribe()},e}(m),JI=function(){return function(t,e){this.time=t,this.notification=e}}();b();var Fma=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new DI(e,this.delayDurationSelector))},e}(),DI=function(e){function t(t,r){var i=e.call(this,t)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return a(t,e),t.prototype.notifyNext=function(e,t,r,i,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var r=this.delayDurationSelector(e,t);r&&this.tryDelay(r,e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var r=A(this,e,t);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(J),Hma=function(e){function t(t,r){var i=e.call(this)||this;return i.source=t,i.subscriptionDelay=r,i}return a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new uI(e,this.source))},t}(P),uI=function(e){function t(t,r){var i=e.call(this)||this;return i.parent=t,i.source=r,i.sourceSubscribed=!1,i}return a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(m);b();var Jma=function(){function e(){}return e.prototype.call=function(e,r){return r.subscribe(new kI(e))},e}(),kI=function(e){function r(r){return e.call(this,r)||this}return a(r,e),r.prototype._next=function(e){e.observe(this.destination)},r}(m);b();var Lma=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new $H(e,this.keySelector,this.flushes))},e}(),$H=function(e){function t(t,r,i){var s=e.call(this,t)||this;return s.keySelector=r,s.values=new Set,i&&s.add(A(s,i)),s}return a(t,e),t.prototype.notifyNext=function(e,t,r,i,s){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(i){return void r.error(i)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(J);b();var Nma=function(){function t(t,r){this.compare=t,this.keySelector=r}return t.prototype.call=function(t,r){return r.subscribe(new NH(t,this.compare,this.keySelector))},t}(),NH=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.keySelector=i,n.hasKey=!1,"function"==typeof e&&(n.compare=e),n}return a(r,t),r.prototype.compare=function(t,r){return t===r},r.prototype._next=function(t){var r;try{var e=this.keySelector;r=e?e(t):t}catch(n){return this.destination.error(n)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,r)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=r,this.destination.next(t))},r}(m);b();var Pma=function(){function r(r){this.errorFactory=r}return r.prototype.call=function(r,t){return t.subscribe(new EH(r,this.errorFactory))},r}(),EH=function(r){function t(t,e){var o=r.call(this,t)||this;return o.errorFactory=e,o.hasValue=!1,o}return a(t,r),t.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(t){r=t}this.destination.error(r)},t}(m);b();var Rma=function(){function t(t){if(this.total=t,this.total<0)throw new Dk}return t.prototype.call=function(t,r){return r.subscribe(new AH(t,this.total))},t}(),AH=function(t){function r(r,e){var n=t.call(this,r)||this;return n.total=e,n.count=0,n}return a(r,t),r.prototype._next=function(t){var r=this.total,e=++this.count;e<=r&&(this.destination.next(t),e===r&&(this.destination.complete(),this.unsubscribe()))},r}(m);b();var Tma=function(){function t(t,r,e){this.predicate=t,this.thisArg=r,this.source=e}return t.prototype.call=function(t,r){return r.subscribe(new wH(t,this.predicate,this.thisArg,this.source))},t}(),wH=function(t){function r(r,e,i,n){var o=t.call(this,r)||this;return o.predicate=e,o.thisArg=i,o.source=n,o.index=0,o.thisArg=i||o,o}return a(r,t),r.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},r.prototype._next=function(t){var r=!1;try{r=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(e){return void this.destination.error(e)}r||this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(m);b();var Vma=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new kH(t))},t}(),kH=function(t){function r(r){var i=t.call(this,r)||this;return i.hasCompleted=!1,i.hasSubscription=!1,i}return a(r,t),r.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(A(this,t)))},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},r.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r}(J);function $G(t,r){return r?function(e){return e.pipe($G(function(e,i){return Mc(t(e,i)).pipe(Cc(function(t,o){return r(e,t,i,o)}))}))}:function(r){return r.lift(new RG(t))}}b();var RG=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new yG(t,this.project))},t}(),yG=function(t){function r(r,e){var i=t.call(this,r)||this;return i.project=e,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return a(r,t),r.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},r.prototype.tryNext=function(t){var r,e=this.index++;try{r=this.project(t,e)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(r,t,e)},r.prototype._innerSub=function(t,r,e){var i=new vc(this,void 0,void 0);this.destination.add(i),A(this,t,r,e,i)},r.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t,r,e,i,o){this.destination.next(r)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},r}(J);b();var $ma=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new pG(t,this.project,this.concurrent,this.scheduler))},t}();var pG=function(t){function e(e,r,i,o){var s=t.call(this,e)||this;return s.project=r,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return a(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,i=t.value,o=t.index;e.subscribeToProjection(r,i,o)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){r.next(t);try{var o=(0,this.project)(t,i);if(this.scheduler){var s={subscriber:this,result:o,value:t,index:i};this.destination.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(o,t,i)}catch(n){r.error(n)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add(A(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,o){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(J);b();var ana=function(){function i(i){this.callback=i}return i.prototype.call=function(i,r){return r.subscribe(new eG(i,this.callback))},i}(),eG=function(i){function r(r,$){var e=i.call(this,r)||this;return e.add(new W($)),e}return a(r,i),r}(m);b();var cna=function(){function r(r,t,e,i){this.predicate=r,this.source=t,this.yieldIndex=e,this.thisArg=i}return r.prototype.call=function(r,t){return t.subscribe(new aG(r,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();var aG=function(r){function t(t,e,i,n,o){var s=r.call(this,t)||this;return s.predicate=e,s.source=i,s.yieldIndex=n,s.thisArg=o,s.index=0,s}return a(t,r),t.prototype.notifyComplete=function(r){var t=this.destination;t.next(r),t.complete(),this.unsubscribe()},t.prototype._next=function(r){var t=this.predicate,e=this.thisArg,i=this.index++;try{t.call(e||this,r,i,this.source)&&this.notifyComplete(this.yieldIndex?i:r)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(m);b();var ena=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new $F(r))},r}(),$F=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return a(e,r),e.prototype._next=function(r){},e}(m);b();var gna=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new XF(t))},t}(),XF=function(t){function r(r){return t.call(this,r)||this}return a(r,t),r.prototype.notifyComplete=function(t){var r=this.destination;r.next(t),r.complete()},r.prototype._next=function(t){this.notifyComplete(!1)},r.prototype._complete=function(){this.notifyComplete(!0)},r}(m);b();var ina=function(){function t(t){if(this.total=t,this.total<0)throw new Dk}return t.prototype.call=function(t,r){return r.subscribe(new RF(t,this.total))},t}(),RF=function(t){function r(r,e){var u=t.call(this,r)||this;return u.total=e,u.ring=new Array,u.count=0,u}return a(r,t),r.prototype._next=function(t){var r=this.ring,e=this.total,u=this.count++;r.length<e?r.push(t):r[u%e]=t},r.prototype._complete=function(){var t=this.destination,r=this.count;if(r>0)for(var e=this.count>=this.total?this.total:this.count,u=this.ring,i=0;i<e;i++){var n=r++%e;t.next(u[n])}t.complete()},r}(m);b();var kna=function(){function r(r){this.value=r}return r.prototype.call=function(r,t){return t.subscribe(new OF(r,this.value))},r}(),OF=function(r){function t(t,e){var $=r.call(this,t)||this;return $.value=e,$}return a(t,r),t.prototype._next=function(r){this.destination.next(this.value)},t}(m);b();var mna=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new LF(t))},t}(),LF=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype._next=function(t){this.destination.next(cc.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(cc.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(cc.createComplete()),t.complete()},e}(m);b();var ona=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new AF(t,this.accumulator,this.seed,this.hasSeed))},t}(),AF=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=i,s.hasSeed=n,s.index=0,s}return a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(m);b();var qna=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new wF(t,this.accumulator,this.seed,this.concurrent))},t}();var wF=function(t){function e(e,r,i,n){var s=t.call(this,e)||this;return s.accumulator=r,s.acc=i,s.concurrent=n,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,t,e)}catch(n){return r.error(n)}this.active++,this._innerSub(i,t,e)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){var i=new vc(this,void 0,void 0);this.destination.add(i),A(this,t,e,r,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,n){var s=this.destination;this.acc=e,this.hasValue=!0,s.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(J);var sna=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,i=this.subjectFactory(),o=r(i).subscribe(t);return o.add(e.subscribe(i)),o},t}();b();var tna=function(){function r(r){this.nextSources=r}return r.prototype.call=function(r,e){return e.subscribe(new jF(r,this.nextSources))},r}(),jF=function(r){function e(e,o){var t=r.call(this,e)||this;return t.destination=e,t.nextSources=o,t}return a(e,r),e.prototype.notifyError=function(r,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(r){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var e=new vc(this,void 0,void 0);this.destination.add(e),A(this,r,void 0,void 0,e)}else this.destination.complete()},e}(J);b();var vna=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new aF(r))},r}(),aF=function(r){function e(e){var i=r.call(this,e)||this;return i.hasPrev=!1,i}return a(e,r),e.prototype._next=function(r){var e;this.hasPrev?e=[this.prev,r]:this.hasPrev=!0,this.prev=r,e&&this.destination.next(e)},e}(m);b();var xna=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new VE(t,this.count,this.source))},t}(),VE=function(t){function e(e,r,i){var $=t.call(this,e)||this;return $.count=r,$.source=i,$}return a(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(m);b();var zna=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new JE(t,this.notifier,e))},t}(),JE=function(t){function e(e,i,r){var s=t.call(this,e)||this;return s.notifier=i,s.source=r,s.sourceIsBeingSubscribedTo=!0,s}return a(e,t),e.prototype.notifyNext=function(t,e,i,r,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new xa;try{e=(0,this.notifier)(this.notifications)}catch(i){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=A(this,e)},e}(J);b();var Bna=function(){function r(r,t){this.count=r,this.source=t}return r.prototype.call=function(r,t){return t.subscribe(new CE(r,this.count,this.source))},r}(),CE=function(r){function t(t,e,i){var o=r.call(this,t)||this;return o.count=e,o.source=i,o}return a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=this.source,i=this.count;if(0===i)return r.prototype.error.call(this,t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}},t}(m);b();var Dna=function(){function r(r,e){this.notifier=r,this.source=e}return r.prototype.call=function(r,e){return e.subscribe(new zE(r,this.notifier,this.source))},r}(),zE=function(r){function e(e,t,i){var s=r.call(this,e)||this;return s.notifier=t,s.source=i,s}return a(e,r),e.prototype.error=function(e){if(!this.isStopped){var t=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{t=new xa;try{i=(0,this.notifier)(t)}catch(u){return r.prototype.error.call(this,u)}s=A(this,i)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=i,this.retriesSubscription=s,t.next(e)}},e.prototype._unsubscribe=function(){var r=this.errors,e=this.retriesSubscription;r&&(r.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(r,e,t,i,s){var u=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=u,this.source.subscribe(this)},e}(J);b();var Fna=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new mE(t),i=e.subscribe(r);return i.add(A(r,this.notifier)),i},t}(),mE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,i,u){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(J);b();var Hna=function(){function e(e,r){this.period=e,this.scheduler=r}return e.prototype.call=function(e,r){return r.subscribe(new dE(e,this.period,this.scheduler))},e}(),dE=function(e){function r(r,i,s){var t=e.call(this,r)||this;return t.period=i,t.scheduler=s,t.hasValue=!1,t.add(s.schedule(TD,i,{subscriber:t,period:i})),t}return a(r,e),r.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},r.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},r}(m);function TD(e){var r=e.subscriber,i=e.period;r.notifyNext(),this.schedule(e,i)}b();var Kna=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new MD(e,this.compareTo,this.comparator))},e}();var MD=function(e){function t(t,r,o){var i=e.call(this,t)||this;return i.compareTo=r,i.comparator=o,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new vD(t,i))),i}return a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;e.length>0&&t.length>0;){var o=e.shift(),i=t.shift(),n=!1;try{n=r?r(o,i):o===i}catch(s){this.destination.error(s)}n||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(m);var vD=function(e){function t(t,r){var o=e.call(this,t)||this;return o.parent=r,o}return a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(m);b();var Nna=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new oD(e,this.predicate,this.source))},e}(),oD=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.predicate=r,n.source=i,n.seenValue=!1,n.index=0,n}return a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new _ka)},t}(m);b();var Pna=function(){function t(t){this.total=t}return t.prototype.call=function(t,r){return r.subscribe(new kD(t,this.total))},t}(),kD=function(t){function r(r,e){var i=t.call(this,r)||this;return i.total=e,i.count=0,i}return a(r,t),r.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},r}(m);b();var Rna=function(){function r(r){if(this._skipCount=r,this._skipCount<0)throw new Dk}return r.prototype.call=function(r,t){return 0===this._skipCount?t.subscribe(new m(r)):t.subscribe(new cD(r,this._skipCount))},r}(),cD=function(r){function t(t,i){var n=r.call(this,t)||this;return n._skipCount=i,n._count=0,n._ring=new Array(i),n}return a(t,r),t.prototype._next=function(r){var t=this._skipCount,i=this._count++;if(i<t)this._ring[i]=r;else{var n=i%t,e=this._ring,s=e[n];e[n]=r,this.destination.next(s)}},t}(m);b();var Tna=function(){function r(r){this.notifier=r}return r.prototype.call=function(r,i){return i.subscribe(new yC(r,this.notifier))},r}(),yC=function(r){function i(i,t){var e=r.call(this,i)||this;e.hasValue=!1;var n=new vc(e,void 0,void 0);return e.add(n),e.innerSubscription=n,A(e,t,void 0,void 0,n),e}return a(i,r),i.prototype._next=function(i){this.hasValue&&r.prototype._next.call(this,i)},i.prototype.notifyNext=function(r,i,t,e,n){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},i.prototype.notifyComplete=function(){},i}(J);b();var Vna=function(){function i(i){this.predicate=i}return i.prototype.call=function(i,r){return r.subscribe(new zB(i,this.predicate))},i}(),zB=function(i){function r(r,t){var e=i.call(this,r)||this;return e.predicate=t,e.skipping=!0,e.index=0,e}return a(r,i),r.prototype._next=function(i){var r=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||r.next(i)},r.prototype.tryCallPredicate=function(i){try{var r=this.predicate(i,this.index++);this.skipping=Boolean(r)}catch(t){this.destination.error(t)}},r}(m);b();var mla=function(e){function r(r,u,i){void 0===u&&(u=0),void 0===i&&(i=Dl);var s=e.call(this)||this;return s.source=r,s.delayTime=u,s.scheduler=i,(!nP(u)||u<0)&&(s.delayTime=0),i&&"function"==typeof i.schedule||(s.scheduler=Dl),s}return a(r,e),r.create=function(e,u,i){return void 0===u&&(u=0),void 0===i&&(i=Dl),new r(e,u,i)},r.dispatch=function(e){var r=e.source,u=e.subscriber;return this.add(r.subscribe(u))},r.prototype._subscribe=function(e){var u=this.delayTime,i=this.source;return this.scheduler.schedule(r.dispatch,u,{source:i,subscriber:e})},r}(P);var Yna=function(){function r(r,e){this.scheduler=r,this.delay=e}return r.prototype.call=function(r,e){return new mla(e,this.delay,this.scheduler).subscribe(r)},r}();function Dka(t,r){return"function"==typeof r?function(i){return i.pipe(Dka(function(i,e){return Mc(t(i,e)).pipe(Cc(function(t,n){return r(i,t,e,n)}))}))}:function(r){return r.lift(new wka(t))}}b();var wka=function(){function t(t){this.project=t}return t.prototype.call=function(t,r){return r.subscribe(new hka(t,this.project))},t}(),hka=function(t){function r(r,i){var e=t.call(this,r)||this;return e.project=i,e.index=0,e}return a(r,t),r.prototype._next=function(t){var r,i=this.index++;try{r=this.project(t,i)}catch(e){return void this.destination.error(e)}this._innerSub(r,t,i)},r.prototype._innerSub=function(t,r,i){var e=this.innerSubscription;e&&e.unsubscribe();var n=new vc(this,void 0,void 0);this.destination.add(n),this.innerSubscription=A(this,t,r,i,n)},r.prototype._complete=function(){var r=this.innerSubscription;r&&!r.closed||t.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=null},r.prototype.notifyComplete=function(r){this.destination.remove(r),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},r.prototype.notifyNext=function(t,r,i,e,n){this.destination.next(r)},r}(J);b();var aoa=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var i=new Aja(e),r=A(i,this.notifier);return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i},e}(),Aja=function(e){function t(t){var i=e.call(this,t)||this;return i.seenValue=!1,i}return a(t,e),t.prototype.notifyNext=function(e,t,i,r,n){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(J);b();var coa=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new Qia(e,this.predicate,this.inclusive))},e}(),Qia=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.predicate=r,n.inclusive=i,n.index=0,n}return a(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void r.error(i)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(m);function Lga(t,r,o){return function(e){return e.lift(new Fga(t,r,o))}}b();var Fga=function(){function t(t,r,o){this.nextOrObserver=t,this.error=r,this.complete=o}return t.prototype.call=function(t,r){return r.subscribe(new uga(t,this.nextOrObserver,this.error,this.complete))},t}(),uga=function(t){function r(r,o,e,i){var n=t.call(this,r)||this;return n._tapNext=ub,n._tapError=ub,n._tapComplete=ub,n._tapError=e||ub,n._tapComplete=i||ub,fe(o)?(n._context=n,n._tapNext=o):o&&(n._context=o,n._tapNext=o.next||ub,n._tapError=o.error||ub,n._tapComplete=o.complete||ub),n}return a(r,t),r.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(r){return void this.destination.error(r)}this.destination.next(t)},r.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},r}(m);b();var hoa=function(){function t(t,i,r){this.durationSelector=t,this.leading=i,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new Nca(t,this.durationSelector,this.leading,this.trailing))},t}(),Nca=function(t){function i(i,r,e,o){var n=t.call(this,i)||this;return n.destination=i,n.durationSelector=r,n._leading=e,n._trailing=o,n._hasValue=!1,n}return a(i,t),i.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},i.prototype.send=function(){var t=this._hasValue,i=this._sendValue;t&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=null},i.prototype.throttle=function(t){var i=this.tryDurationSelector(t);i&&this.add(this._throttled=A(this,i))},i.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(i){return this.destination.error(i),null}},i.prototype.throttlingDone=function(){var t=this._throttled,i=this._trailing;t&&t.unsubscribe(),this._throttled=null,i&&this.send()},i.prototype.notifyNext=function(t,i,r,e,o){this.throttlingDone()},i.prototype.notifyComplete=function(){this.throttlingDone()},i}(J);b();var joa=function(){function t(t,i,e,r){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new Eca(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Eca=function(t){function i(i,e,r,l,n){var a=t.call(this,i)||this;return a.duration=e,a.scheduler=r,a.leading=l,a.trailing=n,a._hasTrailingValue=!1,a._trailingValue=null,a}return a(i,t),i.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(oca,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},i.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},i.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},i}(m);function oca(t){t.subscriber.clearThrottle()}var moa=function(){return function(t,r){this.value=t,this.interval=r}}();b();var noa=function(){function t(t,e,i,h){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=h}return t.prototype.call=function(t,e){return e.subscribe(new Zba(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Zba=function(t){function e(e,i,h,r,u){var s=t.call(this,e)||this;return s.absoluteTimeout=i,s.waitFor=h,s.withObservable=r,s.scheduler=u,s.action=null,s.scheduleTimeout(),s}return a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(A(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(J);var poa=function(){return function(t,$){this.value=t,this.timestamp=$}}();b();var qoa=function(){function o(o){this.windowBoundaries=o}return o.prototype.call=function(o,t){var r=new Vba(o),e=t.subscribe(r);return e.closed||r.add(A(r,this.windowBoundaries)),e},o}(),Vba=function(o){function t(t){var r=o.call(this,t)||this;return r.window=new xa,t.next(r.window),r}return a(t,o),t.prototype.notifyNext=function(o,t,r,e,i){this.openWindow()},t.prototype.notifyError=function(o,t){this._error(o)},t.prototype.notifyComplete=function(o){this._complete()},t.prototype._next=function(o){this.window.next(o)},t.prototype._error=function(o){this.window.error(o),this.destination.error(o)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var o=this.window;o&&o.complete();var t=this.destination,r=this.window=new xa;t.next(r)},t}(J);b();var soa=function(){function t(t,i){this.windowSize=t,this.startWindowEvery=i}return t.prototype.call=function(t,i){return i.subscribe(new Tba(t,this.windowSize,this.startWindowEvery))},t}(),Tba=function(t){function i(i,o,n){var r=t.call(this,i)||this;return r.destination=i,r.windowSize=o,r.startWindowEvery=n,r.windows=[new xa],r.count=0,i.next(r.windows[0]),r}return a(i,t),i.prototype._next=function(t){for(var i=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,o=this.destination,n=this.windowSize,r=this.windows,e=r.length,s=0;s<e&&!this.closed;s++)r[s].next(t);var u=this.count-n+1;if(u>=0&&u%i==0&&!this.closed&&r.shift().complete(),++this.count%i==0&&!this.closed){var w=new xa;r.push(w),o.next(w)}},i.prototype._error=function(t){var i=this.windows;if(i)for(;i.length>0&&!this.closed;)i.shift().error(t);this.destination.error(t)},i.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},i.prototype._unsubscribe=function(){this.count=0,this.windows=null},i}(m);b();var uoa=function(){function e(e,r,i,n){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=i,this.scheduler=n}return e.prototype.call=function(e,r){return r.subscribe(new Lba(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Rba=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return a(r,e),r.prototype.next=function(r){this._numberOfNextedValues++,e.prototype.next.call(this,r)},Object.defineProperty(r.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),r}(xa),Lba=function(e){function r(r,i,n,t,o){var d=e.call(this,r)||this;d.destination=r,d.windowTimeSpan=i,d.windowCreationInterval=n,d.maxWindowSize=t,d.scheduler=o,d.windows=[];var s=d.openWindow();if(null!==n&&n>=0){var u={subscriber:d,window:s,context:null},c={windowTimeSpan:i,windowCreationInterval:n,subscriber:d,scheduler:o};d.add(o.schedule(_x,i,u)),d.add(o.schedule(uba,n,c))}else{var a={subscriber:d,window:s,windowTimeSpan:i};d.add(o.schedule(Kba,i,a))}return d}return a(r,e),r.prototype._next=function(e){for(var r=this.windows,i=r.length,n=0;n<i;n++){var t=r[n];t.closed||(t.next(e),t.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(t))}},r.prototype._error=function(e){for(var r=this.windows;r.length>0;)r.shift().error(e);this.destination.error(e)},r.prototype._complete=function(){for(var e=this.windows;e.length>0;){var r=e.shift();r.closed||r.complete()}this.destination.complete()},r.prototype.openWindow=function(){var e=new Rba;return this.windows.push(e),this.destination.next(e),e},r.prototype.closeWindow=function(e){e.complete();var r=this.windows;r.splice(r.indexOf(e),1)},r}(m);function Kba(e){var r=e.subscriber,i=e.windowTimeSpan,n=e.window;n&&r.closeWindow(n),e.window=r.openWindow(),this.schedule(e,i)}function uba(e){var r=e.windowTimeSpan,i=e.subscriber,n=e.scheduler,t=e.windowCreationInterval,o=i.openWindow(),d={action:this,subscription:null},s={subscriber:i,window:o,context:d};d.subscription=n.schedule(_x,r,s),this.add(d.subscription),this.schedule(e,t)}function _x(e){var r=e.subscriber,i=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),r.closeWindow(i)}b();var Aoa=function(){function t(t,o){this.openings=t,this.closingSelector=o}return t.prototype.call=function(t,o){return o.subscribe(new Laa(t,this.openings,this.closingSelector))},t}(),Laa=function(t){function o(o,e,i){var r=t.call(this,o)||this;return r.openings=e,r.closingSelector=i,r.contexts=[],r.add(r.openSubscription=A(r,e,e)),r}return a(o,t),o.prototype._next=function(t){var o=this.contexts;if(o)for(var e=o.length,i=0;i<e;i++)o[i].window.next(t)},o.prototype._error=function(o){var e=this.contexts;if(this.contexts=null,e)for(var i=e.length,r=-1;++r<i;){var n=e[r];n.window.error(o),n.subscription.unsubscribe()}t.prototype._error.call(this,o)},o.prototype._complete=function(){var o=this.contexts;if(this.contexts=null,o)for(var e=o.length,i=-1;++i<e;){var r=o[i];r.window.complete(),r.subscription.unsubscribe()}t.prototype._complete.call(this)},o.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var o=t.length,e=-1;++e<o;){var i=t[e];i.window.unsubscribe(),i.subscription.unsubscribe()}},o.prototype.notifyNext=function(t,o,e,i,r){if(t===this.openings){var n=void 0;try{n=(0,this.closingSelector)(o)}catch(l){return this.error(l)}var s=new xa,c=new W,u={window:s,subscription:c};this.contexts.push(u);var p=A(this,n,u);p.closed?this.closeWindow(this.contexts.length-1):(p.context=u,c.add(p)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},o.prototype.notifyError=function(t){this.error(t)},o.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},o.prototype.closeWindow=function(t){if(-1!==t){var o=this.contexts,e=o[t],i=e.window,r=e.subscription;o.splice(t,1),i.complete(),r.unsubscribe()}},o}(J);b();var Coa=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,i){return i.subscribe(new zaa(t,this.closingSelector))},t}(),zaa=function(t){function i(i,n){var o=t.call(this,i)||this;return o.destination=i,o.closingSelector=n,o.openWindow(),o}return a(i,t),i.prototype.notifyNext=function(t,i,n,o,r){this.openWindow(r)},i.prototype.notifyError=function(t,i){this._error(t)},i.prototype.notifyComplete=function(t){this.openWindow(t)},i.prototype._next=function(t){this.window.next(t)},i.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},i.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},i.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},i.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var i=this.window;i&&i.complete();var n,o=this.window=new xa;this.destination.next(o);try{n=(0,this.closingSelector)()}catch(r){return this.destination.error(r),void this.window.error(r)}this.add(this.closingNotification=A(this,n))},i}(J);b();var Eoa=function(){function t(t,r){this.observables=t,this.project=r}return t.prototype.call=function(t,r){return r.subscribe(new oaa(t,this.observables,this.project))},t}(),oaa=function(t){function r(r,e,o){var i=t.call(this,r)||this;i.observables=e,i.project=o,i.toRespond=[];var s=e.length;i.values=new Array(s);for(var n=0;n<s;n++)i.toRespond.push(n);for(n=0;n<s;n++){var a=e[n];i.add(A(i,a,a,n))}return i}return a(r,t),r.prototype.notifyNext=function(t,r,e,o,i){this.values[e]=r;var s=this.toRespond;if(s.length>0){var n=s.indexOf(e);-1!==n&&s.splice(n,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(t){if(0===this.toRespond.length){var r=[t].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},r.prototype._tryProject=function(t){var r;try{r=this.project.apply(this,t)}catch(e){return void this.destination.error(e)}this.destination.next(r)},r}(J);var ay={};Object.defineProperty(ay,"__esModule",{value:!0});var vh=new Ca.InjectionToken;ay.DEFAULTS=vh;var Cb={},Tf=Cb&&Cb.__decorate||function(t,e,r,i){var s,o=arguments.length,$=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&($=(o<3?s($):o>3?s(e,r,$):s(e,r))||$);return o>3&&$&&Object.defineProperty(e,r,$),$},Ch=Cb&&Cb.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M$=Cb&&Cb.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cb,"__esModule",{value:!0});const ak=M$(hja);let $f=class extends h.LitElement{constructor(){super(...arguments),this.options={fetch:"",state:new jka({}),render:t=>h.html`
        ${t}
      `,loading:()=>h.html``,error:()=>h.html``,settings:{}},this.loading=!0,this.error="",this.result=new Hka}OnUpdateFirst(){let t;if(this.options.state)Xka(this.options.state)?t=this.options.state:this.result.next(this.options.state);else try{t=this.query()}catch(e){this.result.error(e),this.result.complete()}this.options.subscribe&&(this.pubsubSubscription=this.graphql.subscribe({query:ak.default`
            ${this.options.subscribe}
          `}).subscribe(t=>this.result.next(t),t=>this.result.error(t))),t&&(this.subscription=t.subscribe(t=>{this.result.next(t),this.dispatchEvent(new CustomEvent("onData",{detail:t}))},t=>{t&&t.networkError&&t.networkError.result&&(t.message=`${JSON.stringify(t.networkError.result.errors)} ${t.message}`),this.result.error(t),this.dispatchEvent(new CustomEvent("onError",{detail:t}))}))}OnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.pubsubSubscription&&this.pubsubSubscription.unsubscribe(),this.result.complete()}query(){let t=this.options.fetch;return this.options.settings=this.options.settings||{},this.options.fetch=this.options.fetch||"",this.options.fetch.loc&&this.options.fetch.loc.source&&(t=this.options.fetch.loc.source.body),"string"==typeof t&&t.includes("mutation")?(this.options.settings.mutation=ak.default`
        ${t}
      `,this.graphql.mutate(this.options.settings)):(this.options.settings.query="string"!=typeof t?t:ak.default`
            ${t}
          `,"string"==typeof t&&t.includes("subscription")?this.graphql.subscribe(this.options.settings):this.graphql.query(this.options.settings))}isPrimitive(t){return t!==Object(t)}};Tf([h.property({type:Object}),Ch("design:type",Object)],$f.prototype,"options",void 0),Tf([Ca.Inject(cn),Ch("design:type",cn)],$f.prototype,"graphql",void 0),Tf([h.property({type:Boolean}),Ch("design:type",Object)],$f.prototype,"loading",void 0),Tf([h.property({type:String}),Ch("design:type",Object)],$f.prototype,"error",void 0);var cy=$f=Tf([h.Component({selector:"r-graph",template(){return h.html`
      ${h.async(this.result.pipe(Cc(t=>this.options.render?this.options.render(t,t=>this.result.next(t)):t),Lga(()=>this.loading=!1),PJ(t=>(this.error=t,this.loading=!1,cA("")))))}
      ${this.loading?h.html`
            ${"function"==typeof this.options.loading?this.options.loading():Ca.Container.get(vh).loading()}
          `:""}
      ${this.error?h.html`
            ${"function"==typeof this.options.error?this.options.error(this.error):Ca.Container.get(vh).error(this.error)}
          `:""}
      <slot></slot>
    `}})],$f);Cb.GraphComponent=cy;var nZ,Th={},hZ=Th&&Th.__decorate||function(e,r,$,o){var a,t=arguments.length,p=t<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,$):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,r,$,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(p=(t<3?a(p):t>3?a(r,$,p):a(r,$))||p);return t>3&&p&&Object.defineProperty(r,$,p),p};Object.defineProperty(Th,"__esModule",{value:!0});let YY=nZ=class{static forRoot(e,r={}){return{module:nZ,components:[cy],providers:[{provide:vh,useValue:r}],frameworkImports:[Iy.forRoot(e)]}}};var gy=YY=nZ=hZ([Ca.Module()],YY);Th.GraphModule=gy;var Wd={},RY=Wd&&Wd.__decorate||function(e,r,$,t){var o,a=arguments.length,h=a<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,$):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(e,r,$,t);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(h=(a<3?o(h):a>3?o(r,$,h):o(r,$))||h);return a>3&&h&&Object.defineProperty(r,$,h),h};function Mj(e){for(var r in e)Wd.hasOwnProperty(r)||(Wd[r]=e[r])}Object.defineProperty(Wd,"__esModule",{value:!0});let rY=class{};var iY=rY=RY([Ca.Module({imports:[gy.forRoot(Kg.config,Kg.defaults)]})],rY);Wd.GraphqlModule=iY,Mj(fd),Mj(Cb),Mj(Uc);var Lj={};function HX(e){for(var r in e)Lj.hasOwnProperty(r)||(Lj[r]=e[r])}var $h={};function Xd(r){for(var e in r)$h.hasOwnProperty(e)||($h[e]=r[e])}var Ej={};Object.defineProperty(Ej,"__esModule",{value:!0});var bi="r-component-registry-ready";Ej.RegistryReadyEvent=bi;var gg="r-component-register";Ej.selector=gg;var Yd={},iy=Yd&&Yd.__decorate||function(e,t,r,$){var o,n=arguments.length,a=n<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,$);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},mW=Yd&&Yd.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Yd,"__esModule",{value:!0});let jy=class extends h.LitElement{constructor(){super(...arguments),this.components=[]}OnInit(){window.dispatchEvent(new Event(bi))}register(e){this.components=[...this.components,e]}};iy([h.property({type:Array}),mW("design:type",Object)],jy.prototype,"components",void 0);var _V=jy=iy([h.Component({selector:gg,template(){return h.html`
      <r-for .of=${this.components}>
        <r-let .item=${e=>e}></r-let>
      </r-for>
    `}})],jy);Yd.ComponentRegister=_V,window.addEventListener("load",()=>document.body.append(document.createElement(gg)));var Wc={},IV=Wc&&Wc.__decorate||function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l},xV=Wc&&Wc.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function l(e){try{a(o.next(e))}catch(t){i(t)}}function s(e){try{a(o.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,s)}a((o=o.apply(e,t||[])).next())})};Object.defineProperty(Wc,"__esModule",{value:!0});let xU=class extends h.LitElement{OnUpdateFirst(){return xV(this,void 0,void 0,function*(){const e=this.shadowRoot.querySelector("slot").assignedNodes(),t=this.findNode(e,"r-selector"),n=this.findNode(e,"r-render"),o=this.findNode(e,"r-props");o&&(yield o.requestUpdate());const r=t?t.innerHTML:null;!window.customElements.get(r)&&r&&h.Component({selector:r,template(){return n?n.state(this,e=>Object.assign(this,e)):h.html`
                Missing template
              `}})(class extends h.LitElement{constructor(){super(...arguments),this.loading=!0}static get properties(){return Object.assign(Object.assign({},o.props),{loading:{type:Boolean}})}}),n&&n.remove(),t&&t.remove(),o&&o.remove();const i=this.findNode(e,"script");i&&(yield window.customElements.whenDefined(r),new Function(i.innerHTML).call((yield window.customElements.get(r))),i.remove()),this.remove()})}findNode(e,t){const n=e.find(e=>e&&e.nextSibling&&e.nextSibling.localName===t);return n?n.nextSibling:null}};var ZT=xU=IV([h.Component({selector:"r-component",template:()=>h.html`
    <slot></slot>
  `})],xU);Wc.RComponentOperator=ZT;var vg={},kT=vg&&vg.__decorate||function(e,t,r,l){var $,o=arguments.length,a=o<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,r):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,l);else for(var R=e.length-1;R>=0;R--)($=e[R])&&(a=(o<3?$(a):o>3?$(t,r,a):$(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(vg,"__esModule",{value:!0});let hT=class extends h.LitElement{};var bT=hT=kT([h.Component({selector:"r-key",template:()=>h.html`
    <slot></slot>
  `})],hT);vg.RKeyOperator=bT;var Zc={},vo=Zc&&Zc.__decorate||function(e,t,r,$){var o,a=arguments.length,v=a<3?t:null===$?$=Object.getOwnPropertyDescriptor(t,r):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(e,t,r,$);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(v=(a<3?o(v):a>3?o(t,r,v):o(t,r))||v);return a>3&&v&&Object.defineProperty(t,r,v),v},py=Zc&&Zc.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(Zc,"__esModule",{value:!0});let mo=class extends h.LitElement{};vo([h.property(),py("design:type",String)],mo.prototype,"key",void 0),vo([h.property(),py("design:type",String)],mo.prototype,"type",void 0);var KR=mo=vo([h.Component({selector:"r-prop",template:()=>h.html`
    <slot></slot>
  `})],mo);Zc.RPropOperator=KR;var ef={},hR=ef&&ef.__decorate||function(e,r,t,o){var s,$=arguments.length,p=$<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,r,t,o);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(p=($<3?s(p):$>3?s(r,t,p):s(r,t))||p);return $>3&&p&&Object.defineProperty(r,t,p),p};Object.defineProperty(ef,"__esModule",{value:!0});let dR=class extends h.LitElement{constructor(){super(...arguments),this.props={}}OnUpdateFirst(){this.nodes=this.querySelectorAll("r-prop"),this.nodes.forEach(e=>{const r=e.querySelector("r-key"),t=e.querySelector("r-type"),o=e.key||r.innerHTML;let s=e.type||t.innerHTML;this.isString(s)&&(s=String),this.isNumber(s)&&(s=Number),this.isBoolean(s)&&(s=Boolean),this.isObject(s)&&(s=Object),this.props[o]={type:s}})}OnDestroy(){this.nodes.forEach(e=>e.remove())}isString(e){return"String"===e}isNumber(e){return"Number"===e}isBoolean(e){return"Boolean"===e}isObject(e){return"Object"===e}castToType(e,r){}};var _Q=dR=hR([h.Component({selector:"r-props",template:()=>h.html`
    <slot></slot>
  `})],dR);ef.RPropsOperator=_Q;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});function $O(e){return new Promise(t=>{let r=document.querySelector(gg);if(r)r.register(e),t(r);else{const $=()=>{(r=document.querySelector(gg)).register(e),t(r),window.removeEventListener(bi,$)};window.addEventListener(bi,$)}})}var pN=$O;Mn.Hydrate=pN;var ad={},WM=ad&&ad.__decorate||function(e,t,v,r){var $,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,v):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,v,r);else for(var i=e.length-1;i>=0;i--)($=e[i])&&(a=(o<3?$(a):o>3?$(t,v,a):$(t,v))||a);return o>3&&a&&Object.defineProperty(t,v,a),a},CL=ad&&ad.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(ad,"__esModule",{value:!0});class Vy extends h.LitElement{constructor(){super(...arguments),this.run=()=>null}OnUpdateFirst(){this.remove(),this.run(this)}}WM([h.property({type:Object}),CL("design:type",Function)],Vy.prototype,"run",void 0);var fja=Vy;ad.LitServiceElement=fja;Object.defineProperty($h,"__esModule",{value:!0}),Xd(Wc),Xd(vg),Xd(Zc),Xd(ef),Xd(Mn),Xd(ad);Object.defineProperty(Lj,"__esModule",{value:!0}),HX($h);let bz=class extends h.LitElement{OnUpdateFirst(){this.remove(),this.run.call(this)}getUserById(r){return El({id:r,name:"Kristyian Tachev"}).pipe(ky(2e3)).toPromise()}};vk([h.property(),mda("design:type",Function)],bz.prototype,"run",void 0);var Fha=bz=vk([h.Component({selector:"user-service"})],bz);$a.UserService=Fha;let aha=class extends h.LitElement{};var Lea=aha=vk([h.Component({selector:"r-html-view",template:()=>h.html`
      <r-renderer
        .options=${{state:El({counter:1}).pipe(ky(16e3)),render:(r,e)=>h.html`
              <button
                @click=${()=>e({counter:r.counter+r.counter})}
              >
                Increment
              </button>
              ${r.counter}
            `,loading:()=>h.html`
              <r-part>
                <r-state
                  .value=${wy(100).pipe(gb(r=>r/10))}
                ></r-state>
                <r-render .state=${(r,e)=>` Loading ${r}s...`}></r-render>
              </r-part>
            `,error:()=>h.html`
              Error
            `}}
      ></r-renderer>
      <r-part>
        <r-state .value=${{loading:!0,userId:1,user:{}}}></r-state>
        <r-render
          .state=${({userId:r,loading:e,user:t},$)=>h.html`
            <user-service
              .run=${function(){return Yx(this,void 0,void 0,function*(){$({userId:r,user:yield this.getUserById(r),loading:!1})})}}
            ></user-service>
            <r-if .exp=${e}>
              Loading
            </r-if>
            <r-if .exp=${!e}>
              <p>User id: ${t.id}</p>
              <p>User name: ${t.name}</p>
            </r-if>
          `}
        >
        </r-render>
      </r-part>

      <r-component>
        <r-selector>r-counter</r-selector>
        <r-props>
          <r-prop key="value" type="Number"></r-prop>
        </r-props>
        <r-render
          .state=${(r,e)=>h.html`
            <button
              @click=${()=>e({value:r.value+r.value,loading:!1})}
            >
              Increment
            </button>
            <user-service
              .run=${function(){return Yx(this,void 0,void 0,function*(){e({user:yield this.getUserById(1),loading:!1})})}}
            ></user-service>
            <r-if .exp=${r.loading}>
              Loading...
            </r-if>
            <p>${r.value}</p>
            <p>User: ${JSON.stringify(r.user)}</p>
          `}
        >
        </r-render>
      </r-component>

      <r-counter value="100000"></r-counter>

      <!-- <r-for
        .of=${wy(1e3).pipe(GY((r,e)=>[...r,`Item #${e}`],[]))}
      >
        <r-let
          .item=${r=>h.html`
            <p>${r}</p>
          `}
        ></r-let>
      </r-for> -->

      <r-part>
        <r-state .value=${"Kristiyan Tachev"}></r-state>
        <r-render
          .state=${r=>h.html`
            <p>${r}</p>
          `}
        >
        </r-render>
      </r-part>

      <r-part>
        <r-settings .value=${{fetchPolicy:"cache-first"}}></r-settings>
        <r-fetch .query=${"{ continents { name } }"}></r-fetch>
        <r-render
          .state=${({data:{continents:r}})=>h.html`
            <r-for .of=${r}>
              <r-let .item=${({name:r})=>r}></r-let>
            </r-for>
          `}
        >
        </r-render>
      </r-part>

      <r-part>
        <r-fetch .subscribe=${"{ notifications { appUpdated } }"}></r-fetch>
        <r-render
          .state=${({data:{notifications:{appUpdated:r}}},e)=>h.html`
            <p>${r}</p>
            <button
              @click=${()=>{e({data:{notifications:{appUpdated:Number(r)+Number(r)}}})}}
            >
              Increment Subscriptions State x2
            </button>
            <p>
              <r-pesho
                pesho=${r}
                pesho2="1"
                pesho3="az sym 1"
              ></r-pesho>
            </p>

            <p>
              <r-pesho
                pesho=${r}
                pesho2="2"
                pesho3="az sym 2"
              ></r-pesho>
            </p>
            <p>
              <r-pesho
                pesho=${r}
                pesho2="3"
                pesho3="az sym 3"
              ></r-pesho>
            </p>
            (will be overriten when server emit new state)
          `}
        >
        </r-render>
      </r-part>

      <r-component>
        <r-selector>r-pesho</r-selector>
        <r-props>
          <r-prop key="pesho" type="Number"></r-prop>
          <r-prop key="pesho2" type="Boolean"></r-prop>
          <r-prop key="pesho3" type="String"></r-prop>
        </r-props>
        <r-render
          .state=${r=>h.html`
            ${r.pesho} | ${r.pesho2} | ${r.pesho3}
          `}
        >
        </r-render>
      </r-component>
    `})],aha);$a.RHtmlViewComponent=Lea;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=$a}else if(typeof define==="function"&&define.amd){define(function(){return $a})}})();